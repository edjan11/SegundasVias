diff --git a/segundas-vias/.gitignore b/segundas-vias/.gitignore
index e44c0e5..a98c350 100644
--- a/segundas-vias/.gitignore
+++ b/segundas-vias/.gitignore
@@ -4,3 +4,8 @@ node_modules/
 *.temp
 .DS_Store
 Thumbs.db
+# Generated bundles and build
+ui/js/*.bundle.js
+ui/js/*.bundle.js.map
+dist-src/
+build.js
diff --git a/segundas-vias/README.md b/segundas-vias/README.md
index 47120ea..baad814 100644
--- a/segundas-vias/README.md
+++ b/segundas-vias/README.md
@@ -10,11 +10,13 @@ npm start         # compila TS e abre o Electron
 ```
 
 ## O que vem pronto
+
 - Bandeja com opções de abrir painel, sempre no topo e sair.
 - Painel flutuante com campos para colar dados brutos, pré-visualizar JSON/XML e salvar arquivos na pasta local (configurável).
 - Persistência simples da pasta de saída (em `userData`).
 
 ## Próximos passos sugeridos
+
 - Ajustar o parser de entrada conforme o formato gerado pelos scripts Tampermonkey.
 - Personalizar o layout/cores/ícones.
 - Adicionar atalhos globais se quiser abrir/ocultar via teclado.
diff --git a/segundas-vias/build.js b/segundas-vias/build.js
index 210d8ff..619f576 100644
--- a/segundas-vias/build.js
+++ b/segundas-vias/build.js
@@ -12,11 +12,28 @@ const options = {
   platform: 'browser',
   format: 'iife',
   globalName: 'SegundasViasBundle',
-  outfile: 'dist/app.bundle.js'
+  outfile: 'dist/app.bundle.js',
 };
 
 if (watch) {
-  esbuild.build({ ...options, watch: { onRebuild(error, result) { if (error) console.error('Build failed:', error); else console.log('Build succeeded'); } } }).then(() => console.log('Watching...')).catch(() => process.exit(1));
+  esbuild
+    .build({
+      ...options,
+      watch: {
+        onRebuild(error, result) {
+          if (error) console.error('Build failed:', error);
+          else console.log('Build succeeded');
+        },
+      },
+    })
+    .then(() => console.log('Watching...'))
+    .catch(() => process.exit(1));
 } else {
-  esbuild.build(options).then(() => console.log('Build written to dist/app.bundle.js')).catch((e) => { console.error(e); process.exit(1); });
+  esbuild
+    .build(options)
+    .then(() => console.log('Build written to dist/app.bundle.js'))
+    .catch((e) => {
+      console.error(e);
+      process.exit(1);
+    });
 }
diff --git a/segundas-vias/dist-src/db.js b/segundas-vias/dist-src/db.js
index f1d556f..18fad35 100644
--- a/segundas-vias/dist-src/db.js
+++ b/segundas-vias/dist-src/db.js
@@ -1,7 +1,6 @@
-// @ts-nocheck
-const fs = require('fs');
-const path = require('path');
-const crypto = require('crypto');
+import fs from 'fs';
+import path from 'path';
+import crypto from 'crypto';
 const DB_VERSION = 1;
 let dbFile = '';
 function nowIso() {
@@ -28,7 +27,7 @@ function ensureDb() {
         version: DB_VERSION,
         createdAt: nowIso(),
         updatedAt: nowIso(),
-        certidoes: []
+        certidoes: [],
     };
     fs.writeFileSync(dbFile, JSON.stringify(seed, null, 2), 'utf8');
 }
@@ -41,12 +40,14 @@ function readDb() {
             return parsed;
         }
     }
-    catch { }
+    catch (e) {
+        void e;
+    }
     return {
         version: DB_VERSION,
         createdAt: nowIso(),
         updatedAt: nowIso(),
-        certidoes: []
+        certidoes: [],
     };
 }
 function writeDb(db) {
@@ -57,7 +58,7 @@ function saveDraft(payload) {
     const db = readDb();
     const now = nowIso();
     const id = payload && payload.id ? String(payload.id) : '';
-    let record = id ? db.certidoes.find(r => r.id === id) : null;
+    let record = id ? db.certidoes.find((r) => r.id === id) : null;
     if (!record) {
         record = {
             id: makeId(),
@@ -67,7 +68,7 @@ function saveDraft(payload) {
             data: payload && payload.data ? payload.data : {},
             status: 'draft',
             createdAt: now,
-            updatedAt: now
+            updatedAt: now,
         };
         db.certidoes.push(record);
     }
@@ -93,7 +94,7 @@ function ingest(payload) {
         data: payload && payload.data ? payload.data : {},
         status: (payload && payload.status) || 'new',
         createdAt: now,
-        updatedAt: now
+        updatedAt: now,
     };
     db.certidoes.push(record);
     writeDb(db);
@@ -103,17 +104,17 @@ function list(payload) {
     const db = readDb();
     const limit = payload && payload.limit ? Number(payload.limit) : 50;
     const offset = payload && payload.offset ? Number(payload.offset) : 0;
-    return db.certidoes.slice(offset, offset + limit).map(r => ({
+    return db.certidoes.slice(offset, offset + limit).map((r) => ({
         id: r.id,
         kind: r.kind,
         status: r.status,
         createdAt: r.createdAt,
-        updatedAt: r.updatedAt
+        updatedAt: r.updatedAt,
     }));
 }
 function getById(id) {
     const db = readDb();
-    return db.certidoes.find(r => r.id === id) || null;
+    return db.certidoes.find((r) => r.id === id) || null;
 }
 function updateStatus(payload) {
     const db = readDb();
@@ -121,7 +122,7 @@ function updateStatus(payload) {
     const status = payload && payload.status ? String(payload.status) : '';
     if (!id || !status)
         return null;
-    const record = db.certidoes.find(r => r.id === id);
+    const record = db.certidoes.find((r) => r.id === id);
     if (!record)
         return null;
     record.status = status;
@@ -135,5 +136,5 @@ module.exports = {
     ingest,
     list,
     getById,
-    updateStatus
+    updateStatus,
 };
diff --git a/segundas-vias/dist-src/main.js b/segundas-vias/dist-src/main.js
index b4c803f..313ccfa 100644
--- a/segundas-vias/dist-src/main.js
+++ b/segundas-vias/dist-src/main.js
@@ -1,10 +1,9 @@
-// @ts-nocheck
-const path = require('path');
-const fs = require('fs');
+import path from 'path';
+import fs from 'fs';
 const { spawn } = require('child_process');
-const db = require('./db');
+import db from './db';
 function ensureElectron() {
-    const mod = require('electron');
+    import mod from 'electron';
     const isElectronRuntime = !!(process.versions && process.versions.electron);
     const procType = process.type || 'node';
     console.log('[segundas-vias] electron?', typeof mod, 'versions.electron=', process.versions.electron, 'type=', procType, 'runAsNode=', process.env.ELECTRON_RUN_AS_NODE);
@@ -14,7 +13,7 @@ function ensureElectron() {
         return mod;
     if (isElectronRuntime) {
         try {
-            const mainMod = require('electron/main');
+            import mainMod from 'electron/main';
             if (mainMod && mainMod.app)
                 return mainMod;
         }
@@ -34,7 +33,7 @@ function ensureElectron() {
     delete env.ELECTRON_RUN_AS_NODE;
     const child = spawn(electronBin, process.argv.slice(1), {
         stdio: 'inherit',
-        env
+        env,
     });
     child.on('error', (err) => {
         console.error('[segundas-vias] falha ao relancar Electron:', err?.message || err);
@@ -54,9 +53,13 @@ try {
     try {
         process.title = '2 Via';
     }
-    catch { }
+    catch (e) {
+        void e;
+    }
+}
+catch (e) {
+    void e;
 }
-catch { }
 // ========================================
 // CONFIG SIMPLES
 // ========================================
@@ -154,7 +157,9 @@ const TRAY_ICON = (() => {
                     return img;
             }
         }
-        catch { }
+        catch (e) {
+            void e;
+        }
     }
     const base64 = 'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABE0lEQVR4nO3XwQnCMBBA0Y8URqVE0iEcyPHff4O89ByiDubKXZOr79ouW4HGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYKDTx2gWQCMIJBCIIQQiCMEIgjBCIIwQgCMIIQgiiAEEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMCIRFgBrz5b2M6iWRtxkbSZZGlpZvWoN1qDbqvu4d3lPvId7mXvId5i7yHeZr/8fyR/7P12uwYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBl4AbA0X9WZCGl8AAAAASUVORK5CYII=';
     return nativeImage.createFromDataURL(`data:image/png;base64,${base64}`);
@@ -180,15 +185,19 @@ function createMainWindow() {
         webPreferences: {
             preload: path.join(__dirname, 'preload.js'),
             contextIsolation: true,
-            nodeIntegration: false
-        }
+            nodeIntegration: false,
+        },
     });
     const uiPath = path.join(__dirname, '..', 'ui', 'pages', 'Nascimento2Via.html');
-    win.loadFile(uiPath).catch((err) => console.error('[segundas-vias] erro ao carregar UI:', err));
+    win
+        .loadFile(uiPath)
+        .catch((err) => console.error('[segundas-vias] erro ao carregar UI:', err));
     try {
         win.center();
     }
-    catch { }
+    catch (e) {
+        void e;
+    }
     win.on('ready-to-show', () => {
         try {
             console.log('[segundas-vias] ready-to-show');
@@ -226,20 +235,28 @@ function updateTrayMenu() {
                     mainWindow.setAlwaysOnTop(next);
                 }
                 updateTrayMenu();
-            }
+            },
         },
         {
             label: 'Pasta de saida',
             click: async () => {
-                const res = await dialog.showOpenDialog({ properties: ['openDirectory', 'createDirectory'] });
+                const res = await dialog.showOpenDialog({
+                    properties: ['openDirectory', 'createDirectory'],
+                });
                 if (!res.canceled && res.filePaths && res.filePaths[0]) {
                     setOutputDir(res.filePaths[0]);
                 }
-            }
+            },
         },
         { label: 'Abrir pasta de saida', click: () => shell.openPath(getOutputDir()) },
         { type: 'separator' },
-        { label: 'Sair', click: () => { app.isQuiting = true; app.quit(); } }
+        {
+            label: 'Sair',
+            click: () => {
+                app.isQuiting = true;
+                app.quit();
+            },
+        },
     ]);
     tray.setContextMenu(menu);
 }
@@ -258,7 +275,7 @@ ipcMain.handle('app:get-config', async () => {
         outputDir: getOutputDir(),
         jsonDir: getJsonDir(),
         xmlDir: getXmlDir(),
-        alwaysOnTop: getAlwaysOnTop()
+        alwaysOnTop: getAlwaysOnTop(),
     };
 });
 ipcMain.handle('app:set-output-dir', async () => {
@@ -369,7 +386,9 @@ function sanitizeFilename(name) {
 // ========================================
 // APP
 // ========================================
-app.whenReady().then(() => {
+app
+    .whenReady()
+    .then(() => {
     console.log('[segundas-vias] app ready, criando tray e janela');
     try {
         db.initDb(app.getPath('userData'));
@@ -384,7 +403,8 @@ app.whenReady().then(() => {
     tray.on('click', () => showWindow());
     tray.on('double-click', () => showWindow());
     console.log('[segundas-vias] iniciado');
-}).catch(err => {
+})
+    .catch((err) => {
     console.error('[segundas-vias] erro ao iniciar', err);
 });
 app.on('window-all-closed', (e) => {
diff --git a/segundas-vias/dist-src/preload.js b/segundas-vias/dist-src/preload.js
index c8a72bd..2160a5c 100644
--- a/segundas-vias/dist-src/preload.js
+++ b/segundas-vias/dist-src/preload.js
@@ -1,4 +1,3 @@
-// @ts-nocheck
 const { contextBridge, ipcRenderer } = require('electron');
 contextBridge.exposeInMainWorld('api', {
     getConfig: () => ipcRenderer.invoke('app:get-config'),
@@ -16,5 +15,5 @@ contextBridge.exposeInMainWorld('api', {
     dbIngest: (payload) => ipcRenderer.invoke('db:ingest', payload),
     dbList: (payload) => ipcRenderer.invoke('db:list', payload),
     dbGet: (id) => ipcRenderer.invoke('db:get', id),
-    dbUpdateStatus: (payload) => ipcRenderer.invoke('db:update-status', payload)
+    dbUpdateStatus: (payload) => ipcRenderer.invoke('db:update-status', payload),
 });
diff --git a/segundas-vias/dist-src/ui.js b/segundas-vias/dist-src/ui.js
index 1ea1c36..4f883ff 100644
--- a/segundas-vias/dist-src/ui.js
+++ b/segundas-vias/dist-src/ui.js
@@ -1,4 +1,3 @@
-// @ts-nocheck
 'use strict';
 const state = {
     certidao: {
@@ -11,7 +10,7 @@ const state = {
         cod_selo: '',
         modalidade: 'eletronica',
         cota_emolumentos: '',
-        cota_emolumentos_isento: false
+        cota_emolumentos_isento: false,
     },
     registro: {
         nome_completo: '',
@@ -32,7 +31,7 @@ const state = {
         sexo_outros: '',
         gemeos: { quantidade: '' },
         numero_dnv: '',
-        averbacao_anotacao: ''
+        averbacao_anotacao: '',
     },
     ui: {
         gemeos_irmao_raw: '',
@@ -52,8 +51,8 @@ const state = {
         pai_uf: '',
         pai_cidade: '',
         pai_avo_paterna: '',
-        pai_avo_paterno: ''
-    }
+        pai_avo_paterno: '',
+    },
 };
 let lastSavedSnapshot = '';
 let lastSavedId = '';
@@ -144,7 +143,8 @@ function bindInputs() {
             }
             if (path === 'registro.sexo')
                 updateSexoOutros();
-            if (path === 'registro.data_nascimento_ignorada' || path === 'registro.hora_nascimento_ignorada') {
+            if (path === 'registro.data_nascimento_ignorada' ||
+                path === 'registro.hora_nascimento_ignorada') {
                 updateIgnoreFields();
             }
             if (path === 'registro.cpf')
@@ -155,7 +155,10 @@ function bindInputs() {
                 applyCartorioChange();
             if (path === 'registro.data_registro')
                 updateMatricula();
-            if (path === 'ui.casamento_tipo' || path === 'ui.matricula_livro' || path === 'ui.matricula_folha' || path === 'ui.matricula_termo') {
+            if (path === 'ui.casamento_tipo' ||
+                path === 'ui.matricula_livro' ||
+                path === 'ui.matricula_folha' ||
+                path === 'ui.matricula_termo') {
                 updateMatricula();
             }
             if (path === 'ui.naturalidade_diferente')
@@ -184,7 +187,7 @@ function updateTipoButtons() {
         btnC.classList.toggle('active', tipo === 'casamento');
     if (btnO)
         btnO.classList.toggle('active', tipo === 'obito');
-    const input = document.querySelector('[data-bind=\"certidao.tipo_registro\"]');
+    const input = document.querySelector('[data-bind="certidao.tipo_registro"]');
     if (input)
         input.value = tipo;
     const casamentoWrap = document.getElementById('casamento-tipo-wrap');
@@ -248,7 +251,7 @@ function rememberNaturalidadeEdit() {
     naturalidadeEdited = true;
     naturalidadeMemo = {
         city: trimValue(state.registro.municipio_naturalidade),
-        uf: trimValue(state.registro.uf_naturalidade)
+        uf: trimValue(state.registro.uf_naturalidade),
     };
 }
 function copyBirthToNaturalidade() {
@@ -281,7 +284,9 @@ function updateNaturalidadeVisibility(fromToggle) {
     const labelCity = document.getElementById('label-municipio-principal');
     const labelUf = document.getElementById('label-uf-principal');
     if (labelCity) {
-        labelCity.textContent = isDifferent ? 'Municipio de nascimento' : 'Municipio (nascimento e naturalidade)';
+        labelCity.textContent = isDifferent
+            ? 'Municipio de nascimento'
+            : 'Municipio (nascimento e naturalidade)';
     }
     if (labelUf) {
         labelUf.textContent = isDifferent ? 'UF de nascimento' : 'UF (nascimento e naturalidade)';
@@ -300,7 +305,7 @@ function updateNaturalidadeVisibility(fromToggle) {
     else {
         naturalidadeMemo = {
             city: trimValue(state.registro.municipio_naturalidade),
-            uf: trimValue(state.registro.uf_naturalidade)
+            uf: trimValue(state.registro.uf_naturalidade),
         };
         syncNaturalidadeLockedToBirth();
     }
@@ -351,7 +356,7 @@ const CNS_CARTORIOS = {
     '12': '110064',
     '13': '109736',
     '14': '110635',
-    '15': '110072'
+    '15': '110072',
 };
 function dvMatricula(base30) {
     let s1 = 0;
@@ -503,14 +508,18 @@ function trimValue(value) {
 function parseLines(raw, mapper) {
     if (!raw)
         return [];
-    return raw.split(/\r?\n/).map((l) => l.trim()).filter(Boolean).map(mapper);
+    return raw
+        .split(/\r?\n/)
+        .map((l) => l.trim())
+        .filter(Boolean)
+        .map(mapper);
 }
 function parseIrmaos(raw) {
     return parseLines(raw, (line) => {
         const parts = line.split('|');
         return {
             nome: trimValue(parts[0]),
-            matricula: trimValue(parts[1])
+            matricula: trimValue(parts[1]),
         };
     });
 }
@@ -522,7 +531,7 @@ function parseAnotacoes(raw) {
             documento: trimValue(parts[1]),
             orgao_emissor: trimValue(parts[2]),
             uf_emissao: trimValue(parts[3]),
-            data_emissao: trimValue(parts[4])
+            data_emissao: trimValue(parts[4]),
         };
     });
 }
@@ -539,7 +548,7 @@ function buildFiliacaoItem(nome, cidade, uf, avo1, avo2) {
         nome: n,
         municipio_nascimento: c,
         uf_nascimento: u,
-        avos
+        avos,
     };
 }
 function normalizeData() {
@@ -569,7 +578,7 @@ function normalizeData() {
         cod_selo: trimValue(cert.cod_selo),
         modalidade: trimValue(cert.modalidade),
         cota_emolumentos: trimValue(cert.cota_emolumentos),
-        cota_emolumentos_isento: !!cert.cota_emolumentos_isento
+        cota_emolumentos_isento: !!cert.cota_emolumentos_isento,
     };
     const filiacao = [];
     const mae = buildFiliacaoItem(state.ui.mae_nome, state.ui.mae_cidade, state.ui.mae_uf, state.ui.mae_avo_materna, state.ui.mae_avo_materno);
@@ -607,12 +616,12 @@ function normalizeData() {
         sexo: trimValue(reg.sexo),
         gemeos: {
             quantidade: trimValue(reg.gemeos.quantidade),
-            irmao: parseIrmaos(state.ui.gemeos_irmao_raw)
+            irmao: parseIrmaos(state.ui.gemeos_irmao_raw),
         },
         filiacao,
         numero_dnv: trimValue(reg.numero_dnv),
         averbacao_anotacao: trimValue(reg.averbacao_anotacao),
-        anotacoes_cadastro: parseAnotacoes(state.ui.anotacoes_raw)
+        anotacoes_cadastro: parseAnotacoes(state.ui.anotacoes_raw),
     };
     if (registro.sexo === 'outros') {
         registro.sexo_outros = trimValue(reg.sexo_outros);
@@ -695,7 +704,8 @@ function validateData(data) {
         ok = false;
     }
     const tipo = (data.certidao.tipo_registro || '').toLowerCase();
-    if ((tipo === 'nascimento' || tipo === 'casamento') && !normalizeDateValue(data.registro.data_registro)) {
+    if ((tipo === 'nascimento' || tipo === 'casamento') &&
+        !normalizeDateValue(data.registro.data_registro)) {
         markInvalid('registro.data_registro');
         ok = false;
     }
@@ -817,7 +827,10 @@ function stripAccents(value) {
     return (value || '').normalize('NFD').replace(/[\u0300-\u036f]/g, '');
 }
 function normalizeFilePart(value, fallback) {
-    const clean = stripAccents(value || '').toUpperCase().replace(/[^A-Z0-9]+/g, '_').replace(/^_+|_+$/g, '');
+    const clean = stripAccents(value || '')
+        .toUpperCase()
+        .replace(/[^A-Z0-9]+/g, '_')
+        .replace(/^_+|_+$/g, '');
     return clean || fallback;
 }
 function makeTimestamp() {
@@ -849,7 +862,9 @@ function toXml(obj, nodeName, indent) {
         return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
     if (Array.isArray(obj))
         return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
-    const children = Object.keys(obj).map((key) => toXml(obj[key], key, (indent || 0) + 1)).join('\n');
+    const children = Object.keys(obj)
+        .map((key) => toXml(obj[key], key, (indent || 0) + 1))
+        .join('\n');
     return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
 }
 function downloadFile(name, content, mime) {
@@ -865,7 +880,8 @@ function downloadFile(name, content, mime) {
         URL.revokeObjectURL(url);
         return true;
     }
-    catch {
+    catch (e) {
+        void e;
         return false;
     }
 }
@@ -880,7 +896,7 @@ async function saveDraft() {
                 id: lastSavedId || null,
                 data,
                 sourceFormat: 'manual',
-                kind: data.certidao.tipo_registro || 'nascimento'
+                kind: data.certidao.tipo_registro || 'nascimento',
             });
             if (res && res.id)
                 lastSavedId = res.id;
@@ -972,15 +988,17 @@ function setupConfigModal() {
         updateBadge();
         close();
     });
-    modal.addEventListener('click', (e) => { if (e.target === modal)
-        close(); });
+    modal.addEventListener('click', (e) => {
+        if (e.target === modal)
+            close();
+    });
     const tabs = Array.from(document.querySelectorAll('.tab-btn'));
     const panes = Array.from(document.querySelectorAll('.tab-pane'));
     const activateTab = (id) => {
-        tabs.forEach(btn => btn.classList.toggle('active', btn.dataset.tab === id));
-        panes.forEach(pane => pane.classList.toggle('active', pane.id === id));
+        tabs.forEach((btn) => btn.classList.toggle('active', btn.dataset.tab === id));
+        panes.forEach((pane) => pane.classList.toggle('active', pane.id === id));
     };
-    tabs.forEach(btn => btn.addEventListener('click', () => activateTab(btn.dataset.tab || 'tab-pastas')));
+    tabs.forEach((btn) => btn.addEventListener('click', () => activateTab(btn.dataset.tab || 'tab-pastas')));
     document.getElementById('pick-json')?.addEventListener('click', async () => {
         if (!window.api || !window.api.pickJsonDir)
             return;
@@ -1006,8 +1024,12 @@ function setupActions() {
     document.getElementById('btn-save')?.addEventListener('click', saveDraft);
     document.getElementById('btn-json')?.addEventListener('click', () => generateFile('json'));
     document.getElementById('btn-xml')?.addEventListener('click', () => generateFile('xml'));
-    document.getElementById('btn-nascimento')?.addEventListener('click', () => setTipoRegistro('nascimento'));
-    document.getElementById('btn-casamento')?.addEventListener('click', () => setTipoRegistro('casamento'));
+    document
+        .getElementById('btn-nascimento')
+        ?.addEventListener('click', () => setTipoRegistro('nascimento'));
+    document
+        .getElementById('btn-casamento')
+        ?.addEventListener('click', () => setTipoRegistro('casamento'));
     document.getElementById('btn-obito')?.addEventListener('click', () => setTipoRegistro('obito'));
 }
 function getSafeStorage() {
@@ -1017,7 +1039,8 @@ function getSafeStorage() {
         window.localStorage.removeItem(key);
         return window.localStorage;
     }
-    catch {
+    catch (e) {
+        void e;
         return null;
     }
 }
@@ -1042,7 +1065,7 @@ class PlaceAutoFillCache {
         const patterns = [
             /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s*\/\s*([A-Za-z]{2})\s*$/u,
             /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s*-\s*([A-Za-z]{2})\s*$/u,
-            /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s+([A-Za-z]{2})\s*$/u
+            /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s+([A-Za-z]{2})\s*$/u,
         ];
         for (const re of patterns) {
             const match = trimmed.match(re);
@@ -1065,7 +1088,9 @@ class PlaceAutoFillCache {
             const entryKey = entry.key || '';
             const contains = entryKey.includes(key) || key.includes(entryKey);
             const intersect = queryTokens.filter((t) => entry.tokens.includes(t)).length;
-            const tokenScore = queryTokens.length ? intersect / Math.max(queryTokens.length, entry.tokens.length) : 0;
+            const tokenScore = queryTokens.length
+                ? intersect / Math.max(queryTokens.length, entry.tokens.length)
+                : 0;
             let score = tokenScore + (contains ? 0.6 : 0);
             if (entryKey === key)
                 score += 0.4;
@@ -1094,7 +1119,7 @@ class PlaceAutoFillCache {
             cityBirth,
             ufBirth,
             updatedAt: Date.now(),
-            tokens: this.tokenize(key)
+            tokens: this.tokenize(key),
         };
         const cityNatural = trimValue(args.cityNatural);
         const ufNatural = trimValue(args.ufNatural).toUpperCase();
@@ -1128,11 +1153,14 @@ class PlaceAutoFillCache {
         const patterns = [
             /\s*[,;]?\s*[\p{L}][\p{L}\s.'-]{1,}\s*\/\s*[A-Za-z]{2}\s*$/u,
             /\s*[,;]?\s*[\p{L}][\p{L}\s.'-]{1,}\s*-\s*[A-Za-z]{2}\s*$/u,
-            /\s*[,;]?\s*[\p{L}][\p{L}\s.'-]{1,}\s+[A-Za-z]{2}\s*$/u
+            /\s*[,;]?\s*[\p{L}][\p{L}\s.'-]{1,}\s+[A-Za-z]{2}\s*$/u,
         ];
         for (const re of patterns) {
             if (re.test(clean)) {
-                return clean.replace(re, '').replace(/[,;\s-]+$/, '').trim();
+                return clean
+                    .replace(re, '')
+                    .replace(/[,;\s-]+$/, '')
+                    .trim();
             }
         }
         return clean;
@@ -1158,7 +1186,8 @@ class PlaceAutoFillCache {
                 return { v: 1, entries: {} };
             return parsed;
         }
-        catch {
+        catch (e) {
+            void e;
             return { v: 1, entries: {} };
         }
     }
@@ -1168,7 +1197,8 @@ class PlaceAutoFillCache {
                 this.storage.setItem(this.storageKey, JSON.stringify(data));
                 return;
             }
-            catch {
+            catch (e) {
+                void e;
                 this.memoryData = data;
                 return;
             }
@@ -1176,21 +1206,28 @@ class PlaceAutoFillCache {
         this.memoryData = data;
     }
 }
-const placeCache = new PlaceAutoFillCache({ storageKey: 'certidao.placeCache.v1', maxEntries: 200 });
+const placeCache = new PlaceAutoFillCache({
+    storageKey: 'certidao.placeCache.v1',
+    maxEntries: 200,
+});
 function recordPlaceMappingFromState(placeTextOverride) {
     const placeText = trimValue(placeTextOverride || state.registro.local_nascimento);
     const cityBirth = trimValue(state.registro.municipio_nascimento);
     const ufBirth = trimValue(state.registro.uf_nascimento).toUpperCase();
     if (!placeText || !cityBirth || !ufBirth)
         return;
-    const cityNatural = state.ui.naturalidade_diferente ? trimValue(state.registro.municipio_naturalidade) : '';
-    const ufNatural = state.ui.naturalidade_diferente ? trimValue(state.registro.uf_naturalidade).toUpperCase() : '';
+    const cityNatural = state.ui.naturalidade_diferente
+        ? trimValue(state.registro.municipio_naturalidade)
+        : '';
+    const ufNatural = state.ui.naturalidade_diferente
+        ? trimValue(state.registro.uf_naturalidade).toUpperCase()
+        : '';
     placeCache.recordMapping({
         placeText,
         cityBirth,
         ufBirth,
         cityNatural,
-        ufNatural
+        ufNatural,
     });
 }
 function applyPlaceEntry(entry, opts = {}) {
@@ -1210,7 +1247,7 @@ function applyPlaceEntry(entry, opts = {}) {
         if (cityNatural || ufNatural) {
             naturalidadeMemo = {
                 city: trimValue(state.registro.municipio_naturalidade),
-                uf: trimValue(state.registro.uf_naturalidade)
+                uf: trimValue(state.registro.uf_naturalidade),
             };
             naturalidadeEdited = true;
         }
@@ -1232,7 +1269,7 @@ function setupCache() {
             normalizedPlaceText: local || placeText,
             cityBirth: cidade,
             ufBirth: uf,
-            cityNatural: naturalidade
+            cityNatural: naturalidade,
         });
         setStatus('Padrao salvo');
     });
@@ -1428,7 +1465,9 @@ function setupCartorioTyping() {
             buffer += key;
             if (timer)
                 window.clearTimeout(timer);
-            timer = window.setTimeout(() => { buffer = ''; }, 700);
+            timer = window.setTimeout(() => {
+                buffer = '';
+            }, 700);
             const match = Array.from(select.options).find((opt) => opt.value === buffer);
             if (match) {
                 select.value = buffer;
@@ -1446,7 +1485,9 @@ function setupCartorioTyping() {
     });
 }
 // --- Máscaras simples de data e hora (só números) ---
-function digitsOnly(v) { return (v || '').replace(/\D/g, ''); }
+function digitsOnly(v) {
+    return (v || '').replace(/\D/g, '');
+}
 function setupBeforeUnload() {
     window.addEventListener('beforeunload', (e) => {
         if (!isDirty)
diff --git a/segundas-vias/package-lock.json b/segundas-vias/package-lock.json
index 1ca91d9..7542d0f 100644
--- a/segundas-vias/package-lock.json
+++ b/segundas-vias/package-lock.json
@@ -9,15 +9,228 @@
       "version": "0.1.0",
       "dependencies": {
         "cpf-cnpj-validator": "^1.0.3",
-        "papaparse": "^5.4.1"
+        "electron": "^40.0.0",
+        "papaparse": "^5.4.1",
+        "zod": "^4.3.5"
       },
       "devDependencies": {
+        "@typescript-eslint/eslint-plugin": "^6.10.0",
+        "@typescript-eslint/parser": "^6.10.0",
+        "depcheck": "^1.4.2",
         "esbuild": "^0.24.0",
+        "eslint": "^8.46.0",
+        "eslint-plugin-unused-imports": "^3.1.0",
+        "espree": "^11.0.0",
         "live-server": "^1.2.2",
         "npm-run-all": "^4.1.5",
+        "prettier": "^2.8.8",
+        "source-map-explorer": "^2.5.2",
+        "ts-prune": "^0.6.0",
         "typescript": "^5.3.3"
       }
     },
+    "node_modules/@babel/code-frame": {
+      "version": "7.28.6",
+      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.28.6.tgz",
+      "integrity": "sha512-JYgintcMjRiCvS8mMECzaEn+m3PfoQiyqukOMCCVQtoJGYJw8j/8LBJEiqkHLkfwCcs74E3pbAUFNg7d9VNJ+Q==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/helper-validator-identifier": "^7.28.5",
+        "js-tokens": "^4.0.0",
+        "picocolors": "^1.1.1"
+      },
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/generator": {
+      "version": "7.28.6",
+      "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.6.tgz",
+      "integrity": "sha512-lOoVRwADj8hjf7al89tvQ2a1lf53Z+7tiXMgpZJL3maQPDxh0DgLMN62B2MKUOFcoodBHLMbDM6WAbKgNy5Suw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/parser": "^7.28.6",
+        "@babel/types": "^7.28.6",
+        "@jridgewell/gen-mapping": "^0.3.12",
+        "@jridgewell/trace-mapping": "^0.3.28",
+        "jsesc": "^3.0.2"
+      },
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/helper-globals": {
+      "version": "7.28.0",
+      "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
+      "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/helper-string-parser": {
+      "version": "7.27.1",
+      "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
+      "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/helper-validator-identifier": {
+      "version": "7.28.5",
+      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
+      "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/parser": {
+      "version": "7.28.6",
+      "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.6.tgz",
+      "integrity": "sha512-TeR9zWR18BvbfPmGbLampPMW+uW1NZnJlRuuHso8i87QZNq2JRF9i6RgxRqtEq+wQGsS19NNTWr2duhnE49mfQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/types": "^7.28.6"
+      },
+      "bin": {
+        "parser": "bin/babel-parser.js"
+      },
+      "engines": {
+        "node": ">=6.0.0"
+      }
+    },
+    "node_modules/@babel/template": {
+      "version": "7.28.6",
+      "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.28.6.tgz",
+      "integrity": "sha512-YA6Ma2KsCdGb+WC6UpBVFJGXL58MDA6oyONbjyF/+5sBgxY/dwkhLogbMT2GXXyU84/IhRw/2D1Os1B/giz+BQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/code-frame": "^7.28.6",
+        "@babel/parser": "^7.28.6",
+        "@babel/types": "^7.28.6"
+      },
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/traverse": {
+      "version": "7.28.6",
+      "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.6.tgz",
+      "integrity": "sha512-fgWX62k02qtjqdSNTAGxmKYY/7FSL9WAS1o2Hu5+I5m9T0yxZzr4cnrfXQ/MX0rIifthCSs6FKTlzYbJcPtMNg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/code-frame": "^7.28.6",
+        "@babel/generator": "^7.28.6",
+        "@babel/helper-globals": "^7.28.0",
+        "@babel/parser": "^7.28.6",
+        "@babel/template": "^7.28.6",
+        "@babel/types": "^7.28.6",
+        "debug": "^4.3.1"
+      },
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/types": {
+      "version": "7.28.6",
+      "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.6.tgz",
+      "integrity": "sha512-0ZrskXVEHSWIqZM/sQZ4EV3jZJXRkio/WCxaqKZP1g//CEWEPSfeZFcms4XeKBCHU0ZKnIkdJeU/kF+eRp5lBg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/helper-string-parser": "^7.27.1",
+        "@babel/helper-validator-identifier": "^7.28.5"
+      },
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@dsherret/to-absolute-glob": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/@dsherret/to-absolute-glob/-/to-absolute-glob-2.0.2.tgz",
+      "integrity": "sha512-InCaQ/KEOcFtAFztn47wadritBLP2nT6m/ucbBnIgI5YwxuMzKKCHtqazR2+D1yR6y1ZTnPea9aLFEUrTttUSQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "is-absolute": "^1.0.0",
+        "is-negated-glob": "^1.0.0"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/@electron/get": {
+      "version": "2.0.3",
+      "resolved": "https://registry.npmjs.org/@electron/get/-/get-2.0.3.tgz",
+      "integrity": "sha512-Qkzpg2s9GnVV2I2BjRksUi43U5e6+zaQMcjoJy0C+C5oxaKl+fmckGDQFtRpZpZV0NQekuZZ+tGz7EA9TVnQtQ==",
+      "license": "MIT",
+      "dependencies": {
+        "debug": "^4.1.1",
+        "env-paths": "^2.2.0",
+        "fs-extra": "^8.1.0",
+        "got": "^11.8.5",
+        "progress": "^2.0.3",
+        "semver": "^6.2.0",
+        "sumchecker": "^3.0.1"
+      },
+      "engines": {
+        "node": ">=12"
+      },
+      "optionalDependencies": {
+        "global-agent": "^3.0.0"
+      }
+    },
+    "node_modules/@electron/get/node_modules/fs-extra": {
+      "version": "8.1.0",
+      "resolved": "https://registry.npmjs.org/fs-extra/-/fs-extra-8.1.0.tgz",
+      "integrity": "sha512-yhlQgA6mnOJUKOsRUFsgJdQCvkKhcz8tlZG5HBQfReYZy46OwLcY+Zia0mtdHsOo9y/hP+CxMN0TU9QxoOtG4g==",
+      "license": "MIT",
+      "dependencies": {
+        "graceful-fs": "^4.2.0",
+        "jsonfile": "^4.0.0",
+        "universalify": "^0.1.0"
+      },
+      "engines": {
+        "node": ">=6 <7 || >=8"
+      }
+    },
+    "node_modules/@electron/get/node_modules/jsonfile": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/jsonfile/-/jsonfile-4.0.0.tgz",
+      "integrity": "sha512-m6F1R3z8jjlf2imQHS2Qez5sjKWQzbuuhuJ/FKYFRZvPE3PuHcSMVZzfsLhGVOkfd20obL5SWEBew5ShlquNxg==",
+      "license": "MIT",
+      "optionalDependencies": {
+        "graceful-fs": "^4.1.6"
+      }
+    },
+    "node_modules/@electron/get/node_modules/semver": {
+      "version": "6.3.1",
+      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
+      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
+      "license": "ISC",
+      "bin": {
+        "semver": "bin/semver.js"
+      }
+    },
+    "node_modules/@electron/get/node_modules/universalify": {
+      "version": "0.1.2",
+      "resolved": "https://registry.npmjs.org/universalify/-/universalify-0.1.2.tgz",
+      "integrity": "sha512-rBJeI5CXAlmy1pV+617WB9J63U6XcazHHF2f2dbJix4XzpUF0RS3Zbj0FGIOCAva5P/d/GBOYaACQ1w+0azUkg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">= 4.0.0"
+      }
+    },
     "node_modules/@esbuild/aix-ppc64": {
       "version": "0.24.2",
       "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.24.2.tgz",
@@ -418,6 +631,107 @@
         "node": ">=18"
       }
     },
+    "node_modules/@eslint-community/eslint-utils": {
+      "version": "4.9.1",
+      "resolved": "https://registry.npmjs.org/@eslint-community/eslint-utils/-/eslint-utils-4.9.1.tgz",
+      "integrity": "sha512-phrYmNiYppR7znFEdqgfWHXR6NCkZEK7hwWDHZUjit/2/U0r6XvkDl0SYnoM51Hq7FhCGdLDT6zxCCOY1hexsQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "eslint-visitor-keys": "^3.4.3"
+      },
+      "engines": {
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/eslint"
+      },
+      "peerDependencies": {
+        "eslint": "^6.0.0 || ^7.0.0 || >=8.0.0"
+      }
+    },
+    "node_modules/@eslint-community/regexpp": {
+      "version": "4.12.2",
+      "resolved": "https://registry.npmjs.org/@eslint-community/regexpp/-/regexpp-4.12.2.tgz",
+      "integrity": "sha512-EriSTlt5OC9/7SXkRSCAhfSxxoSUgBm33OH+IkwbdpgoqsSsUg7y3uh+IICI/Qg4BBWr3U2i39RpmycbxMq4ew==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": "^12.0.0 || ^14.0.0 || >=16.0.0"
+      }
+    },
+    "node_modules/@eslint/eslintrc": {
+      "version": "2.1.4",
+      "resolved": "https://registry.npmjs.org/@eslint/eslintrc/-/eslintrc-2.1.4.tgz",
+      "integrity": "sha512-269Z39MS6wVJtsoUl10L60WdkhJVdPG24Q4eZTH3nnF6lpvSShEK3wQjDX9JRWAUPvPh7COouPpU9IrqaZFvtQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ajv": "^6.12.4",
+        "debug": "^4.3.2",
+        "espree": "^9.6.0",
+        "globals": "^13.19.0",
+        "ignore": "^5.2.0",
+        "import-fresh": "^3.2.1",
+        "js-yaml": "^4.1.0",
+        "minimatch": "^3.1.2",
+        "strip-json-comments": "^3.1.1"
+      },
+      "engines": {
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/eslint"
+      }
+    },
+    "node_modules/@eslint/eslintrc/node_modules/argparse": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
+      "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
+      "dev": true,
+      "license": "Python-2.0"
+    },
+    "node_modules/@eslint/eslintrc/node_modules/espree": {
+      "version": "9.6.1",
+      "resolved": "https://registry.npmjs.org/espree/-/espree-9.6.1.tgz",
+      "integrity": "sha512-oruZaFkjorTpF32kDSI5/75ViwGeZginGGy2NoOSg3Q9bnwlnmDm4HLnkl0RE3n+njDXR037aY1+x58Z/zFdwQ==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "acorn": "^8.9.0",
+        "acorn-jsx": "^5.3.2",
+        "eslint-visitor-keys": "^3.4.1"
+      },
+      "engines": {
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/eslint"
+      }
+    },
+    "node_modules/@eslint/eslintrc/node_modules/js-yaml": {
+      "version": "4.1.1",
+      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.1.tgz",
+      "integrity": "sha512-qQKT4zQxXl8lLwBtHMWwaTcGfFOZviOJet3Oy/xmGk2gZH677CJM9EvtfdSkgWcATZhj/55JZ0rmy3myCT5lsA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "argparse": "^2.0.1"
+      },
+      "bin": {
+        "js-yaml": "bin/js-yaml.js"
+      }
+    },
+    "node_modules/@eslint/js": {
+      "version": "8.57.1",
+      "resolved": "https://registry.npmjs.org/@eslint/js/-/js-8.57.1.tgz",
+      "integrity": "sha512-d9zaMRSTIKDLhctzH12MtXvJKSSUhaHcjV+2Z+GK+EEY7XKpP5yR4x+N3TAcHTcu963nIr+TMcCb4DBCYX1z6Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      }
+    },
     "node_modules/@hapi/address": {
       "version": "4.1.0",
       "resolved": "https://registry.npmjs.org/@hapi/address/-/address-4.1.0.tgz",
@@ -464,144 +778,841 @@
         "@hapi/hoek": "^9.0.0"
       }
     },
-    "node_modules/accepts": {
-      "version": "1.3.8",
-      "resolved": "https://registry.npmjs.org/accepts/-/accepts-1.3.8.tgz",
-      "integrity": "sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==",
+    "node_modules/@humanwhocodes/config-array": {
+      "version": "0.13.0",
+      "resolved": "https://registry.npmjs.org/@humanwhocodes/config-array/-/config-array-0.13.0.tgz",
+      "integrity": "sha512-DZLEEqFWQFiyK6h5YIeynKx7JlvCYWL0cImfSRXZ9l4Sg2efkFGTuFf6vzXjK1cq6IYkU+Eg/JizXw+TD2vRNw==",
+      "deprecated": "Use @eslint/config-array instead",
       "dev": true,
-      "license": "MIT",
+      "license": "Apache-2.0",
       "dependencies": {
-        "mime-types": "~2.1.34",
-        "negotiator": "0.6.3"
+        "@humanwhocodes/object-schema": "^2.0.3",
+        "debug": "^4.3.1",
+        "minimatch": "^3.0.5"
       },
       "engines": {
-        "node": ">= 0.6"
+        "node": ">=10.10.0"
       }
     },
-    "node_modules/accepts/node_modules/mime-db": {
-      "version": "1.52.0",
-      "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
-      "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
+    "node_modules/@humanwhocodes/module-importer": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/@humanwhocodes/module-importer/-/module-importer-1.0.1.tgz",
+      "integrity": "sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==",
       "dev": true,
-      "license": "MIT",
+      "license": "Apache-2.0",
       "engines": {
-        "node": ">= 0.6"
+        "node": ">=12.22"
+      },
+      "funding": {
+        "type": "github",
+        "url": "https://github.com/sponsors/nzakas"
       }
     },
-    "node_modules/accepts/node_modules/mime-types": {
-      "version": "2.1.35",
-      "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
-      "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
+    "node_modules/@humanwhocodes/object-schema": {
+      "version": "2.0.3",
+      "resolved": "https://registry.npmjs.org/@humanwhocodes/object-schema/-/object-schema-2.0.3.tgz",
+      "integrity": "sha512-93zYdMES/c1D69yZiKDBj0V24vqNzB/koF26KPaagAfd3P/4gUlh3Dys5ogAK+Exi9QyzlD8x/08Zt7wIKcDcA==",
+      "deprecated": "Use @eslint/object-schema instead",
+      "dev": true,
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@jridgewell/gen-mapping": {
+      "version": "0.3.13",
+      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
+      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
       "dev": true,
       "license": "MIT",
       "dependencies": {
-        "mime-db": "1.52.0"
-      },
-      "engines": {
-        "node": ">= 0.6"
+        "@jridgewell/sourcemap-codec": "^1.5.0",
+        "@jridgewell/trace-mapping": "^0.3.24"
       }
     },
-    "node_modules/anymatch": {
-      "version": "2.0.0",
-      "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-2.0.0.tgz",
-      "integrity": "sha512-5teOsQWABXHHBFP9y3skS5P3d/WfWXpv3FUpy+LorMrNYaT9pI4oLMQX7jzQ2KklNpGpWHzdCXTDT2Y3XGlZBw==",
+    "node_modules/@jridgewell/resolve-uri": {
+      "version": "3.1.2",
+      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
+      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
       "dev": true,
-      "license": "ISC",
-      "dependencies": {
-        "micromatch": "^3.1.4",
-        "normalize-path": "^2.1.1"
+      "license": "MIT",
+      "engines": {
+        "node": ">=6.0.0"
       }
     },
-    "node_modules/anymatch/node_modules/normalize-path": {
-      "version": "2.1.1",
-      "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-2.1.1.tgz",
-      "integrity": "sha512-3pKJwH184Xo/lnH6oyP1q2pMd7HcypqqmRs91/6/i2CGtWwIKGCkOOMTm/zXbgTEWHw1uNpNi/igc3ePOYHb6w==",
+    "node_modules/@jridgewell/sourcemap-codec": {
+      "version": "1.5.5",
+      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
+      "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/@jridgewell/trace-mapping": {
+      "version": "0.3.31",
+      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
+      "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
       "dev": true,
       "license": "MIT",
       "dependencies": {
-        "remove-trailing-separator": "^1.0.1"
-      },
-      "engines": {
-        "node": ">=0.10.0"
+        "@jridgewell/resolve-uri": "^3.1.0",
+        "@jridgewell/sourcemap-codec": "^1.4.14"
       }
     },
-    "node_modules/apache-crypt": {
-      "version": "1.2.6",
-      "resolved": "https://registry.npmjs.org/apache-crypt/-/apache-crypt-1.2.6.tgz",
-      "integrity": "sha512-072WetlM4blL8PREJVeY+WHiUh1R5VNt2HfceGS8aKqttPHcmqE5pkKuXPz/ULmJOFkc8Hw3kfKl6vy7Qka6DA==",
+    "node_modules/@nodelib/fs.scandir": {
+      "version": "2.1.5",
+      "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
+      "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
       "dev": true,
       "license": "MIT",
       "dependencies": {
-        "unix-crypt-td-js": "^1.1.4"
+        "@nodelib/fs.stat": "2.0.5",
+        "run-parallel": "^1.1.9"
       },
       "engines": {
-        "node": ">=8"
+        "node": ">= 8"
       }
     },
-    "node_modules/apache-md5": {
-      "version": "1.1.8",
-      "resolved": "https://registry.npmjs.org/apache-md5/-/apache-md5-1.1.8.tgz",
-      "integrity": "sha512-FCAJojipPn0bXjuEpjOOOMN8FZDkxfWWp4JGN9mifU2IhxvKyXZYqpzPHdnTSUpmPDy+tsslB6Z1g+Vg6nVbYA==",
+    "node_modules/@nodelib/fs.stat": {
+      "version": "2.0.5",
+      "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
+      "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
       "dev": true,
       "license": "MIT",
       "engines": {
-        "node": ">=8"
+        "node": ">= 8"
       }
     },
-    "node_modules/arr-diff": {
-      "version": "4.0.0",
-      "resolved": "https://registry.npmjs.org/arr-diff/-/arr-diff-4.0.0.tgz",
-      "integrity": "sha512-YVIQ82gZPGBebQV/a8dar4AitzCQs0jjXwMPZllpXMaGjXPYVUawSxQrRsjhjupyVxEvbHgUmIhKVlND+j02kA==",
+    "node_modules/@nodelib/fs.walk": {
+      "version": "1.2.8",
+      "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
+      "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
       "dev": true,
       "license": "MIT",
+      "dependencies": {
+        "@nodelib/fs.scandir": "2.1.5",
+        "fastq": "^1.6.0"
+      },
       "engines": {
-        "node": ">=0.10.0"
+        "node": ">= 8"
       }
     },
-    "node_modules/arr-flatten": {
-      "version": "1.1.0",
-      "resolved": "https://registry.npmjs.org/arr-flatten/-/arr-flatten-1.1.0.tgz",
-      "integrity": "sha512-L3hKV5R/p5o81R7O02IGnwpDmkp6E982XhtbuwSe3O4qOtMMMtodicASA1Cny2U+aCXcNpml+m4dPsvsJ3jatg==",
-      "dev": true,
+    "node_modules/@sindresorhus/is": {
+      "version": "4.6.0",
+      "resolved": "https://registry.npmjs.org/@sindresorhus/is/-/is-4.6.0.tgz",
+      "integrity": "sha512-t09vSN3MdfsyCHoFcTRCH/iUtG7OJ0CsjzB8cjAmKc/va/kIgeDI/TxsigdncE/4be734m0cvIYwNaV4i2XqAw==",
       "license": "MIT",
       "engines": {
-        "node": ">=0.10.0"
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sindresorhus/is?sponsor=1"
       }
     },
-    "node_modules/arr-union": {
-      "version": "3.1.0",
-      "resolved": "https://registry.npmjs.org/arr-union/-/arr-union-3.1.0.tgz",
-      "integrity": "sha512-sKpyeERZ02v1FeCZT8lrfJq5u6goHCtpTAzPwJYe7c8SPFOboNjNg1vz2L4VTn9T4PQxEx13TbXLmYUcS6Ug7Q==",
-      "dev": true,
+    "node_modules/@szmarczak/http-timer": {
+      "version": "4.0.6",
+      "resolved": "https://registry.npmjs.org/@szmarczak/http-timer/-/http-timer-4.0.6.tgz",
+      "integrity": "sha512-4BAffykYOgO+5nzBWYwE3W90sBgLJoUPRWWcL8wlyiM8IB8ipJz3UMJ9KXQd1RKQXpKp8Tutn80HZtWsu2u76w==",
       "license": "MIT",
+      "dependencies": {
+        "defer-to-connect": "^2.0.0"
+      },
       "engines": {
-        "node": ">=0.10.0"
+        "node": ">=10"
       }
     },
-    "node_modules/array-buffer-byte-length": {
-      "version": "1.0.2",
-      "resolved": "https://registry.npmjs.org/array-buffer-byte-length/-/array-buffer-byte-length-1.0.2.tgz",
-      "integrity": "sha512-LHE+8BuR7RYGDKvnrmcuSq3tDcKv9OFEXQt/HpbZhY7V6h0zlUXutnAD82GiFx9rdieCMjkvtcsPqBwgUl1Iiw==",
+    "node_modules/@ts-morph/common": {
+      "version": "0.5.2",
+      "resolved": "https://registry.npmjs.org/@ts-morph/common/-/common-0.5.2.tgz",
+      "integrity": "sha512-eLmfYV6u6gUgHrB9QV9lpuWg3cD60mhXdv0jvM5exWR/Cor8HG+GziFIj2hPEWHJknqzuU4meZd8DTqIzZfDRQ==",
       "dev": true,
+      "license": "MIT",
       "dependencies": {
-        "call-bound": "^1.0.3",
-        "is-array-buffer": "^3.0.5"
-      },
-      "engines": {
-        "node": ">= 0.4"
-      },
-      "funding": {
-        "url": "https://github.com/sponsors/ljharb"
+        "@dsherret/to-absolute-glob": "^2.0.2",
+        "fast-glob": "^3.2.2",
+        "fs-extra": "^9.0.0",
+        "is-negated-glob": "^1.0.0",
+        "multimatch": "^4.0.0",
+        "typescript": "~3.9.7"
       }
     },
-    "node_modules/array-unique": {
-      "version": "0.3.2",
-      "resolved": "https://registry.npmjs.org/array-unique/-/array-unique-0.3.2.tgz",
-      "integrity": "sha512-SleRWjh9JUud2wH1hPs9rZBZ33H6T9HOiL0uwGnGx9FpE6wKGyfWugmbkEOIs6qWrZhg0LWeLziLrEwQJhs5mQ==",
+    "node_modules/@ts-morph/common/node_modules/multimatch": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/multimatch/-/multimatch-4.0.0.tgz",
+      "integrity": "sha512-lDmx79y1z6i7RNx0ZGCPq1bzJ6ZoDDKbvh7jxr9SJcWLkShMzXrHbYVpTdnhNM5MXpDUxCQ4DgqVttVXlBgiBQ==",
       "dev": true,
       "license": "MIT",
+      "dependencies": {
+        "@types/minimatch": "^3.0.3",
+        "array-differ": "^3.0.0",
+        "array-union": "^2.1.0",
+        "arrify": "^2.0.1",
+        "minimatch": "^3.0.4"
+      },
       "engines": {
-        "node": ">=0.10.0"
+        "node": ">=8"
+      }
+    },
+    "node_modules/@ts-morph/common/node_modules/typescript": {
+      "version": "3.9.10",
+      "resolved": "https://registry.npmjs.org/typescript/-/typescript-3.9.10.tgz",
+      "integrity": "sha512-w6fIxVE/H1PkLKcCPsFqKE7Kv7QUwhU8qQY2MueZXWx5cPZdwFupLgKK3vntcK98BtNHZtAF4LA/yl2a7k8R6Q==",
+      "dev": true,
+      "license": "Apache-2.0",
+      "bin": {
+        "tsc": "bin/tsc",
+        "tsserver": "bin/tsserver"
+      },
+      "engines": {
+        "node": ">=4.2.0"
+      }
+    },
+    "node_modules/@types/cacheable-request": {
+      "version": "6.0.3",
+      "resolved": "https://registry.npmjs.org/@types/cacheable-request/-/cacheable-request-6.0.3.tgz",
+      "integrity": "sha512-IQ3EbTzGxIigb1I3qPZc1rWJnH0BmSKv5QYTalEwweFvyBDLSAe24zP0le/hyi7ecGfZVlIVAg4BZqb8WBwKqw==",
+      "license": "MIT",
+      "dependencies": {
+        "@types/http-cache-semantics": "*",
+        "@types/keyv": "^3.1.4",
+        "@types/node": "*",
+        "@types/responselike": "^1.0.0"
+      }
+    },
+    "node_modules/@types/http-cache-semantics": {
+      "version": "4.0.4",
+      "resolved": "https://registry.npmjs.org/@types/http-cache-semantics/-/http-cache-semantics-4.0.4.tgz",
+      "integrity": "sha512-1m0bIFVc7eJWyve9S0RnuRgcQqF/Xd5QsUZAZeQFr1Q3/p9JWoQQEqmVy+DPTNpGXwhgIetAoYF8JSc33q29QA==",
+      "license": "MIT"
+    },
+    "node_modules/@types/json-schema": {
+      "version": "7.0.15",
+      "resolved": "https://registry.npmjs.org/@types/json-schema/-/json-schema-7.0.15.tgz",
+      "integrity": "sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/@types/keyv": {
+      "version": "3.1.4",
+      "resolved": "https://registry.npmjs.org/@types/keyv/-/keyv-3.1.4.tgz",
+      "integrity": "sha512-BQ5aZNSCpj7D6K2ksrRCTmKRLEpnPvWDiLPfoGyhZ++8YtiK9d/3DBKPJgry359X/P1PfruyYwvnvwFjuEiEIg==",
+      "license": "MIT",
+      "dependencies": {
+        "@types/node": "*"
+      }
+    },
+    "node_modules/@types/minimatch": {
+      "version": "3.0.5",
+      "resolved": "https://registry.npmjs.org/@types/minimatch/-/minimatch-3.0.5.tgz",
+      "integrity": "sha512-Klz949h02Gz2uZCMGwDUSDS1YBlTdDDgbWHi+81l29tQALUtvz4rAYi5uoVhE5Lagoq6DeqAUlbrHvW/mXDgdQ==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/@types/node": {
+      "version": "24.10.9",
+      "resolved": "https://registry.npmjs.org/@types/node/-/node-24.10.9.tgz",
+      "integrity": "sha512-ne4A0IpG3+2ETuREInjPNhUGis1SFjv1d5asp8MzEAGtOZeTeHVDOYqOgqfhvseqg/iXty2hjBf1zAOb7RNiNw==",
+      "license": "MIT",
+      "dependencies": {
+        "undici-types": "~7.16.0"
+      }
+    },
+    "node_modules/@types/parse-json": {
+      "version": "4.0.2",
+      "resolved": "https://registry.npmjs.org/@types/parse-json/-/parse-json-4.0.2.tgz",
+      "integrity": "sha512-dISoDXWWQwUquiKsyZ4Ng+HX2KsPL7LyHKHQwgGFEA3IaKac4Obd+h2a/a6waisAoepJlBcx9paWqjA8/HVjCw==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/@types/responselike": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/@types/responselike/-/responselike-1.0.3.tgz",
+      "integrity": "sha512-H/+L+UkTV33uf49PH5pCAUBVPNj2nDBXTN+qS1dOwyyg24l3CcicicCA7ca+HMvJBZcFgl5r8e+RR6elsb4Lyw==",
+      "license": "MIT",
+      "dependencies": {
+        "@types/node": "*"
+      }
+    },
+    "node_modules/@types/semver": {
+      "version": "7.7.1",
+      "resolved": "https://registry.npmjs.org/@types/semver/-/semver-7.7.1.tgz",
+      "integrity": "sha512-FmgJfu+MOcQ370SD0ev7EI8TlCAfKYU+B4m5T3yXc1CiRN94g/SZPtsCkk506aUDtlMnFZvasDwHHUcZUEaYuA==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/@types/yauzl": {
+      "version": "2.10.3",
+      "resolved": "https://registry.npmjs.org/@types/yauzl/-/yauzl-2.10.3.tgz",
+      "integrity": "sha512-oJoftv0LSuaDZE3Le4DbKX+KS9G36NzOeSap90UIK0yMA/NhKJhqlSGtNDORNRaIbQfzjXDrQa0ytJ6mNRGz/Q==",
+      "license": "MIT",
+      "optional": true,
+      "dependencies": {
+        "@types/node": "*"
+      }
+    },
+    "node_modules/@typescript-eslint/eslint-plugin": {
+      "version": "6.21.0",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/eslint-plugin/-/eslint-plugin-6.21.0.tgz",
+      "integrity": "sha512-oy9+hTPCUFpngkEZUSzbf9MxI65wbKFoQYsgPdILTfbUldp5ovUuphZVe4i30emU9M/kP+T64Di0mxl7dSw3MA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@eslint-community/regexpp": "^4.5.1",
+        "@typescript-eslint/scope-manager": "6.21.0",
+        "@typescript-eslint/type-utils": "6.21.0",
+        "@typescript-eslint/utils": "6.21.0",
+        "@typescript-eslint/visitor-keys": "6.21.0",
+        "debug": "^4.3.4",
+        "graphemer": "^1.4.0",
+        "ignore": "^5.2.4",
+        "natural-compare": "^1.4.0",
+        "semver": "^7.5.4",
+        "ts-api-utils": "^1.0.1"
+      },
+      "engines": {
+        "node": "^16.0.0 || >=18.0.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/typescript-eslint"
+      },
+      "peerDependencies": {
+        "@typescript-eslint/parser": "^6.0.0 || ^6.0.0-alpha",
+        "eslint": "^7.0.0 || ^8.0.0"
+      },
+      "peerDependenciesMeta": {
+        "typescript": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/@typescript-eslint/eslint-plugin/node_modules/semver": {
+      "version": "7.7.3",
+      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
+      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
+      "dev": true,
+      "license": "ISC",
+      "bin": {
+        "semver": "bin/semver.js"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/@typescript-eslint/parser": {
+      "version": "6.21.0",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/parser/-/parser-6.21.0.tgz",
+      "integrity": "sha512-tbsV1jPne5CkFQCgPBcDOt30ItF7aJoZL997JSF7MhGQqOeT3svWRYxiqlfA5RUdlHN6Fi+EI9bxqbdyAUZjYQ==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "peer": true,
+      "dependencies": {
+        "@typescript-eslint/scope-manager": "6.21.0",
+        "@typescript-eslint/types": "6.21.0",
+        "@typescript-eslint/typescript-estree": "6.21.0",
+        "@typescript-eslint/visitor-keys": "6.21.0",
+        "debug": "^4.3.4"
+      },
+      "engines": {
+        "node": "^16.0.0 || >=18.0.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/typescript-eslint"
+      },
+      "peerDependencies": {
+        "eslint": "^7.0.0 || ^8.0.0"
+      },
+      "peerDependenciesMeta": {
+        "typescript": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/@typescript-eslint/scope-manager": {
+      "version": "6.21.0",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/scope-manager/-/scope-manager-6.21.0.tgz",
+      "integrity": "sha512-OwLUIWZJry80O99zvqXVEioyniJMa+d2GrqpUTqi5/v5D5rOrppJVBPa0yKCblcigC0/aYAzxxqQ1B+DS2RYsg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@typescript-eslint/types": "6.21.0",
+        "@typescript-eslint/visitor-keys": "6.21.0"
+      },
+      "engines": {
+        "node": "^16.0.0 || >=18.0.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/typescript-eslint"
+      }
+    },
+    "node_modules/@typescript-eslint/type-utils": {
+      "version": "6.21.0",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/type-utils/-/type-utils-6.21.0.tgz",
+      "integrity": "sha512-rZQI7wHfao8qMX3Rd3xqeYSMCL3SoiSQLBATSiVKARdFGCYSRvmViieZjqc58jKgs8Y8i9YvVVhRbHSTA4VBag==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@typescript-eslint/typescript-estree": "6.21.0",
+        "@typescript-eslint/utils": "6.21.0",
+        "debug": "^4.3.4",
+        "ts-api-utils": "^1.0.1"
+      },
+      "engines": {
+        "node": "^16.0.0 || >=18.0.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/typescript-eslint"
+      },
+      "peerDependencies": {
+        "eslint": "^7.0.0 || ^8.0.0"
+      },
+      "peerDependenciesMeta": {
+        "typescript": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/@typescript-eslint/types": {
+      "version": "6.21.0",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/types/-/types-6.21.0.tgz",
+      "integrity": "sha512-1kFmZ1rOm5epu9NZEZm1kckCDGj5UJEf7P1kliH4LKu/RkwpsfqqGmY2OOcUs18lSlQBKLDYBOGxRVtrMN5lpg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": "^16.0.0 || >=18.0.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/typescript-eslint"
+      }
+    },
+    "node_modules/@typescript-eslint/typescript-estree": {
+      "version": "6.21.0",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/typescript-estree/-/typescript-estree-6.21.0.tgz",
+      "integrity": "sha512-6npJTkZcO+y2/kr+z0hc4HwNfrrP4kNYh57ek7yCNlrBjWQ1Y0OS7jiZTkgumrvkX5HkEKXFZkkdFNkaW2wmUQ==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "@typescript-eslint/types": "6.21.0",
+        "@typescript-eslint/visitor-keys": "6.21.0",
+        "debug": "^4.3.4",
+        "globby": "^11.1.0",
+        "is-glob": "^4.0.3",
+        "minimatch": "9.0.3",
+        "semver": "^7.5.4",
+        "ts-api-utils": "^1.0.1"
+      },
+      "engines": {
+        "node": "^16.0.0 || >=18.0.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/typescript-eslint"
+      },
+      "peerDependenciesMeta": {
+        "typescript": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/@typescript-eslint/typescript-estree/node_modules/brace-expansion": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
+      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "balanced-match": "^1.0.0"
+      }
+    },
+    "node_modules/@typescript-eslint/typescript-estree/node_modules/minimatch": {
+      "version": "9.0.3",
+      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.3.tgz",
+      "integrity": "sha512-RHiac9mvaRw0x3AYRgDC1CxAP7HTcNrrECeA8YYJeWnpo+2Q5CegtZjaotWTWxDG3UeGA1coE05iH1mPjT/2mg==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "brace-expansion": "^2.0.1"
+      },
+      "engines": {
+        "node": ">=16 || 14 >=14.17"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
+    "node_modules/@typescript-eslint/typescript-estree/node_modules/semver": {
+      "version": "7.7.3",
+      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
+      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
+      "dev": true,
+      "license": "ISC",
+      "bin": {
+        "semver": "bin/semver.js"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/@typescript-eslint/utils": {
+      "version": "6.21.0",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/utils/-/utils-6.21.0.tgz",
+      "integrity": "sha512-NfWVaC8HP9T8cbKQxHcsJBY5YE1O33+jpMwN45qzWWaPDZgLIbo12toGMWnmhvCpd3sIxkpDw3Wv1B3dYrbDQQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@eslint-community/eslint-utils": "^4.4.0",
+        "@types/json-schema": "^7.0.12",
+        "@types/semver": "^7.5.0",
+        "@typescript-eslint/scope-manager": "6.21.0",
+        "@typescript-eslint/types": "6.21.0",
+        "@typescript-eslint/typescript-estree": "6.21.0",
+        "semver": "^7.5.4"
+      },
+      "engines": {
+        "node": "^16.0.0 || >=18.0.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/typescript-eslint"
+      },
+      "peerDependencies": {
+        "eslint": "^7.0.0 || ^8.0.0"
+      }
+    },
+    "node_modules/@typescript-eslint/utils/node_modules/semver": {
+      "version": "7.7.3",
+      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
+      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
+      "dev": true,
+      "license": "ISC",
+      "bin": {
+        "semver": "bin/semver.js"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/@typescript-eslint/visitor-keys": {
+      "version": "6.21.0",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/visitor-keys/-/visitor-keys-6.21.0.tgz",
+      "integrity": "sha512-JJtkDduxLi9bivAB+cYOVMtbkqdPOhZ+ZI5LC47MIRrDV4Yn2o+ZnW10Nkmr28xRpSpdJ6Sm42Hjf2+REYXm0A==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@typescript-eslint/types": "6.21.0",
+        "eslint-visitor-keys": "^3.4.1"
+      },
+      "engines": {
+        "node": "^16.0.0 || >=18.0.0"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/typescript-eslint"
+      }
+    },
+    "node_modules/@ungap/structured-clone": {
+      "version": "1.3.0",
+      "resolved": "https://registry.npmjs.org/@ungap/structured-clone/-/structured-clone-1.3.0.tgz",
+      "integrity": "sha512-WmoN8qaIAo7WTYWbAZuG8PYEhn5fkz7dZrqTBZ7dtt//lL2Gwms1IcnQ5yHqjDfX8Ft5j4YzDM23f87zBfDe9g==",
+      "dev": true,
+      "license": "ISC"
+    },
+    "node_modules/@vue/compiler-core": {
+      "version": "3.5.27",
+      "resolved": "https://registry.npmjs.org/@vue/compiler-core/-/compiler-core-3.5.27.tgz",
+      "integrity": "sha512-gnSBQjZA+//qDZen+6a2EdHqJ68Z7uybrMf3SPjEGgG4dicklwDVmMC1AeIHxtLVPT7sn6sH1KOO+tS6gwOUeQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/parser": "^7.28.5",
+        "@vue/shared": "3.5.27",
+        "entities": "^7.0.0",
+        "estree-walker": "^2.0.2",
+        "source-map-js": "^1.2.1"
+      }
+    },
+    "node_modules/@vue/compiler-dom": {
+      "version": "3.5.27",
+      "resolved": "https://registry.npmjs.org/@vue/compiler-dom/-/compiler-dom-3.5.27.tgz",
+      "integrity": "sha512-oAFea8dZgCtVVVTEC7fv3T5CbZW9BxpFzGGxC79xakTr6ooeEqmRuvQydIiDAkglZEAd09LgVf1RoDnL54fu5w==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@vue/compiler-core": "3.5.27",
+        "@vue/shared": "3.5.27"
+      }
+    },
+    "node_modules/@vue/compiler-sfc": {
+      "version": "3.5.27",
+      "resolved": "https://registry.npmjs.org/@vue/compiler-sfc/-/compiler-sfc-3.5.27.tgz",
+      "integrity": "sha512-sHZu9QyDPeDmN/MRoshhggVOWE5WlGFStKFwu8G52swATgSny27hJRWteKDSUUzUH+wp+bmeNbhJnEAel/auUQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/parser": "^7.28.5",
+        "@vue/compiler-core": "3.5.27",
+        "@vue/compiler-dom": "3.5.27",
+        "@vue/compiler-ssr": "3.5.27",
+        "@vue/shared": "3.5.27",
+        "estree-walker": "^2.0.2",
+        "magic-string": "^0.30.21",
+        "postcss": "^8.5.6",
+        "source-map-js": "^1.2.1"
+      }
+    },
+    "node_modules/@vue/compiler-ssr": {
+      "version": "3.5.27",
+      "resolved": "https://registry.npmjs.org/@vue/compiler-ssr/-/compiler-ssr-3.5.27.tgz",
+      "integrity": "sha512-Sj7h+JHt512fV1cTxKlYhg7qxBvack+BGncSpH+8vnN+KN95iPIcqB5rsbblX40XorP+ilO7VIKlkuu3Xq2vjw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@vue/compiler-dom": "3.5.27",
+        "@vue/shared": "3.5.27"
+      }
+    },
+    "node_modules/@vue/shared": {
+      "version": "3.5.27",
+      "resolved": "https://registry.npmjs.org/@vue/shared/-/shared-3.5.27.tgz",
+      "integrity": "sha512-dXr/3CgqXsJkZ0n9F3I4elY8wM9jMJpP3pvRG52r6m0tu/MsAFIe6JpXVGeNMd/D9F4hQynWT8Rfuj0bdm9kFQ==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/accepts": {
+      "version": "1.3.8",
+      "resolved": "https://registry.npmjs.org/accepts/-/accepts-1.3.8.tgz",
+      "integrity": "sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "mime-types": "~2.1.34",
+        "negotiator": "0.6.3"
+      },
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/accepts/node_modules/mime-db": {
+      "version": "1.52.0",
+      "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
+      "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/accepts/node_modules/mime-types": {
+      "version": "2.1.35",
+      "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
+      "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "mime-db": "1.52.0"
+      },
+      "engines": {
+        "node": ">= 0.6"
+      }
+    },
+    "node_modules/acorn": {
+      "version": "8.15.0",
+      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.15.0.tgz",
+      "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
+      "dev": true,
+      "license": "MIT",
+      "peer": true,
+      "bin": {
+        "acorn": "bin/acorn"
+      },
+      "engines": {
+        "node": ">=0.4.0"
+      }
+    },
+    "node_modules/acorn-jsx": {
+      "version": "5.3.2",
+      "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz",
+      "integrity": "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==",
+      "dev": true,
+      "license": "MIT",
+      "peerDependencies": {
+        "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0"
+      }
+    },
+    "node_modules/ajv": {
+      "version": "6.12.6",
+      "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz",
+      "integrity": "sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "fast-deep-equal": "^3.1.1",
+        "fast-json-stable-stringify": "^2.0.0",
+        "json-schema-traverse": "^0.4.1",
+        "uri-js": "^4.2.2"
+      },
+      "funding": {
+        "type": "github",
+        "url": "https://github.com/sponsors/epoberezkin"
+      }
+    },
+    "node_modules/ansi-regex": {
+      "version": "5.0.1",
+      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
+      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/ansi-styles": {
+      "version": "4.3.0",
+      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
+      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "color-convert": "^2.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
+      }
+    },
+    "node_modules/anymatch": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-2.0.0.tgz",
+      "integrity": "sha512-5teOsQWABXHHBFP9y3skS5P3d/WfWXpv3FUpy+LorMrNYaT9pI4oLMQX7jzQ2KklNpGpWHzdCXTDT2Y3XGlZBw==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "micromatch": "^3.1.4",
+        "normalize-path": "^2.1.1"
+      }
+    },
+    "node_modules/anymatch/node_modules/normalize-path": {
+      "version": "2.1.1",
+      "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-2.1.1.tgz",
+      "integrity": "sha512-3pKJwH184Xo/lnH6oyP1q2pMd7HcypqqmRs91/6/i2CGtWwIKGCkOOMTm/zXbgTEWHw1uNpNi/igc3ePOYHb6w==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "remove-trailing-separator": "^1.0.1"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/apache-crypt": {
+      "version": "1.2.6",
+      "resolved": "https://registry.npmjs.org/apache-crypt/-/apache-crypt-1.2.6.tgz",
+      "integrity": "sha512-072WetlM4blL8PREJVeY+WHiUh1R5VNt2HfceGS8aKqttPHcmqE5pkKuXPz/ULmJOFkc8Hw3kfKl6vy7Qka6DA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "unix-crypt-td-js": "^1.1.4"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/apache-md5": {
+      "version": "1.1.8",
+      "resolved": "https://registry.npmjs.org/apache-md5/-/apache-md5-1.1.8.tgz",
+      "integrity": "sha512-FCAJojipPn0bXjuEpjOOOMN8FZDkxfWWp4JGN9mifU2IhxvKyXZYqpzPHdnTSUpmPDy+tsslB6Z1g+Vg6nVbYA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/argparse": {
+      "version": "1.0.10",
+      "resolved": "https://registry.npmjs.org/argparse/-/argparse-1.0.10.tgz",
+      "integrity": "sha512-o5Roy6tNG4SL/FOkCAN6RzjiakZS25RLYFrcMttJqbdd8BWrnA+fGz57iN5Pb06pvBGvl5gQ0B48dJlslXvoTg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "sprintf-js": "~1.0.2"
+      }
+    },
+    "node_modules/arr-diff": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/arr-diff/-/arr-diff-4.0.0.tgz",
+      "integrity": "sha512-YVIQ82gZPGBebQV/a8dar4AitzCQs0jjXwMPZllpXMaGjXPYVUawSxQrRsjhjupyVxEvbHgUmIhKVlND+j02kA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/arr-flatten": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/arr-flatten/-/arr-flatten-1.1.0.tgz",
+      "integrity": "sha512-L3hKV5R/p5o81R7O02IGnwpDmkp6E982XhtbuwSe3O4qOtMMMtodicASA1Cny2U+aCXcNpml+m4dPsvsJ3jatg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/arr-union": {
+      "version": "3.1.0",
+      "resolved": "https://registry.npmjs.org/arr-union/-/arr-union-3.1.0.tgz",
+      "integrity": "sha512-sKpyeERZ02v1FeCZT8lrfJq5u6goHCtpTAzPwJYe7c8SPFOboNjNg1vz2L4VTn9T4PQxEx13TbXLmYUcS6Ug7Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/array-buffer-byte-length": {
+      "version": "1.0.2",
+      "resolved": "https://registry.npmjs.org/array-buffer-byte-length/-/array-buffer-byte-length-1.0.2.tgz",
+      "integrity": "sha512-LHE+8BuR7RYGDKvnrmcuSq3tDcKv9OFEXQt/HpbZhY7V6h0zlUXutnAD82GiFx9rdieCMjkvtcsPqBwgUl1Iiw==",
+      "dev": true,
+      "dependencies": {
+        "call-bound": "^1.0.3",
+        "is-array-buffer": "^3.0.5"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/array-differ": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/array-differ/-/array-differ-3.0.0.tgz",
+      "integrity": "sha512-THtfYS6KtME/yIAhKjZ2ul7XI96lQGHRputJQHO80LAWQnuGP4iCIN8vdMRboGbIEYBwU33q8Tch1os2+X0kMg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/array-union": {
+      "version": "2.1.0",
+      "resolved": "https://registry.npmjs.org/array-union/-/array-union-2.1.0.tgz",
+      "integrity": "sha512-HGyxoOTYUyCM6stUe6EJgnd4EoewAI7zMdfqO+kGjnlZmBDz/cR5pf8r/cR4Wq60sL/p0IkcjUEEPwS3GFrIyw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/array-unique": {
+      "version": "0.3.2",
+      "resolved": "https://registry.npmjs.org/array-unique/-/array-unique-0.3.2.tgz",
+      "integrity": "sha512-SleRWjh9JUud2wH1hPs9rZBZ33H6T9HOiL0uwGnGx9FpE6wKGyfWugmbkEOIs6qWrZhg0LWeLziLrEwQJhs5mQ==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
       }
     },
     "node_modules/arraybuffer.prototype.slice": {
@@ -625,6 +1636,16 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/arrify": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/arrify/-/arrify-2.0.1.tgz",
+      "integrity": "sha512-3duEwti880xqi4eAMN8AyR4a0ByT90zoYdLlevfrvU43vb0YZwZVfxOgxWrLXXXpyugL0hNZc9G6BiB5B3nUug==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/assign-symbols": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/assign-symbols/-/assign-symbols-1.0.0.tgz",
@@ -635,6 +1656,13 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/async": {
+      "version": "3.2.6",
+      "resolved": "https://registry.npmjs.org/async/-/async-3.2.6.tgz",
+      "integrity": "sha512-htCUDlxyyCLMgaM3xXg0C0LW2xqfuQ6p05pCEIsXuyQ+a1koYKTuBMzRNwmybfLgvJDMd0r1LTn4+E0Ti6C2AA==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/async-each": {
       "version": "1.0.6",
       "resolved": "https://registry.npmjs.org/async-each/-/async-each-1.0.6.tgz",
@@ -657,6 +1685,16 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/at-least-node": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/at-least-node/-/at-least-node-1.0.0.tgz",
+      "integrity": "sha512-+q/t7Ekv1EDY2l6Gda6LLiX14rU9TV20Wa3ofeQmwPFZbOMo9DXrLbOjFaaclkXKWidIaopwAObQDqwWtGUjqg==",
+      "dev": true,
+      "license": "ISC",
+      "engines": {
+        "node": ">= 4.0.0"
+      }
+    },
     "node_modules/atob": {
       "version": "2.1.2",
       "resolved": "https://registry.npmjs.org/atob/-/atob-2.1.2.tgz",
@@ -770,6 +1808,14 @@
         "file-uri-to-path": "1.0.0"
       }
     },
+    "node_modules/boolean": {
+      "version": "3.2.0",
+      "resolved": "https://registry.npmjs.org/boolean/-/boolean-3.2.0.tgz",
+      "integrity": "sha512-d0II/GO9uf9lfUHH2BQsjxzRJZBdsjgsBiW4BvhWk/3qoKwQFjIDVN19PfX8F2D/r9PCMTtLWjYVCFrpeYUzsw==",
+      "deprecated": "Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.",
+      "license": "MIT",
+      "optional": true
+    },
     "node_modules/brace-expansion": {
       "version": "1.1.12",
       "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
@@ -802,6 +1848,28 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/btoa": {
+      "version": "1.2.1",
+      "resolved": "https://registry.npmjs.org/btoa/-/btoa-1.2.1.tgz",
+      "integrity": "sha512-SB4/MIGlsiVkMcHmT+pSmIPoNDoHg+7cMzmt3Uxt628MTz2487DKSqK/fuhFBrkuqrYv5UCEnACpF4dTFNKc/g==",
+      "dev": true,
+      "license": "(MIT OR Apache-2.0)",
+      "bin": {
+        "btoa": "bin/btoa.js"
+      },
+      "engines": {
+        "node": ">= 0.4.0"
+      }
+    },
+    "node_modules/buffer-crc32": {
+      "version": "0.2.13",
+      "resolved": "https://registry.npmjs.org/buffer-crc32/-/buffer-crc32-0.2.13.tgz",
+      "integrity": "sha512-VO9Ht/+p3SN7SKWqcrgEzjGbRSJYTx+Q1pTQC0wrWqHx0vpJraQ6GtHx8tvcg1rlK1byhU5gccxgOgj7B0TDkQ==",
+      "license": "MIT",
+      "engines": {
+        "node": "*"
+      }
+    },
     "node_modules/cache-base": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/cache-base/-/cache-base-1.0.1.tgz",
@@ -823,6 +1891,33 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/cacheable-lookup": {
+      "version": "5.0.4",
+      "resolved": "https://registry.npmjs.org/cacheable-lookup/-/cacheable-lookup-5.0.4.tgz",
+      "integrity": "sha512-2/kNscPhpcxrOigMZzbiWF7dz8ilhb/nIHU3EyZiXWXpeq/au8qJ8VhdftMkty3n7Gj6HIGalQG8oiBNB3AJgA==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=10.6.0"
+      }
+    },
+    "node_modules/cacheable-request": {
+      "version": "7.0.4",
+      "resolved": "https://registry.npmjs.org/cacheable-request/-/cacheable-request-7.0.4.tgz",
+      "integrity": "sha512-v+p6ongsrp0yTGbJXjgxPow2+DL93DASP4kXCDKb8/bwRtt9OEF3whggkkDkGNzgcWy2XaF4a8nZglC7uElscg==",
+      "license": "MIT",
+      "dependencies": {
+        "clone-response": "^1.0.2",
+        "get-stream": "^5.1.0",
+        "http-cache-semantics": "^4.0.0",
+        "keyv": "^4.0.0",
+        "lowercase-keys": "^2.0.0",
+        "normalize-url": "^6.0.1",
+        "responselike": "^2.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/call-bind": {
       "version": "1.0.8",
       "resolved": "https://registry.npmjs.org/call-bind/-/call-bind-1.0.8.tgz",
@@ -870,6 +1965,55 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/callsite": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/callsite/-/callsite-1.0.0.tgz",
+      "integrity": "sha512-0vdNRFXn5q+dtOqjfFtmtlI9N2eVZ7LMyEV2iKC5mEEFvSg/69Ml6b/WU2qF8W1nLRa0wiSrDT3Y5jOHZCwKPQ==",
+      "dev": true,
+      "engines": {
+        "node": "*"
+      }
+    },
+    "node_modules/callsites": {
+      "version": "3.1.0",
+      "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
+      "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6"
+      }
+    },
+    "node_modules/camelcase": {
+      "version": "6.3.0",
+      "resolved": "https://registry.npmjs.org/camelcase/-/camelcase-6.3.0.tgz",
+      "integrity": "sha512-Gmy6FhYlCY7uOElZUSbxo2UCDH8owEk996gkbrpsgGtrJLM3J7jGxl9Ic7Qwwj4ivOE5AWZWRMecDdF7hqGjFA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/chalk": {
+      "version": "4.1.2",
+      "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
+      "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-styles": "^4.1.0",
+        "supports-color": "^7.1.0"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/chalk?sponsor=1"
+      }
+    },
     "node_modules/chokidar": {
       "version": "2.1.8",
       "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-2.1.8.tgz",
@@ -936,6 +2080,37 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/cliui": {
+      "version": "7.0.4",
+      "resolved": "https://registry.npmjs.org/cliui/-/cliui-7.0.4.tgz",
+      "integrity": "sha512-OcRE68cOsVMXp1Yvonl/fzkQOyjLSu/8bhPDfQt0e0/Eb283TKP20Fs2MqoPsr9SwA595rRCA+QMzYc9nBP+JQ==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "string-width": "^4.2.0",
+        "strip-ansi": "^6.0.0",
+        "wrap-ansi": "^7.0.0"
+      }
+    },
+    "node_modules/clone-response": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/clone-response/-/clone-response-1.0.3.tgz",
+      "integrity": "sha512-ROoL94jJH2dUVML2Y/5PEDNaSHgeOdSDicUyS7izcF63G6sTc/FTjLub4b8Il9S8S0beOfYt0TaA5qvFK+w0wA==",
+      "license": "MIT",
+      "dependencies": {
+        "mimic-response": "^1.0.0"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/code-block-writer": {
+      "version": "10.1.1",
+      "resolved": "https://registry.npmjs.org/code-block-writer/-/code-block-writer-10.1.1.tgz",
+      "integrity": "sha512-67ueh2IRGst/51p0n6FvPrnRjAGHY5F8xdjkgrYE7DDzpJe6qA07RYQ9VcoUeo5ATOjSOiWpSL3SWBRRbempMw==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/collection-visit": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/collection-visit/-/collection-visit-1.0.0.tgz",
@@ -950,6 +2125,26 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/color-convert": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
+      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "color-name": "~1.1.4"
+      },
+      "engines": {
+        "node": ">=7.0.0"
+      }
+    },
+    "node_modules/color-name": {
+      "version": "1.1.4",
+      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
+      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/colors": {
       "version": "1.4.0",
       "resolved": "https://registry.npmjs.org/colors/-/colors-1.4.0.tgz",
@@ -1009,6 +2204,13 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/convert-source-map": {
+      "version": "1.9.0",
+      "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-1.9.0.tgz",
+      "integrity": "sha512-ASFBup0Mz1uyiIjANan1jzLQami9z1PoYSZCiiYW2FczPbenXc45FZdBZLzOT+r6+iciuEModtmCti+hjaAk0A==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/copy-descriptor": {
       "version": "0.1.1",
       "resolved": "https://registry.npmjs.org/copy-descriptor/-/copy-descriptor-0.1.1.tgz",
@@ -1040,6 +2242,52 @@
         "node": ">= 0.10"
       }
     },
+    "node_modules/cosmiconfig": {
+      "version": "7.1.0",
+      "resolved": "https://registry.npmjs.org/cosmiconfig/-/cosmiconfig-7.1.0.tgz",
+      "integrity": "sha512-AdmX6xUzdNASswsFtmwSt7Vj8po9IuqXm0UXz7QKPuEUmPB4XyjGfaAr2PSuELMwkRMVH1EpIkX5bTZGRB3eCA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@types/parse-json": "^4.0.0",
+        "import-fresh": "^3.2.1",
+        "parse-json": "^5.0.0",
+        "path-type": "^4.0.0",
+        "yaml": "^1.10.0"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/cosmiconfig/node_modules/parse-json": {
+      "version": "5.2.0",
+      "resolved": "https://registry.npmjs.org/parse-json/-/parse-json-5.2.0.tgz",
+      "integrity": "sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/code-frame": "^7.0.0",
+        "error-ex": "^1.3.1",
+        "json-parse-even-better-errors": "^2.3.0",
+        "lines-and-columns": "^1.1.6"
+      },
+      "engines": {
+        "node": ">=8"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/cosmiconfig/node_modules/path-type": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/path-type/-/path-type-4.0.0.tgz",
+      "integrity": "sha512-gDKb8aZMDeD/tZWs9P6+q0J9Mwkdl6xMV8TjnGP3qJVJ06bdMgkbBlLU8IdfOsIsFz2BW1rNVT3XuNEl8zPAvw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/cpf-cnpj-validator": {
       "version": "1.0.3",
       "resolved": "https://registry.npmjs.org/cpf-cnpj-validator/-/cpf-cnpj-validator-1.0.3.tgz",
@@ -1119,7 +2367,6 @@
       "version": "4.4.3",
       "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.3.tgz",
       "integrity": "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==",
-      "dev": true,
       "dependencies": {
         "ms": "^2.1.3"
       },
@@ -1142,11 +2389,54 @@
         "node": ">=0.10"
       }
     },
+    "node_modules/decompress-response": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/decompress-response/-/decompress-response-6.0.0.tgz",
+      "integrity": "sha512-aW35yZM6Bb/4oJlZncMH2LCoZtJXTRxES17vE3hoRiowU2kWHaJKFkSBDnDR+cm9J+9QhXmREyIfv0pji9ejCQ==",
+      "license": "MIT",
+      "dependencies": {
+        "mimic-response": "^3.1.0"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/decompress-response/node_modules/mimic-response": {
+      "version": "3.1.0",
+      "resolved": "https://registry.npmjs.org/mimic-response/-/mimic-response-3.1.0.tgz",
+      "integrity": "sha512-z0yWI+4FDrrweS8Zmt4Ej5HdJmky15+L2e6Wgn3+iK5fWzb6T3fhNFq2+MeTRb064c6Wr4N/wv0DzQTjNzHNGQ==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/deep-is": {
+      "version": "0.1.4",
+      "resolved": "https://registry.npmjs.org/deep-is/-/deep-is-0.1.4.tgz",
+      "integrity": "sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/defer-to-connect": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/defer-to-connect/-/defer-to-connect-2.0.1.tgz",
+      "integrity": "sha512-4tvttepXG1VaYGrRibk5EwJd1t4udunSOVMdLSAL6mId1ix438oPwPZMALY41FCijukO1L0twNcGsdzS7dHgDg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=10"
+      }
+    },
     "node_modules/define-data-property": {
       "version": "1.1.4",
       "resolved": "https://registry.npmjs.org/define-data-property/-/define-data-property-1.1.4.tgz",
       "integrity": "sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A==",
-      "dev": true,
+      "devOptional": true,
       "dependencies": {
         "es-define-property": "^1.0.0",
         "es-errors": "^1.3.0",
@@ -1159,45 +2449,195 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
-    "node_modules/define-properties": {
-      "version": "1.2.1",
-      "resolved": "https://registry.npmjs.org/define-properties/-/define-properties-1.2.1.tgz",
-      "integrity": "sha512-8QmQKqEASLd5nx0U1B1okLElbUuuttJ/AnYmRXbbbGDWh6uS208EjD4Xqq/I9wK7u0v6O08XhTWnt5XtEbR6Dg==",
+    "node_modules/define-properties": {
+      "version": "1.2.1",
+      "resolved": "https://registry.npmjs.org/define-properties/-/define-properties-1.2.1.tgz",
+      "integrity": "sha512-8QmQKqEASLd5nx0U1B1okLElbUuuttJ/AnYmRXbbbGDWh6uS208EjD4Xqq/I9wK7u0v6O08XhTWnt5XtEbR6Dg==",
+      "devOptional": true,
+      "dependencies": {
+        "define-data-property": "^1.0.1",
+        "has-property-descriptors": "^1.0.0",
+        "object-keys": "^1.1.1"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/define-property": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/define-property/-/define-property-2.0.2.tgz",
+      "integrity": "sha512-jwK2UV4cnPpbcG7+VRARKTZPUWowwXA8bzH5NP6ud0oeAxyYPuGZUAC7hMugpCdz4BeSZl2Dl9k66CHJ/46ZYQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "is-descriptor": "^1.0.2",
+        "isobject": "^3.0.1"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/depcheck": {
+      "version": "1.4.7",
+      "resolved": "https://registry.npmjs.org/depcheck/-/depcheck-1.4.7.tgz",
+      "integrity": "sha512-1lklS/bV5chOxwNKA/2XUUk/hPORp8zihZsXflr8x0kLwmcZ9Y9BsS6Hs3ssvA+2wUVbG0U2Ciqvm1SokNjPkA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/parser": "^7.23.0",
+        "@babel/traverse": "^7.23.2",
+        "@vue/compiler-sfc": "^3.3.4",
+        "callsite": "^1.0.0",
+        "camelcase": "^6.3.0",
+        "cosmiconfig": "^7.1.0",
+        "debug": "^4.3.4",
+        "deps-regex": "^0.2.0",
+        "findup-sync": "^5.0.0",
+        "ignore": "^5.2.4",
+        "is-core-module": "^2.12.0",
+        "js-yaml": "^3.14.1",
+        "json5": "^2.2.3",
+        "lodash": "^4.17.21",
+        "minimatch": "^7.4.6",
+        "multimatch": "^5.0.0",
+        "please-upgrade-node": "^3.2.0",
+        "readdirp": "^3.6.0",
+        "require-package-name": "^2.0.1",
+        "resolve": "^1.22.3",
+        "resolve-from": "^5.0.0",
+        "semver": "^7.5.4",
+        "yargs": "^16.2.0"
+      },
+      "bin": {
+        "depcheck": "bin/depcheck.js"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/depcheck/node_modules/brace-expansion": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
+      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "balanced-match": "^1.0.0"
+      }
+    },
+    "node_modules/depcheck/node_modules/minimatch": {
+      "version": "7.4.6",
+      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-7.4.6.tgz",
+      "integrity": "sha512-sBz8G/YjVniEz6lKPNpKxXwazJe4c19fEfV2GDMX6AjFz+MX9uDWIZW8XreVhkFW3fkIdTv/gxWr/Kks5FFAVw==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "brace-expansion": "^2.0.1"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
+    "node_modules/depcheck/node_modules/readdirp": {
+      "version": "3.6.0",
+      "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
+      "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "picomatch": "^2.2.1"
+      },
+      "engines": {
+        "node": ">=8.10.0"
+      }
+    },
+    "node_modules/depcheck/node_modules/semver": {
+      "version": "7.7.3",
+      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
+      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
+      "dev": true,
+      "license": "ISC",
+      "bin": {
+        "semver": "bin/semver.js"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/depd": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/depd/-/depd-2.0.0.tgz",
+      "integrity": "sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/deps-regex": {
+      "version": "0.2.0",
+      "resolved": "https://registry.npmjs.org/deps-regex/-/deps-regex-0.2.0.tgz",
+      "integrity": "sha512-PwuBojGMQAYbWkMXOY9Pd/NWCDNHVH12pnS7WHqZkTSeMESe4hwnKKRp0yR87g37113x4JPbo/oIvXY+s/f56Q==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/detect-file": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/detect-file/-/detect-file-1.0.0.tgz",
+      "integrity": "sha512-DtCOLG98P007x7wiiOmfI0fi3eIKyWiLTGJ2MDnVi/E04lWGbf+JzrRHMm0rgIIZJGtHpKpbVgLWHrv8xXpc3Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/detect-node": {
+      "version": "2.1.0",
+      "resolved": "https://registry.npmjs.org/detect-node/-/detect-node-2.1.0.tgz",
+      "integrity": "sha512-T0NIuQpnTvFDATNuHN5roPwSBG83rFsuO+MXXH9/3N1eFbn4wcPjttvjMLEPWJ0RGUYgQE7cGgS3tNxbqCGM7g==",
+      "license": "MIT",
+      "optional": true
+    },
+    "node_modules/dir-glob": {
+      "version": "3.0.1",
+      "resolved": "https://registry.npmjs.org/dir-glob/-/dir-glob-3.0.1.tgz",
+      "integrity": "sha512-WkrWp9GR4KXfKGYzOLmTuGVi1UWFfws377n9cc55/tb6DuqyF6pcQ5AbiHEshaDpY9v6oaSr2XCDidGmMwdzIA==",
       "dev": true,
+      "license": "MIT",
       "dependencies": {
-        "define-data-property": "^1.0.1",
-        "has-property-descriptors": "^1.0.0",
-        "object-keys": "^1.1.1"
+        "path-type": "^4.0.0"
       },
       "engines": {
-        "node": ">= 0.4"
-      },
-      "funding": {
-        "url": "https://github.com/sponsors/ljharb"
+        "node": ">=8"
       }
     },
-    "node_modules/define-property": {
-      "version": "2.0.2",
-      "resolved": "https://registry.npmjs.org/define-property/-/define-property-2.0.2.tgz",
-      "integrity": "sha512-jwK2UV4cnPpbcG7+VRARKTZPUWowwXA8bzH5NP6ud0oeAxyYPuGZUAC7hMugpCdz4BeSZl2Dl9k66CHJ/46ZYQ==",
+    "node_modules/dir-glob/node_modules/path-type": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/path-type/-/path-type-4.0.0.tgz",
+      "integrity": "sha512-gDKb8aZMDeD/tZWs9P6+q0J9Mwkdl6xMV8TjnGP3qJVJ06bdMgkbBlLU8IdfOsIsFz2BW1rNVT3XuNEl8zPAvw==",
       "dev": true,
       "license": "MIT",
-      "dependencies": {
-        "is-descriptor": "^1.0.2",
-        "isobject": "^3.0.1"
-      },
       "engines": {
-        "node": ">=0.10.0"
+        "node": ">=8"
       }
     },
-    "node_modules/depd": {
-      "version": "2.0.0",
-      "resolved": "https://registry.npmjs.org/depd/-/depd-2.0.0.tgz",
-      "integrity": "sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==",
+    "node_modules/doctrine": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/doctrine/-/doctrine-3.0.0.tgz",
+      "integrity": "sha512-yS+Q5i3hBf7GBkd4KG8a7eBNNWNGLTaEwwYWUijIYM7zrlYDM0BFXHjjPWlWZ1Rg7UaddZeIDmi9jF3HmqiQ2w==",
       "dev": true,
-      "license": "MIT",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "esutils": "^2.0.2"
+      },
       "engines": {
-        "node": ">= 0.8"
+        "node": ">=6.0.0"
       }
     },
     "node_modules/dunder-proto": {
@@ -1228,6 +2668,47 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/ejs": {
+      "version": "3.1.10",
+      "resolved": "https://registry.npmjs.org/ejs/-/ejs-3.1.10.tgz",
+      "integrity": "sha512-UeJmFfOrAQS8OJWPZ4qtgHyWExa088/MtK5UEyoJGFH67cDEXkZSviOiKRCZ4Xij0zxI3JECgYs3oKx+AizQBA==",
+      "dev": true,
+      "license": "Apache-2.0",
+      "dependencies": {
+        "jake": "^10.8.5"
+      },
+      "bin": {
+        "ejs": "bin/cli.js"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/electron": {
+      "version": "40.0.0",
+      "resolved": "https://registry.npmjs.org/electron/-/electron-40.0.0.tgz",
+      "integrity": "sha512-UyBy5yJ0/wm4gNugCtNPjvddjAknMTuXR2aCHioXicH7aKRKGDBPp4xqTEi/doVcB3R+MN3wfU9o8d/9pwgK2A==",
+      "hasInstallScript": true,
+      "license": "MIT",
+      "dependencies": {
+        "@electron/get": "^2.0.0",
+        "@types/node": "^24.9.0",
+        "extract-zip": "^2.0.1"
+      },
+      "bin": {
+        "electron": "cli.js"
+      },
+      "engines": {
+        "node": ">= 12.20.55"
+      }
+    },
+    "node_modules/emoji-regex": {
+      "version": "8.0.0",
+      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
+      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/encodeurl": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz",
@@ -1238,6 +2719,37 @@
         "node": ">= 0.8"
       }
     },
+    "node_modules/end-of-stream": {
+      "version": "1.4.5",
+      "resolved": "https://registry.npmjs.org/end-of-stream/-/end-of-stream-1.4.5.tgz",
+      "integrity": "sha512-ooEGc6HP26xXq/N+GCGOT0JKCLDGrq2bQUZrQ7gyrJiZANJ/8YDTxTpQBXGMn+WbIQXNVpyWymm7KYVICQnyOg==",
+      "license": "MIT",
+      "dependencies": {
+        "once": "^1.4.0"
+      }
+    },
+    "node_modules/entities": {
+      "version": "7.0.0",
+      "resolved": "https://registry.npmjs.org/entities/-/entities-7.0.0.tgz",
+      "integrity": "sha512-FDWG5cmEYf2Z00IkYRhbFrwIwvdFKH07uV8dvNy0omp/Qb1xcyCWp2UDtcwJF4QZZvk0sLudP6/hAu42TaqVhQ==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "engines": {
+        "node": ">=0.12"
+      },
+      "funding": {
+        "url": "https://github.com/fb55/entities?sponsor=1"
+      }
+    },
+    "node_modules/env-paths": {
+      "version": "2.2.1",
+      "resolved": "https://registry.npmjs.org/env-paths/-/env-paths-2.2.1.tgz",
+      "integrity": "sha512-+h1lkLKhZMTYjog1VEpJNG7NZJWcuc2DDk/qsqSTRRCOXiLjeQ1d1/udrUGhqMxUgAlwKNZ0cf2uqan5GLuS2A==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=6"
+      }
+    },
     "node_modules/error-ex": {
       "version": "1.3.4",
       "resolved": "https://registry.npmjs.org/error-ex/-/error-ex-1.3.4.tgz",
@@ -1309,128 +2821,491 @@
         "which-typed-array": "^1.1.19"
       },
       "engines": {
-        "node": ">= 0.4"
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/es-define-property": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
+      "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
+      "devOptional": true,
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/es-errors": {
+      "version": "1.3.0",
+      "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
+      "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
+      "devOptional": true,
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/es-object-atoms": {
+      "version": "1.1.1",
+      "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
+      "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
+      "dev": true,
+      "dependencies": {
+        "es-errors": "^1.3.0"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/es-set-tostringtag": {
+      "version": "2.1.0",
+      "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
+      "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
+      "dev": true,
+      "dependencies": {
+        "es-errors": "^1.3.0",
+        "get-intrinsic": "^1.2.6",
+        "has-tostringtag": "^1.0.2",
+        "hasown": "^2.0.2"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      }
+    },
+    "node_modules/es-to-primitive": {
+      "version": "1.3.0",
+      "resolved": "https://registry.npmjs.org/es-to-primitive/-/es-to-primitive-1.3.0.tgz",
+      "integrity": "sha512-w+5mJ3GuFL+NjVtJlvydShqE1eN3h3PbI7/5LAsYJP/2qtuMXjfL2LpHSRqo4b4eSF5K/DH1JXKUAHSB2UW50g==",
+      "dev": true,
+      "dependencies": {
+        "is-callable": "^1.2.7",
+        "is-date-object": "^1.0.5",
+        "is-symbol": "^1.0.4"
+      },
+      "engines": {
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/es6-error": {
+      "version": "4.1.1",
+      "resolved": "https://registry.npmjs.org/es6-error/-/es6-error-4.1.1.tgz",
+      "integrity": "sha512-Um/+FxMr9CISWh0bi5Zv0iOD+4cFh5qLeks1qhAopKVAJw3drgKbKySikp7wGhDL0HPeaja0P5ULZrxLkniUVg==",
+      "license": "MIT",
+      "optional": true
+    },
+    "node_modules/esbuild": {
+      "version": "0.24.2",
+      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.24.2.tgz",
+      "integrity": "sha512-+9egpBW8I3CD5XPe0n6BfT5fxLzxrlDzqydF3aviG+9ni1lDC/OvMHcxqEFV0+LANZG5R1bFMWfUrjVsdwxJvA==",
+      "dev": true,
+      "hasInstallScript": true,
+      "bin": {
+        "esbuild": "bin/esbuild"
+      },
+      "engines": {
+        "node": ">=18"
+      },
+      "optionalDependencies": {
+        "@esbuild/aix-ppc64": "0.24.2",
+        "@esbuild/android-arm": "0.24.2",
+        "@esbuild/android-arm64": "0.24.2",
+        "@esbuild/android-x64": "0.24.2",
+        "@esbuild/darwin-arm64": "0.24.2",
+        "@esbuild/darwin-x64": "0.24.2",
+        "@esbuild/freebsd-arm64": "0.24.2",
+        "@esbuild/freebsd-x64": "0.24.2",
+        "@esbuild/linux-arm": "0.24.2",
+        "@esbuild/linux-arm64": "0.24.2",
+        "@esbuild/linux-ia32": "0.24.2",
+        "@esbuild/linux-loong64": "0.24.2",
+        "@esbuild/linux-mips64el": "0.24.2",
+        "@esbuild/linux-ppc64": "0.24.2",
+        "@esbuild/linux-riscv64": "0.24.2",
+        "@esbuild/linux-s390x": "0.24.2",
+        "@esbuild/linux-x64": "0.24.2",
+        "@esbuild/netbsd-arm64": "0.24.2",
+        "@esbuild/netbsd-x64": "0.24.2",
+        "@esbuild/openbsd-arm64": "0.24.2",
+        "@esbuild/openbsd-x64": "0.24.2",
+        "@esbuild/sunos-x64": "0.24.2",
+        "@esbuild/win32-arm64": "0.24.2",
+        "@esbuild/win32-ia32": "0.24.2",
+        "@esbuild/win32-x64": "0.24.2"
+      }
+    },
+    "node_modules/escalade": {
+      "version": "3.2.0",
+      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
+      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6"
+      }
+    },
+    "node_modules/escape-html": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
+      "integrity": "sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/escape-string-regexp": {
+      "version": "1.0.5",
+      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-1.0.5.tgz",
+      "integrity": "sha512-vbRorB5FUQWvla16U8R/qgaFIya2qGzwDrNmCZuYKrbdSUMG6I1ZCGQRefkRVhuOkIGVne7BQ35DSfo1qvJqFg==",
+      "dev": true,
+      "engines": {
+        "node": ">=0.8.0"
+      }
+    },
+    "node_modules/eslint": {
+      "version": "8.57.1",
+      "resolved": "https://registry.npmjs.org/eslint/-/eslint-8.57.1.tgz",
+      "integrity": "sha512-ypowyDxpVSYpkXr9WPv2PAZCtNip1Mv5KTW0SCurXv/9iOpcrH9PaqUElksqEB6pChqHGDRCFTyrZlGhnLNGiA==",
+      "deprecated": "This version is no longer supported. Please see https://eslint.org/version-support for other options.",
+      "dev": true,
+      "license": "MIT",
+      "peer": true,
+      "dependencies": {
+        "@eslint-community/eslint-utils": "^4.2.0",
+        "@eslint-community/regexpp": "^4.6.1",
+        "@eslint/eslintrc": "^2.1.4",
+        "@eslint/js": "8.57.1",
+        "@humanwhocodes/config-array": "^0.13.0",
+        "@humanwhocodes/module-importer": "^1.0.1",
+        "@nodelib/fs.walk": "^1.2.8",
+        "@ungap/structured-clone": "^1.2.0",
+        "ajv": "^6.12.4",
+        "chalk": "^4.0.0",
+        "cross-spawn": "^7.0.2",
+        "debug": "^4.3.2",
+        "doctrine": "^3.0.0",
+        "escape-string-regexp": "^4.0.0",
+        "eslint-scope": "^7.2.2",
+        "eslint-visitor-keys": "^3.4.3",
+        "espree": "^9.6.1",
+        "esquery": "^1.4.2",
+        "esutils": "^2.0.2",
+        "fast-deep-equal": "^3.1.3",
+        "file-entry-cache": "^6.0.1",
+        "find-up": "^5.0.0",
+        "glob-parent": "^6.0.2",
+        "globals": "^13.19.0",
+        "graphemer": "^1.4.0",
+        "ignore": "^5.2.0",
+        "imurmurhash": "^0.1.4",
+        "is-glob": "^4.0.0",
+        "is-path-inside": "^3.0.3",
+        "js-yaml": "^4.1.0",
+        "json-stable-stringify-without-jsonify": "^1.0.1",
+        "levn": "^0.4.1",
+        "lodash.merge": "^4.6.2",
+        "minimatch": "^3.1.2",
+        "natural-compare": "^1.4.0",
+        "optionator": "^0.9.3",
+        "strip-ansi": "^6.0.1",
+        "text-table": "^0.2.0"
+      },
+      "bin": {
+        "eslint": "bin/eslint.js"
+      },
+      "engines": {
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/eslint"
+      }
+    },
+    "node_modules/eslint-plugin-unused-imports": {
+      "version": "3.2.0",
+      "resolved": "https://registry.npmjs.org/eslint-plugin-unused-imports/-/eslint-plugin-unused-imports-3.2.0.tgz",
+      "integrity": "sha512-6uXyn6xdINEpxE1MtDjxQsyXB37lfyO2yKGVVgtD7WEWQGORSOZjgrD6hBhvGv4/SO+TOlS+UnC6JppRqbuwGQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "eslint-rule-composer": "^0.3.0"
+      },
+      "engines": {
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      },
+      "peerDependencies": {
+        "@typescript-eslint/eslint-plugin": "6 - 7",
+        "eslint": "8"
+      },
+      "peerDependenciesMeta": {
+        "@typescript-eslint/eslint-plugin": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/eslint-rule-composer": {
+      "version": "0.3.0",
+      "resolved": "https://registry.npmjs.org/eslint-rule-composer/-/eslint-rule-composer-0.3.0.tgz",
+      "integrity": "sha512-bt+Sh8CtDmn2OajxvNO+BX7Wn4CIWMpTRm3MaiKPCQcnnlm0CS2mhui6QaoeQugs+3Kj2ESKEEGJUdVafwhiCg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=4.0.0"
+      }
+    },
+    "node_modules/eslint-scope": {
+      "version": "7.2.2",
+      "resolved": "https://registry.npmjs.org/eslint-scope/-/eslint-scope-7.2.2.tgz",
+      "integrity": "sha512-dOt21O7lTMhDM+X9mB4GX+DZrZtCUJPL/wlcTqxyrx5IvO0IYtILdtrQGQp+8n5S0gwSVmOf9NQrjMOgfQZlIg==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "esrecurse": "^4.3.0",
+        "estraverse": "^5.2.0"
+      },
+      "engines": {
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/eslint"
+      }
+    },
+    "node_modules/eslint-visitor-keys": {
+      "version": "3.4.3",
+      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz",
+      "integrity": "sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==",
+      "dev": true,
+      "license": "Apache-2.0",
+      "engines": {
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/eslint"
+      }
+    },
+    "node_modules/eslint/node_modules/argparse": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
+      "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
+      "dev": true,
+      "license": "Python-2.0"
+    },
+    "node_modules/eslint/node_modules/cross-spawn": {
+      "version": "7.0.6",
+      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
+      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "path-key": "^3.1.0",
+        "shebang-command": "^2.0.0",
+        "which": "^2.0.1"
+      },
+      "engines": {
+        "node": ">= 8"
+      }
+    },
+    "node_modules/eslint/node_modules/escape-string-regexp": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz",
+      "integrity": "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=10"
       },
       "funding": {
-        "url": "https://github.com/sponsors/ljharb"
+        "url": "https://github.com/sponsors/sindresorhus"
       }
     },
-    "node_modules/es-define-property": {
-      "version": "1.0.1",
-      "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
-      "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
+    "node_modules/eslint/node_modules/espree": {
+      "version": "9.6.1",
+      "resolved": "https://registry.npmjs.org/espree/-/espree-9.6.1.tgz",
+      "integrity": "sha512-oruZaFkjorTpF32kDSI5/75ViwGeZginGGy2NoOSg3Q9bnwlnmDm4HLnkl0RE3n+njDXR037aY1+x58Z/zFdwQ==",
       "dev": true,
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "acorn": "^8.9.0",
+        "acorn-jsx": "^5.3.2",
+        "eslint-visitor-keys": "^3.4.1"
+      },
       "engines": {
-        "node": ">= 0.4"
+        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/eslint"
       }
     },
-    "node_modules/es-errors": {
-      "version": "1.3.0",
-      "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
-      "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
+    "node_modules/eslint/node_modules/glob-parent": {
+      "version": "6.0.2",
+      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
+      "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
       "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "is-glob": "^4.0.3"
+      },
       "engines": {
-        "node": ">= 0.4"
+        "node": ">=10.13.0"
       }
     },
-    "node_modules/es-object-atoms": {
-      "version": "1.1.1",
-      "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
-      "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
+    "node_modules/eslint/node_modules/js-yaml": {
+      "version": "4.1.1",
+      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.1.tgz",
+      "integrity": "sha512-qQKT4zQxXl8lLwBtHMWwaTcGfFOZviOJet3Oy/xmGk2gZH677CJM9EvtfdSkgWcATZhj/55JZ0rmy3myCT5lsA==",
       "dev": true,
+      "license": "MIT",
       "dependencies": {
-        "es-errors": "^1.3.0"
+        "argparse": "^2.0.1"
       },
+      "bin": {
+        "js-yaml": "bin/js-yaml.js"
+      }
+    },
+    "node_modules/eslint/node_modules/path-key": {
+      "version": "3.1.1",
+      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
+      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
+      "dev": true,
+      "license": "MIT",
       "engines": {
-        "node": ">= 0.4"
+        "node": ">=8"
       }
     },
-    "node_modules/es-set-tostringtag": {
-      "version": "2.1.0",
-      "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
-      "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
+    "node_modules/eslint/node_modules/shebang-command": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
+      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
       "dev": true,
+      "license": "MIT",
       "dependencies": {
-        "es-errors": "^1.3.0",
-        "get-intrinsic": "^1.2.6",
-        "has-tostringtag": "^1.0.2",
-        "hasown": "^2.0.2"
+        "shebang-regex": "^3.0.0"
       },
       "engines": {
-        "node": ">= 0.4"
+        "node": ">=8"
       }
     },
-    "node_modules/es-to-primitive": {
-      "version": "1.3.0",
-      "resolved": "https://registry.npmjs.org/es-to-primitive/-/es-to-primitive-1.3.0.tgz",
-      "integrity": "sha512-w+5mJ3GuFL+NjVtJlvydShqE1eN3h3PbI7/5LAsYJP/2qtuMXjfL2LpHSRqo4b4eSF5K/DH1JXKUAHSB2UW50g==",
+    "node_modules/eslint/node_modules/shebang-regex": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
+      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/eslint/node_modules/which": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
+      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
       "dev": true,
+      "license": "ISC",
       "dependencies": {
-        "is-callable": "^1.2.7",
-        "is-date-object": "^1.0.5",
-        "is-symbol": "^1.0.4"
+        "isexe": "^2.0.0"
+      },
+      "bin": {
+        "node-which": "bin/node-which"
       },
       "engines": {
-        "node": ">= 0.4"
+        "node": ">= 8"
+      }
+    },
+    "node_modules/espree": {
+      "version": "11.0.0",
+      "resolved": "https://registry.npmjs.org/espree/-/espree-11.0.0.tgz",
+      "integrity": "sha512-+gMeWRrIh/NsG+3NaLeWHuyeyk70p2tbvZIWBYcqQ4/7Xvars6GYTZNhF1sIeLcc6Wb11He5ffz3hsHyXFrw5A==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "acorn": "^8.15.0",
+        "acorn-jsx": "^5.3.2",
+        "eslint-visitor-keys": "^5.0.0"
+      },
+      "engines": {
+        "node": "^20.19.0 || ^22.13.0 || >=24"
       },
       "funding": {
-        "url": "https://github.com/sponsors/ljharb"
+        "url": "https://opencollective.com/eslint"
       }
     },
-    "node_modules/esbuild": {
-      "version": "0.24.2",
-      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.24.2.tgz",
-      "integrity": "sha512-+9egpBW8I3CD5XPe0n6BfT5fxLzxrlDzqydF3aviG+9ni1lDC/OvMHcxqEFV0+LANZG5R1bFMWfUrjVsdwxJvA==",
+    "node_modules/espree/node_modules/eslint-visitor-keys": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-5.0.0.tgz",
+      "integrity": "sha512-A0XeIi7CXU7nPlfHS9loMYEKxUaONu/hTEzHTGba9Huu94Cq1hPivf+DE5erJozZOky0LfvXAyrV/tcswpLI0Q==",
       "dev": true,
-      "hasInstallScript": true,
+      "license": "Apache-2.0",
+      "engines": {
+        "node": "^20.19.0 || ^22.13.0 || >=24"
+      },
+      "funding": {
+        "url": "https://opencollective.com/eslint"
+      }
+    },
+    "node_modules/esprima": {
+      "version": "4.0.1",
+      "resolved": "https://registry.npmjs.org/esprima/-/esprima-4.0.1.tgz",
+      "integrity": "sha512-eGuFFw7Upda+g4p+QHvnW0RyTX/SVeJBDM/gCtMARO0cLuT2HcEKnTPvhjV6aGeqrCB/sbNop0Kszm0jsaWU4A==",
+      "dev": true,
+      "license": "BSD-2-Clause",
       "bin": {
-        "esbuild": "bin/esbuild"
+        "esparse": "bin/esparse.js",
+        "esvalidate": "bin/esvalidate.js"
       },
       "engines": {
-        "node": ">=18"
+        "node": ">=4"
+      }
+    },
+    "node_modules/esquery": {
+      "version": "1.7.0",
+      "resolved": "https://registry.npmjs.org/esquery/-/esquery-1.7.0.tgz",
+      "integrity": "sha512-Ap6G0WQwcU/LHsvLwON1fAQX9Zp0A2Y6Y/cJBl9r/JbW90Zyg4/zbG6zzKa2OTALELarYHmKu0GhpM5EO+7T0g==",
+      "dev": true,
+      "license": "BSD-3-Clause",
+      "dependencies": {
+        "estraverse": "^5.1.0"
       },
-      "optionalDependencies": {
-        "@esbuild/aix-ppc64": "0.24.2",
-        "@esbuild/android-arm": "0.24.2",
-        "@esbuild/android-arm64": "0.24.2",
-        "@esbuild/android-x64": "0.24.2",
-        "@esbuild/darwin-arm64": "0.24.2",
-        "@esbuild/darwin-x64": "0.24.2",
-        "@esbuild/freebsd-arm64": "0.24.2",
-        "@esbuild/freebsd-x64": "0.24.2",
-        "@esbuild/linux-arm": "0.24.2",
-        "@esbuild/linux-arm64": "0.24.2",
-        "@esbuild/linux-ia32": "0.24.2",
-        "@esbuild/linux-loong64": "0.24.2",
-        "@esbuild/linux-mips64el": "0.24.2",
-        "@esbuild/linux-ppc64": "0.24.2",
-        "@esbuild/linux-riscv64": "0.24.2",
-        "@esbuild/linux-s390x": "0.24.2",
-        "@esbuild/linux-x64": "0.24.2",
-        "@esbuild/netbsd-arm64": "0.24.2",
-        "@esbuild/netbsd-x64": "0.24.2",
-        "@esbuild/openbsd-arm64": "0.24.2",
-        "@esbuild/openbsd-x64": "0.24.2",
-        "@esbuild/sunos-x64": "0.24.2",
-        "@esbuild/win32-arm64": "0.24.2",
-        "@esbuild/win32-ia32": "0.24.2",
-        "@esbuild/win32-x64": "0.24.2"
+      "engines": {
+        "node": ">=0.10"
       }
     },
-    "node_modules/escape-html": {
-      "version": "1.0.3",
-      "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
-      "integrity": "sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==",
+    "node_modules/esrecurse": {
+      "version": "4.3.0",
+      "resolved": "https://registry.npmjs.org/esrecurse/-/esrecurse-4.3.0.tgz",
+      "integrity": "sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "estraverse": "^5.2.0"
+      },
+      "engines": {
+        "node": ">=4.0"
+      }
+    },
+    "node_modules/estraverse": {
+      "version": "5.3.0",
+      "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
+      "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "engines": {
+        "node": ">=4.0"
+      }
+    },
+    "node_modules/estree-walker": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/estree-walker/-/estree-walker-2.0.2.tgz",
+      "integrity": "sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w==",
       "dev": true,
       "license": "MIT"
     },
-    "node_modules/escape-string-regexp": {
-      "version": "1.0.5",
-      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-1.0.5.tgz",
-      "integrity": "sha512-vbRorB5FUQWvla16U8R/qgaFIya2qGzwDrNmCZuYKrbdSUMG6I1ZCGQRefkRVhuOkIGVne7BQ35DSfo1qvJqFg==",
+    "node_modules/esutils": {
+      "version": "2.0.3",
+      "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
+      "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
       "dev": true,
+      "license": "BSD-2-Clause",
       "engines": {
-        "node": ">=0.8.0"
+        "node": ">=0.10.0"
       }
     },
     "node_modules/etag": {
@@ -1522,6 +3397,19 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/expand-tilde": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/expand-tilde/-/expand-tilde-2.0.2.tgz",
+      "integrity": "sha512-A5EmesHW6rfnZ9ysHQjPdJRni0SRar0tjtG5MNtm9n5TUvsYU8oozprtRD4AqHxcZWWlVuAmQo2nWKfN9oyjTw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "homedir-polyfill": "^1.0.1"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/extend-shallow": {
       "version": "2.0.1",
       "resolved": "https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz",
@@ -1568,6 +3456,150 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/extract-zip": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/extract-zip/-/extract-zip-2.0.1.tgz",
+      "integrity": "sha512-GDhU9ntwuKyGXdZBUgTIe+vXnWj0fppUEtMDL0+idd5Sta8TGpHssn/eusA9mrPr9qNDym6SxAYZjNvCn/9RBg==",
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "debug": "^4.1.1",
+        "get-stream": "^5.1.0",
+        "yauzl": "^2.10.0"
+      },
+      "bin": {
+        "extract-zip": "cli.js"
+      },
+      "engines": {
+        "node": ">= 10.17.0"
+      },
+      "optionalDependencies": {
+        "@types/yauzl": "^2.9.1"
+      }
+    },
+    "node_modules/fast-deep-equal": {
+      "version": "3.1.3",
+      "resolved": "https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz",
+      "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/fast-glob": {
+      "version": "3.3.3",
+      "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.3.tgz",
+      "integrity": "sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@nodelib/fs.stat": "^2.0.2",
+        "@nodelib/fs.walk": "^1.2.3",
+        "glob-parent": "^5.1.2",
+        "merge2": "^1.3.0",
+        "micromatch": "^4.0.8"
+      },
+      "engines": {
+        "node": ">=8.6.0"
+      }
+    },
+    "node_modules/fast-glob/node_modules/braces": {
+      "version": "3.0.3",
+      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
+      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "fill-range": "^7.1.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/fast-glob/node_modules/fill-range": {
+      "version": "7.1.1",
+      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
+      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "to-regex-range": "^5.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/fast-glob/node_modules/glob-parent": {
+      "version": "5.1.2",
+      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
+      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "is-glob": "^4.0.1"
+      },
+      "engines": {
+        "node": ">= 6"
+      }
+    },
+    "node_modules/fast-glob/node_modules/is-number": {
+      "version": "7.0.0",
+      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
+      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.12.0"
+      }
+    },
+    "node_modules/fast-glob/node_modules/micromatch": {
+      "version": "4.0.8",
+      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
+      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "braces": "^3.0.3",
+        "picomatch": "^2.3.1"
+      },
+      "engines": {
+        "node": ">=8.6"
+      }
+    },
+    "node_modules/fast-glob/node_modules/to-regex-range": {
+      "version": "5.0.1",
+      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
+      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "is-number": "^7.0.0"
+      },
+      "engines": {
+        "node": ">=8.0"
+      }
+    },
+    "node_modules/fast-json-stable-stringify": {
+      "version": "2.1.0",
+      "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
+      "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/fast-levenshtein": {
+      "version": "2.0.6",
+      "resolved": "https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz",
+      "integrity": "sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/fastq": {
+      "version": "1.20.1",
+      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.20.1.tgz",
+      "integrity": "sha512-GGToxJ/w1x32s/D2EKND7kTil4n8OVk/9mycTc4VDza13lOvpUZTGX3mFSCtV9ksdGBVzvsyAVLM6mHFThxXxw==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "reusify": "^1.0.4"
+      }
+    },
     "node_modules/faye-websocket": {
       "version": "0.11.4",
       "resolved": "https://registry.npmjs.org/faye-websocket/-/faye-websocket-0.11.4.tgz",
@@ -1581,6 +3613,28 @@
         "node": ">=0.8.0"
       }
     },
+    "node_modules/fd-slicer": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/fd-slicer/-/fd-slicer-1.1.0.tgz",
+      "integrity": "sha512-cE1qsB/VwyQozZ+q1dGxR8LBYNZeofhEdUNGSMbQD3Gw2lAzX9Zb3uIU6Ebc/Fmyjo9AWWfnn0AUCHqtevs/8g==",
+      "license": "MIT",
+      "dependencies": {
+        "pend": "~1.2.0"
+      }
+    },
+    "node_modules/file-entry-cache": {
+      "version": "6.0.1",
+      "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-6.0.1.tgz",
+      "integrity": "sha512-7Gps/XWymbLk2QLYK4NzpMOrYjMhdIxXuIvy2QBsLE6ljuodKvdkWs/cpyJJ3CVIVpH0Oi1Hvg1ovbMzLdFBBg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "flat-cache": "^3.0.4"
+      },
+      "engines": {
+        "node": "^10.12.0 || >=12.0.0"
+      }
+    },
     "node_modules/file-uri-to-path": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/file-uri-to-path/-/file-uri-to-path-1.0.0.tgz",
@@ -1589,6 +3643,39 @@
       "license": "MIT",
       "optional": true
     },
+    "node_modules/filelist": {
+      "version": "1.0.4",
+      "resolved": "https://registry.npmjs.org/filelist/-/filelist-1.0.4.tgz",
+      "integrity": "sha512-w1cEuf3S+DrLCQL7ET6kz+gmlJdbq9J7yXCSjK/OZCPA+qEN1WyF4ZAf0YYJa4/shHJra2t/d/r8SV4Ji+x+8Q==",
+      "dev": true,
+      "license": "Apache-2.0",
+      "dependencies": {
+        "minimatch": "^5.0.1"
+      }
+    },
+    "node_modules/filelist/node_modules/brace-expansion": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
+      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "balanced-match": "^1.0.0"
+      }
+    },
+    "node_modules/filelist/node_modules/minimatch": {
+      "version": "5.1.6",
+      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-5.1.6.tgz",
+      "integrity": "sha512-lKwV/1brpG6mBUFHtb7NUmtABCb2WZZmm2wNiOA5hAb8VdCS4B3dtMWyvcoViccwAW/COERjXLt0zP1zXUN26g==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "brace-expansion": "^2.0.1"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
     "node_modules/fill-range": {
       "version": "4.0.0",
       "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-4.0.0.tgz",
@@ -1641,6 +3728,124 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/find-up": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/find-up/-/find-up-5.0.0.tgz",
+      "integrity": "sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "locate-path": "^6.0.0",
+        "path-exists": "^4.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/findup-sync": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/findup-sync/-/findup-sync-5.0.0.tgz",
+      "integrity": "sha512-MzwXju70AuyflbgeOhzvQWAvvQdo1XL0A9bVvlXsYcFEBM87WR4OakL4OfZq+QRmr+duJubio+UtNQCPsVESzQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "detect-file": "^1.0.0",
+        "is-glob": "^4.0.3",
+        "micromatch": "^4.0.4",
+        "resolve-dir": "^1.0.1"
+      },
+      "engines": {
+        "node": ">= 10.13.0"
+      }
+    },
+    "node_modules/findup-sync/node_modules/braces": {
+      "version": "3.0.3",
+      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
+      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "fill-range": "^7.1.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/findup-sync/node_modules/fill-range": {
+      "version": "7.1.1",
+      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
+      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "to-regex-range": "^5.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/findup-sync/node_modules/is-number": {
+      "version": "7.0.0",
+      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
+      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.12.0"
+      }
+    },
+    "node_modules/findup-sync/node_modules/micromatch": {
+      "version": "4.0.8",
+      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
+      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "braces": "^3.0.3",
+        "picomatch": "^2.3.1"
+      },
+      "engines": {
+        "node": ">=8.6"
+      }
+    },
+    "node_modules/findup-sync/node_modules/to-regex-range": {
+      "version": "5.0.1",
+      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
+      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "is-number": "^7.0.0"
+      },
+      "engines": {
+        "node": ">=8.0"
+      }
+    },
+    "node_modules/flat-cache": {
+      "version": "3.2.0",
+      "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-3.2.0.tgz",
+      "integrity": "sha512-CYcENa+FtcUKLmhhqyctpclsq7QF38pKjZHsGNiSQF5r4FtoKDWabFDl3hzaEQMvT1LHEysw5twgLvpYYb4vbw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "flatted": "^3.2.9",
+        "keyv": "^4.5.3",
+        "rimraf": "^3.0.2"
+      },
+      "engines": {
+        "node": "^10.12.0 || >=12.0.0"
+      }
+    },
+    "node_modules/flatted": {
+      "version": "3.3.3",
+      "resolved": "https://registry.npmjs.org/flatted/-/flatted-3.3.3.tgz",
+      "integrity": "sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==",
+      "dev": true,
+      "license": "ISC"
+    },
     "node_modules/for-each": {
       "version": "0.3.5",
       "resolved": "https://registry.npmjs.org/for-each/-/for-each-0.3.5.tgz",
@@ -1696,6 +3901,29 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/fs-extra": {
+      "version": "9.1.0",
+      "resolved": "https://registry.npmjs.org/fs-extra/-/fs-extra-9.1.0.tgz",
+      "integrity": "sha512-hcg3ZmepS30/7BSFqRvoo3DOMQu7IjqxO5nCDt+zM9XWjb33Wg7ziNT+Qvqbuc3+gWpzO02JubVyk2G4Zvo1OQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "at-least-node": "^1.0.0",
+        "graceful-fs": "^4.2.0",
+        "jsonfile": "^6.0.1",
+        "universalify": "^2.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/fs.realpath": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz",
+      "integrity": "sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==",
+      "dev": true,
+      "license": "ISC"
+    },
     "node_modules/fsevents": {
       "version": "1.2.13",
       "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-1.2.13.tgz",
@@ -1763,6 +3991,16 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/get-caller-file": {
+      "version": "2.0.5",
+      "resolved": "https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz",
+      "integrity": "sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==",
+      "dev": true,
+      "license": "ISC",
+      "engines": {
+        "node": "6.* || 8.* || >= 10.*"
+      }
+    },
     "node_modules/get-intrinsic": {
       "version": "1.3.0",
       "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
@@ -1800,6 +4038,21 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/get-stream": {
+      "version": "5.2.0",
+      "resolved": "https://registry.npmjs.org/get-stream/-/get-stream-5.2.0.tgz",
+      "integrity": "sha512-nBF+F1rAZVCu/p7rjzgA+Yb4lfYXrpl7a6VmJrU8wF9I1CKvP/QwPNZHnOlwbTkY6dvtFIzFMSyQXbLoTQPRpA==",
+      "license": "MIT",
+      "dependencies": {
+        "pump": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/get-symbol-description": {
       "version": "1.1.0",
       "resolved": "https://registry.npmjs.org/get-symbol-description/-/get-symbol-description-1.1.0.tgz",
@@ -1827,6 +4080,28 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/glob": {
+      "version": "7.2.3",
+      "resolved": "https://registry.npmjs.org/glob/-/glob-7.2.3.tgz",
+      "integrity": "sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==",
+      "deprecated": "Glob versions prior to v9 are no longer supported",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "fs.realpath": "^1.0.0",
+        "inflight": "^1.0.4",
+        "inherits": "2",
+        "minimatch": "^3.1.1",
+        "once": "^1.3.0",
+        "path-is-absolute": "^1.0.0"
+      },
+      "engines": {
+        "node": "*"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
     "node_modules/glob-parent": {
       "version": "3.1.0",
       "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-3.1.0.tgz",
@@ -1851,11 +4126,90 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/global-agent": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/global-agent/-/global-agent-3.0.0.tgz",
+      "integrity": "sha512-PT6XReJ+D07JvGoxQMkT6qji/jVNfX/h364XHZOWeRzy64sSFr+xJ5OX7LI3b4MPQzdL4H8Y8M0xzPpsVMwA8Q==",
+      "license": "BSD-3-Clause",
+      "optional": true,
+      "dependencies": {
+        "boolean": "^3.0.1",
+        "es6-error": "^4.1.1",
+        "matcher": "^3.0.0",
+        "roarr": "^2.15.3",
+        "semver": "^7.3.2",
+        "serialize-error": "^7.0.1"
+      },
+      "engines": {
+        "node": ">=10.0"
+      }
+    },
+    "node_modules/global-agent/node_modules/semver": {
+      "version": "7.7.3",
+      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
+      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
+      "license": "ISC",
+      "optional": true,
+      "bin": {
+        "semver": "bin/semver.js"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/global-modules": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/global-modules/-/global-modules-1.0.0.tgz",
+      "integrity": "sha512-sKzpEkf11GpOFuw0Zzjzmt4B4UZwjOcG757PPvrfhxcLFbq0wpsgpOqxpxtxFiCG4DtG93M6XRVbF2oGdev7bg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "global-prefix": "^1.0.1",
+        "is-windows": "^1.0.1",
+        "resolve-dir": "^1.0.0"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/global-prefix": {
+      "version": "1.0.2",
+      "resolved": "https://registry.npmjs.org/global-prefix/-/global-prefix-1.0.2.tgz",
+      "integrity": "sha512-5lsx1NUDHtSjfg0eHlmYvZKv8/nVqX4ckFbM+FrGcQ+04KWcWFo9P5MxPZYSzUvyzmdTbI7Eix8Q4IbELDqzKg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "expand-tilde": "^2.0.2",
+        "homedir-polyfill": "^1.0.1",
+        "ini": "^1.3.4",
+        "is-windows": "^1.0.1",
+        "which": "^1.2.14"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/globals": {
+      "version": "13.24.0",
+      "resolved": "https://registry.npmjs.org/globals/-/globals-13.24.0.tgz",
+      "integrity": "sha512-AhO5QUcj8llrbG09iWhPU2B204J1xnPeL8kQmVorSsy+Sjj1sk8gIyh6cUocGmH4L0UuhAJy+hJMRA4mgA4mFQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "type-fest": "^0.20.2"
+      },
+      "engines": {
+        "node": ">=8"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/globalthis": {
       "version": "1.0.4",
       "resolved": "https://registry.npmjs.org/globalthis/-/globalthis-1.0.4.tgz",
       "integrity": "sha512-DpLKbNU4WylpxJykQujfCcwYWiV/Jhm50Goo0wrVILAv5jOr9d+H+UR3PhSCD2rCCEIg0uc+G+muBTwD54JhDQ==",
-      "dev": true,
+      "devOptional": true,
       "dependencies": {
         "define-properties": "^1.2.1",
         "gopd": "^1.0.1"
@@ -1867,11 +4221,32 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/globby": {
+      "version": "11.1.0",
+      "resolved": "https://registry.npmjs.org/globby/-/globby-11.1.0.tgz",
+      "integrity": "sha512-jhIXaOzy1sb8IyocaruWSn1TjmnBVs8Ayhcy83rmxNJ8q2uWKCAj3CnJY+KpGSXCueAPc0i05kVvVKtP1t9S3g==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "array-union": "^2.1.0",
+        "dir-glob": "^3.0.1",
+        "fast-glob": "^3.2.9",
+        "ignore": "^5.2.0",
+        "merge2": "^1.4.1",
+        "slash": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/gopd": {
       "version": "1.2.0",
       "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
       "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
-      "dev": true,
+      "devOptional": true,
       "engines": {
         "node": ">= 0.4"
       },
@@ -1879,11 +4254,58 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/got": {
+      "version": "11.8.6",
+      "resolved": "https://registry.npmjs.org/got/-/got-11.8.6.tgz",
+      "integrity": "sha512-6tfZ91bOr7bOXnK7PRDCGBLa1H4U080YHNaAQ2KsMGlLEzRbk44nsZF2E1IeRc3vtJHPVbKCYgdFbaGO2ljd8g==",
+      "license": "MIT",
+      "dependencies": {
+        "@sindresorhus/is": "^4.0.0",
+        "@szmarczak/http-timer": "^4.0.5",
+        "@types/cacheable-request": "^6.0.1",
+        "@types/responselike": "^1.0.0",
+        "cacheable-lookup": "^5.0.3",
+        "cacheable-request": "^7.0.2",
+        "decompress-response": "^6.0.0",
+        "http2-wrapper": "^1.0.0-beta.5.2",
+        "lowercase-keys": "^2.0.0",
+        "p-cancelable": "^2.0.0",
+        "responselike": "^2.0.0"
+      },
+      "engines": {
+        "node": ">=10.19.0"
+      },
+      "funding": {
+        "url": "https://github.com/sindresorhus/got?sponsor=1"
+      }
+    },
     "node_modules/graceful-fs": {
       "version": "4.2.11",
       "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
-      "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
-      "dev": true
+      "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ=="
+    },
+    "node_modules/graphemer": {
+      "version": "1.4.0",
+      "resolved": "https://registry.npmjs.org/graphemer/-/graphemer-1.4.0.tgz",
+      "integrity": "sha512-EtKwoO6kxCL9WO5xipiHTZlSzBm7WLT627TqC/uVRd0HKmq8NXyebnNYxDoBi7wt8eTWrUrKXCOVaFq9x1kgag==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/gzip-size": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/gzip-size/-/gzip-size-6.0.0.tgz",
+      "integrity": "sha512-ax7ZYomf6jqPTQ4+XCpUGyXKHk5WweS+e05MBO4/y3WJ5RkmPXNKvX+bx1behVILVwr6JSQvZAku021CHPXG3Q==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "duplexer": "^0.1.2"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
     },
     "node_modules/has-bigints": {
       "version": "1.1.0",
@@ -1897,11 +4319,21 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/has-flag": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
+      "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/has-property-descriptors": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/has-property-descriptors/-/has-property-descriptors-1.0.2.tgz",
       "integrity": "sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg==",
-      "dev": true,
+      "devOptional": true,
       "dependencies": {
         "es-define-property": "^1.0.0"
       },
@@ -2005,6 +4437,19 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/homedir-polyfill": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/homedir-polyfill/-/homedir-polyfill-1.0.3.tgz",
+      "integrity": "sha512-eSmmWE5bZTK2Nou4g0AI3zZ9rswp7GRKoKXS1BLUkvPviOqs4YTN1djQIqrXy9k5gEtdLPy86JjRwsNM9tnDcA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "parse-passwd": "^1.0.0"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/hosted-git-info": {
       "version": "2.8.9",
       "resolved": "https://registry.npmjs.org/hosted-git-info/-/hosted-git-info-2.8.9.tgz",
@@ -2027,6 +4472,12 @@
         "node": ">=4.6.1"
       }
     },
+    "node_modules/http-cache-semantics": {
+      "version": "4.2.0",
+      "resolved": "https://registry.npmjs.org/http-cache-semantics/-/http-cache-semantics-4.2.0.tgz",
+      "integrity": "sha512-dTxcvPXqPvXBQpq5dUr6mEMJX4oIEFv6bwom3FDwKRDsuIjjJGANqhBuoAn9c1RQJIdAKav33ED65E2ys+87QQ==",
+      "license": "BSD-2-Clause"
+    },
     "node_modules/http-errors": {
       "version": "2.0.1",
       "resolved": "https://registry.npmjs.org/http-errors/-/http-errors-2.0.1.tgz",
@@ -2041,29 +4492,101 @@
         "toidentifier": "~1.0.1"
       },
       "engines": {
-        "node": ">= 0.8"
+        "node": ">= 0.8"
+      },
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/express"
+      }
+    },
+    "node_modules/http-errors/node_modules/statuses": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/statuses/-/statuses-2.0.2.tgz",
+      "integrity": "sha512-DvEy55V3DB7uknRo+4iOGT5fP1slR8wQohVdknigZPMpMstaKJQWhwiYBACJE3Ul2pTnATihhBYnRhZQHGBiRw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8"
+      }
+    },
+    "node_modules/http-parser-js": {
+      "version": "0.5.10",
+      "resolved": "https://registry.npmjs.org/http-parser-js/-/http-parser-js-0.5.10.tgz",
+      "integrity": "sha512-Pysuw9XpUq5dVc/2SMHpuTY01RFl8fttgcyunjL7eEMhGM3cI4eOmiCycJDVCo/7O7ClfQD3SaI6ftDzqOXYMA==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/http2-wrapper": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/http2-wrapper/-/http2-wrapper-1.0.3.tgz",
+      "integrity": "sha512-V+23sDMr12Wnz7iTcDeJr3O6AIxlnvT/bmaAAAP/Xda35C90p9599p0F1eHR/N1KILWSoWVAiOMFjBBXaXSMxg==",
+      "license": "MIT",
+      "dependencies": {
+        "quick-lru": "^5.1.1",
+        "resolve-alpn": "^1.0.0"
+      },
+      "engines": {
+        "node": ">=10.19.0"
+      }
+    },
+    "node_modules/ignore": {
+      "version": "5.3.2",
+      "resolved": "https://registry.npmjs.org/ignore/-/ignore-5.3.2.tgz",
+      "integrity": "sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">= 4"
+      }
+    },
+    "node_modules/import-fresh": {
+      "version": "3.3.1",
+      "resolved": "https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.1.tgz",
+      "integrity": "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "parent-module": "^1.0.0",
+        "resolve-from": "^4.0.0"
+      },
+      "engines": {
+        "node": ">=6"
       },
       "funding": {
-        "type": "opencollective",
-        "url": "https://opencollective.com/express"
+        "url": "https://github.com/sponsors/sindresorhus"
       }
     },
-    "node_modules/http-errors/node_modules/statuses": {
-      "version": "2.0.2",
-      "resolved": "https://registry.npmjs.org/statuses/-/statuses-2.0.2.tgz",
-      "integrity": "sha512-DvEy55V3DB7uknRo+4iOGT5fP1slR8wQohVdknigZPMpMstaKJQWhwiYBACJE3Ul2pTnATihhBYnRhZQHGBiRw==",
+    "node_modules/import-fresh/node_modules/resolve-from": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz",
+      "integrity": "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==",
       "dev": true,
       "license": "MIT",
       "engines": {
-        "node": ">= 0.8"
+        "node": ">=4"
       }
     },
-    "node_modules/http-parser-js": {
-      "version": "0.5.10",
-      "resolved": "https://registry.npmjs.org/http-parser-js/-/http-parser-js-0.5.10.tgz",
-      "integrity": "sha512-Pysuw9XpUq5dVc/2SMHpuTY01RFl8fttgcyunjL7eEMhGM3cI4eOmiCycJDVCo/7O7ClfQD3SaI6ftDzqOXYMA==",
+    "node_modules/imurmurhash": {
+      "version": "0.1.4",
+      "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
+      "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
       "dev": true,
-      "license": "MIT"
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.8.19"
+      }
+    },
+    "node_modules/inflight": {
+      "version": "1.0.6",
+      "resolved": "https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz",
+      "integrity": "sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==",
+      "deprecated": "This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "once": "^1.3.0",
+        "wrappy": "1"
+      }
     },
     "node_modules/inherits": {
       "version": "2.0.4",
@@ -2072,6 +4595,13 @@
       "dev": true,
       "license": "ISC"
     },
+    "node_modules/ini": {
+      "version": "1.3.8",
+      "resolved": "https://registry.npmjs.org/ini/-/ini-1.3.8.tgz",
+      "integrity": "sha512-JV/yugV2uzW5iMRSiZAyDtQd+nxtUnjeLt0acNdw98kKLrvuRVyB80tsREOE7yvGVgalhZ6RNXCmEHkUKBKxew==",
+      "dev": true,
+      "license": "ISC"
+    },
     "node_modules/internal-slot": {
       "version": "1.1.0",
       "resolved": "https://registry.npmjs.org/internal-slot/-/internal-slot-1.1.0.tgz",
@@ -2086,6 +4616,20 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/is-absolute": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/is-absolute/-/is-absolute-1.0.0.tgz",
+      "integrity": "sha512-dOWoqflvcydARa360Gvv18DZ/gRuHKi2NU/wU5X1ZFzdYfH29nkiNZsF3mp4OJ3H4yo9Mx8A/uAGNzpzPN3yBA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "is-relative": "^1.0.0",
+        "is-windows": "^1.0.1"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/is-accessor-descriptor": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/is-accessor-descriptor/-/is-accessor-descriptor-1.0.1.tgz",
@@ -2279,6 +4823,22 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/is-docker": {
+      "version": "2.2.1",
+      "resolved": "https://registry.npmjs.org/is-docker/-/is-docker-2.2.1.tgz",
+      "integrity": "sha512-F+i2BKsFrH66iaUFc0woD8sLy8getkwTwtOBjvs56Cx4CgJDeKQeqfz8wAYiSb8JOprWhHH5p77PbmYCvvUuXQ==",
+      "dev": true,
+      "license": "MIT",
+      "bin": {
+        "is-docker": "cli.js"
+      },
+      "engines": {
+        "node": ">=8"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/is-extendable": {
       "version": "0.1.1",
       "resolved": "https://registry.npmjs.org/is-extendable/-/is-extendable-0.1.1.tgz",
@@ -2314,6 +4874,16 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/is-fullwidth-code-point": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
+      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/is-generator-function": {
       "version": "1.1.2",
       "resolved": "https://registry.npmjs.org/is-generator-function/-/is-generator-function-1.1.2.tgz",
@@ -2358,6 +4928,16 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/is-negated-glob": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/is-negated-glob/-/is-negated-glob-1.0.0.tgz",
+      "integrity": "sha512-czXVVn/QEmgvej1f50BZ648vUI+em0xqMq2Sn+QncCLN4zj1UAxlT+kw/6ggQTOaZPd1HqKQGEqbpQVtJucWug==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/is-negative-zero": {
       "version": "2.0.3",
       "resolved": "https://registry.npmjs.org/is-negative-zero/-/is-negative-zero-2.0.3.tgz",
@@ -2399,6 +4979,16 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/is-path-inside": {
+      "version": "3.0.3",
+      "resolved": "https://registry.npmjs.org/is-path-inside/-/is-path-inside-3.0.3.tgz",
+      "integrity": "sha512-Fd4gABb+ycGAmKou8eMftCupSir5lRxqf4aD/vd0cD2qc4HL07OjCeuHMr8Ro4CoMaeCKDB0/ECBOVWjTwUvPQ==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/is-plain-object": {
       "version": "2.0.4",
       "resolved": "https://registry.npmjs.org/is-plain-object/-/is-plain-object-2.0.4.tgz",
@@ -2430,6 +5020,19 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/is-relative": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/is-relative/-/is-relative-1.0.0.tgz",
+      "integrity": "sha512-Kw/ReK0iqwKeu0MITLFuj0jbPAmEiOsIwyIXvvbfa6QfmN9pkD1M+8pdk7Rl/dTKbH34/XBFMbgD4iMJhLQbGA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "is-unc-path": "^1.0.0"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/is-set": {
       "version": "2.0.3",
       "resolved": "https://registry.npmjs.org/is-set/-/is-set-2.0.3.tgz",
@@ -2505,6 +5108,19 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/is-unc-path": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/is-unc-path/-/is-unc-path-1.0.0.tgz",
+      "integrity": "sha512-mrGpVd0fs7WWLfVsStvgF6iEJnbjDFZh9/emhRDcGWTduTfNHd9CHeUwH3gYIjdbwo4On6hunkztwOaAw0yllQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "unc-path-regex": "^0.1.2"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/is-weakmap": {
       "version": "2.0.2",
       "resolved": "https://registry.npmjs.org/is-weakmap/-/is-weakmap-2.0.2.tgz",
@@ -2590,12 +5206,133 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/jake": {
+      "version": "10.9.4",
+      "resolved": "https://registry.npmjs.org/jake/-/jake-10.9.4.tgz",
+      "integrity": "sha512-wpHYzhxiVQL+IV05BLE2Xn34zW1S223hvjtqk0+gsPrwd/8JNLXJgZZM/iPFsYc1xyphF+6M6EvdE5E9MBGkDA==",
+      "dev": true,
+      "license": "Apache-2.0",
+      "dependencies": {
+        "async": "^3.2.6",
+        "filelist": "^1.0.4",
+        "picocolors": "^1.1.1"
+      },
+      "bin": {
+        "jake": "bin/cli.js"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/js-tokens": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
+      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/js-yaml": {
+      "version": "3.14.2",
+      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-3.14.2.tgz",
+      "integrity": "sha512-PMSmkqxr106Xa156c2M265Z+FTrPl+oxd/rgOQy2tijQeK5TxQ43psO1ZCwhVOSdnn+RzkzlRz/eY4BgJBYVpg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "argparse": "^1.0.7",
+        "esprima": "^4.0.0"
+      },
+      "bin": {
+        "js-yaml": "bin/js-yaml.js"
+      }
+    },
+    "node_modules/jsesc": {
+      "version": "3.1.0",
+      "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
+      "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
+      "dev": true,
+      "license": "MIT",
+      "bin": {
+        "jsesc": "bin/jsesc"
+      },
+      "engines": {
+        "node": ">=6"
+      }
+    },
+    "node_modules/json-buffer": {
+      "version": "3.0.1",
+      "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
+      "integrity": "sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==",
+      "license": "MIT"
+    },
     "node_modules/json-parse-better-errors": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/json-parse-better-errors/-/json-parse-better-errors-1.0.2.tgz",
       "integrity": "sha512-mrqyZKfX5EhL7hvqcV6WG1yYjnjeuYDzDhhcAAUrq8Po85NBQBJP+ZDUT75qZQ98IkUoBqdkExkukOU7Ts2wrw==",
       "dev": true
     },
+    "node_modules/json-parse-even-better-errors": {
+      "version": "2.3.1",
+      "resolved": "https://registry.npmjs.org/json-parse-even-better-errors/-/json-parse-even-better-errors-2.3.1.tgz",
+      "integrity": "sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/json-schema-traverse": {
+      "version": "0.4.1",
+      "resolved": "https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz",
+      "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/json-stable-stringify-without-jsonify": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz",
+      "integrity": "sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/json-stringify-safe": {
+      "version": "5.0.1",
+      "resolved": "https://registry.npmjs.org/json-stringify-safe/-/json-stringify-safe-5.0.1.tgz",
+      "integrity": "sha512-ZClg6AaYvamvYEE82d3Iyd3vSSIjQ+odgjaTzRuO3s7toCdFKczob2i0zCh7JE8kWn17yvAWhUVxvqGwUalsRA==",
+      "license": "ISC",
+      "optional": true
+    },
+    "node_modules/json5": {
+      "version": "2.2.3",
+      "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
+      "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
+      "dev": true,
+      "license": "MIT",
+      "bin": {
+        "json5": "lib/cli.js"
+      },
+      "engines": {
+        "node": ">=6"
+      }
+    },
+    "node_modules/jsonfile": {
+      "version": "6.2.0",
+      "resolved": "https://registry.npmjs.org/jsonfile/-/jsonfile-6.2.0.tgz",
+      "integrity": "sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "universalify": "^2.0.0"
+      },
+      "optionalDependencies": {
+        "graceful-fs": "^4.1.6"
+      }
+    },
+    "node_modules/keyv": {
+      "version": "4.5.4",
+      "resolved": "https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz",
+      "integrity": "sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==",
+      "license": "MIT",
+      "dependencies": {
+        "json-buffer": "3.0.1"
+      }
+    },
     "node_modules/kind-of": {
       "version": "3.2.2",
       "resolved": "https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz",
@@ -2609,6 +5346,27 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/levn": {
+      "version": "0.4.1",
+      "resolved": "https://registry.npmjs.org/levn/-/levn-0.4.1.tgz",
+      "integrity": "sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "prelude-ls": "^1.2.1",
+        "type-check": "~0.4.0"
+      },
+      "engines": {
+        "node": ">= 0.8.0"
+      }
+    },
+    "node_modules/lines-and-columns": {
+      "version": "1.2.4",
+      "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
+      "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/live-server": {
       "version": "1.2.2",
       "resolved": "https://registry.npmjs.org/live-server/-/live-server-1.2.2.tgz",
@@ -2652,6 +5410,55 @@
         "node": ">=4"
       }
     },
+    "node_modules/locate-path": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-6.0.0.tgz",
+      "integrity": "sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "p-locate": "^5.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/lodash": {
+      "version": "4.17.21",
+      "resolved": "https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz",
+      "integrity": "sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/lodash.merge": {
+      "version": "4.6.2",
+      "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
+      "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/lowercase-keys": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/lowercase-keys/-/lowercase-keys-2.0.0.tgz",
+      "integrity": "sha512-tqNXrS78oMOE73NMxK4EMLQsQowWf8jKooH9g7xPavRT706R6bkQJ6DY2Te7QukaZsulxa30wQ7bk0pm4XiHmA==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/magic-string": {
+      "version": "0.30.21",
+      "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.21.tgz",
+      "integrity": "sha512-vd2F4YUyEXKGcLHoq+TEyCjxueSeHnFxyyjNp80yg0XV4vUhnDer/lvvlqM/arB5bXQN5K2/3oinyCRyx8T2CQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@jridgewell/sourcemap-codec": "^1.5.5"
+      }
+    },
     "node_modules/map-cache": {
       "version": "0.2.2",
       "resolved": "https://registry.npmjs.org/map-cache/-/map-cache-0.2.2.tgz",
@@ -2681,6 +5488,32 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/matcher": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/matcher/-/matcher-3.0.0.tgz",
+      "integrity": "sha512-OkeDaAZ/bQCxeFAozM55PKcKU0yJMPGifLwV4Qgjitu+5MoAfSQN4lsLJeXZ1b8w0x+/Emda6MZgXS1jvsapng==",
+      "license": "MIT",
+      "optional": true,
+      "dependencies": {
+        "escape-string-regexp": "^4.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/matcher/node_modules/escape-string-regexp": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz",
+      "integrity": "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==",
+      "license": "MIT",
+      "optional": true,
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/math-intrinsics": {
       "version": "1.1.0",
       "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
@@ -2699,6 +5532,16 @@
         "node": ">= 0.10.0"
       }
     },
+    "node_modules/merge2": {
+      "version": "1.4.1",
+      "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
+      "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">= 8"
+      }
+    },
     "node_modules/micromatch": {
       "version": "3.1.10",
       "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-3.1.10.tgz",
@@ -2788,6 +5631,15 @@
         "url": "https://opencollective.com/express"
       }
     },
+    "node_modules/mimic-response": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/mimic-response/-/mimic-response-1.0.1.tgz",
+      "integrity": "sha512-j5EctnkH7amfV/q5Hgmoal1g2QHFJRraOtmx0JpIqkxhBhI/lJSl1nMpQ45hVarwNETOoWEimndZ4QK0RHxuxQ==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=4"
+      }
+    },
     "node_modules/minimatch": {
       "version": "3.1.2",
       "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
@@ -2800,6 +5652,16 @@
         "node": "*"
       }
     },
+    "node_modules/minimist": {
+      "version": "1.2.8",
+      "resolved": "https://registry.npmjs.org/minimist/-/minimist-1.2.8.tgz",
+      "integrity": "sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA==",
+      "dev": true,
+      "license": "MIT",
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
     "node_modules/mixin-deep": {
       "version": "1.3.2",
       "resolved": "https://registry.npmjs.org/mixin-deep/-/mixin-deep-1.3.2.tgz",
@@ -2827,6 +5689,19 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/mkdirp": {
+      "version": "0.5.6",
+      "resolved": "https://registry.npmjs.org/mkdirp/-/mkdirp-0.5.6.tgz",
+      "integrity": "sha512-FP+p8RB8OWpF3YZBCrP5gtADmtXApB5AMLn+vdyA+PyxCjrCs00mjyUozssO33cwDeT3wNGdLxJ5M//YqtHAJw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "minimist": "^1.2.6"
+      },
+      "bin": {
+        "mkdirp": "bin/cmd.js"
+      }
+    },
     "node_modules/morgan": {
       "version": "1.10.1",
       "resolved": "https://registry.npmjs.org/morgan/-/morgan-1.10.1.tgz",
@@ -2864,8 +5739,27 @@
     "node_modules/ms": {
       "version": "2.1.3",
       "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
-      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
-      "dev": true
+      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA=="
+    },
+    "node_modules/multimatch": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/multimatch/-/multimatch-5.0.0.tgz",
+      "integrity": "sha512-ypMKuglUrZUD99Tk2bUQ+xNQj43lPEfAeX2o9cTteAmShXy2VHDJpuwu1o0xqoKCt9jLVAvwyFKdLTPXKAfJyA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@types/minimatch": "^3.0.3",
+        "array-differ": "^3.0.0",
+        "array-union": "^2.1.0",
+        "arrify": "^2.0.1",
+        "minimatch": "^3.0.4"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
     },
     "node_modules/nan": {
       "version": "2.24.0",
@@ -2875,6 +5769,25 @@
       "license": "MIT",
       "optional": true
     },
+    "node_modules/nanoid": {
+      "version": "3.3.11",
+      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
+      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/ai"
+        }
+      ],
+      "license": "MIT",
+      "bin": {
+        "nanoid": "bin/nanoid.cjs"
+      },
+      "engines": {
+        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
+      }
+    },
     "node_modules/nanomatch": {
       "version": "1.2.13",
       "resolved": "https://registry.npmjs.org/nanomatch/-/nanomatch-1.2.13.tgz",
@@ -2935,6 +5848,13 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/natural-compare": {
+      "version": "1.4.0",
+      "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
+      "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/negotiator": {
       "version": "0.6.3",
       "resolved": "https://registry.npmjs.org/negotiator/-/negotiator-0.6.3.tgz",
@@ -2973,6 +5893,18 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/normalize-url": {
+      "version": "6.1.0",
+      "resolved": "https://registry.npmjs.org/normalize-url/-/normalize-url-6.1.0.tgz",
+      "integrity": "sha512-DlL+XwOy3NxAQ8xuC0okPgK46iuVNAK01YN7RueYBqqFeGsBjV9XmCAzAdgt+667bCl5kPh9EqKKDwnaPG1I7A==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/npm-run-all": {
       "version": "4.1.5",
       "resolved": "https://registry.npmjs.org/npm-run-all/-/npm-run-all-4.1.5.tgz",
@@ -3128,7 +6060,7 @@
       "version": "1.1.1",
       "resolved": "https://registry.npmjs.org/object-keys/-/object-keys-1.1.1.tgz",
       "integrity": "sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==",
-      "dev": true,
+      "devOptional": true,
       "engines": {
         "node": ">= 0.4"
       }
@@ -3202,6 +6134,45 @@
         "node": ">= 0.8"
       }
     },
+    "node_modules/once": {
+      "version": "1.4.0",
+      "resolved": "https://registry.npmjs.org/once/-/once-1.4.0.tgz",
+      "integrity": "sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==",
+      "license": "ISC",
+      "dependencies": {
+        "wrappy": "1"
+      }
+    },
+    "node_modules/open": {
+      "version": "7.4.2",
+      "resolved": "https://registry.npmjs.org/open/-/open-7.4.2.tgz",
+      "integrity": "sha512-MVHddDVweXZF3awtlAS+6pgKLlm/JgxZ90+/NBurBoQctVOOB/zDdVjcyPzQ+0laDGbsWgrRkflI65sQeOgT9Q==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "is-docker": "^2.0.0",
+        "is-wsl": "^2.1.1"
+      },
+      "engines": {
+        "node": ">=8"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/open/node_modules/is-wsl": {
+      "version": "2.2.0",
+      "resolved": "https://registry.npmjs.org/is-wsl/-/is-wsl-2.2.0.tgz",
+      "integrity": "sha512-fKzAra0rGJUUBwGBgNkHZuToZcn+TtXHpeCgmkMJMMYx1sQDYaCSyjJBSCa2nH1DGm7s3n1oBnohoVTBaN7Lww==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "is-docker": "^2.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/opn": {
       "version": "6.0.0",
       "resolved": "https://registry.npmjs.org/opn/-/opn-6.0.0.tgz",
@@ -3216,6 +6187,24 @@
         "node": ">=8"
       }
     },
+    "node_modules/optionator": {
+      "version": "0.9.4",
+      "resolved": "https://registry.npmjs.org/optionator/-/optionator-0.9.4.tgz",
+      "integrity": "sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "deep-is": "^0.1.3",
+        "fast-levenshtein": "^2.0.6",
+        "levn": "^0.4.1",
+        "prelude-ls": "^1.2.1",
+        "type-check": "^0.4.0",
+        "word-wrap": "^1.2.5"
+      },
+      "engines": {
+        "node": ">= 0.8.0"
+      }
+    },
     "node_modules/own-keys": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/own-keys/-/own-keys-1.0.1.tgz",
@@ -3233,11 +6222,65 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/p-cancelable": {
+      "version": "2.1.1",
+      "resolved": "https://registry.npmjs.org/p-cancelable/-/p-cancelable-2.1.1.tgz",
+      "integrity": "sha512-BZOr3nRQHOntUjTrH8+Lh54smKHoHyur8We1V8DSMVrl5A2malOOwuJRnKRDjSnkoeBh4at6BwEnb5I7Jl31wg==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/p-limit": {
+      "version": "3.1.0",
+      "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
+      "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "yocto-queue": "^0.1.0"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/p-locate": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-5.0.0.tgz",
+      "integrity": "sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "p-limit": "^3.0.2"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/papaparse": {
       "version": "5.5.3",
       "resolved": "https://registry.npmjs.org/papaparse/-/papaparse-5.5.3.tgz",
       "integrity": "sha512-5QvjGxYVjxO59MGU2lHVYpRWBBtKHnlIAcSe1uNFCkkptUh63NFRj0FJQm7nR67puEruUci/ZkjmEFrjCAyP4A=="
     },
+    "node_modules/parent-module": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
+      "integrity": "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "callsites": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=6"
+      }
+    },
     "node_modules/parse-json": {
       "version": "4.0.0",
       "resolved": "https://registry.npmjs.org/parse-json/-/parse-json-4.0.0.tgz",
@@ -3251,6 +6294,16 @@
         "node": ">=4"
       }
     },
+    "node_modules/parse-passwd": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/parse-passwd/-/parse-passwd-1.0.0.tgz",
+      "integrity": "sha512-1Y1A//QUXEZK7YKz+rD9WydcE1+EuPr6ZBgKecAB8tmoW6UFv0NREVJe1p+jRxtThkcbbKkfwIbWJe/IeE6m2Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/parseurl": {
       "version": "1.3.3",
       "resolved": "https://registry.npmjs.org/parseurl/-/parseurl-1.3.3.tgz",
@@ -3278,6 +6331,16 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/path-exists": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
+      "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/path-is-absolute": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz",
@@ -3328,6 +6391,32 @@
         "through": "~2.3"
       }
     },
+    "node_modules/pend": {
+      "version": "1.2.0",
+      "resolved": "https://registry.npmjs.org/pend/-/pend-1.2.0.tgz",
+      "integrity": "sha512-F3asv42UuXchdzt+xXqfW1OGlVBe+mxa2mqI0pg5yAHZPvFmY3Y6drSf/GQ1A86WgWEN9Kzh/WrgKa6iGcHXLg==",
+      "license": "MIT"
+    },
+    "node_modules/picocolors": {
+      "version": "1.1.1",
+      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
+      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
+      "dev": true,
+      "license": "ISC"
+    },
+    "node_modules/picomatch": {
+      "version": "2.3.1",
+      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
+      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8.6"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/jonschlinkert"
+      }
+    },
     "node_modules/pidtree": {
       "version": "0.3.1",
       "resolved": "https://registry.npmjs.org/pidtree/-/pidtree-0.3.1.tgz",
@@ -3349,6 +6438,16 @@
         "node": ">=4"
       }
     },
+    "node_modules/please-upgrade-node": {
+      "version": "3.2.0",
+      "resolved": "https://registry.npmjs.org/please-upgrade-node/-/please-upgrade-node-3.2.0.tgz",
+      "integrity": "sha512-gQR3WpIgNIKwBMVLkpMUeR3e1/E1y42bqDQZfql+kDeXd8COYfM8PQA4X6y7a8u9Ua9FHmsrrmirW2vHs45hWg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "semver-compare": "^1.0.0"
+      }
+    },
     "node_modules/posix-character-classes": {
       "version": "0.1.1",
       "resolved": "https://registry.npmjs.org/posix-character-classes/-/posix-character-classes-0.1.1.tgz",
@@ -3368,6 +6467,61 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/postcss": {
+      "version": "8.5.6",
+      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
+      "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "opencollective",
+          "url": "https://opencollective.com/postcss/"
+        },
+        {
+          "type": "tidelift",
+          "url": "https://tidelift.com/funding/github/npm/postcss"
+        },
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/ai"
+        }
+      ],
+      "license": "MIT",
+      "dependencies": {
+        "nanoid": "^3.3.11",
+        "picocolors": "^1.1.1",
+        "source-map-js": "^1.2.1"
+      },
+      "engines": {
+        "node": "^10 || ^12 || >=14"
+      }
+    },
+    "node_modules/prelude-ls": {
+      "version": "1.2.1",
+      "resolved": "https://registry.npmjs.org/prelude-ls/-/prelude-ls-1.2.1.tgz",
+      "integrity": "sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">= 0.8.0"
+      }
+    },
+    "node_modules/prettier": {
+      "version": "2.8.8",
+      "resolved": "https://registry.npmjs.org/prettier/-/prettier-2.8.8.tgz",
+      "integrity": "sha512-tdN8qQGvNjw4CHbY+XXk0JgCXn9QiF21a55rBe5LJAU+kDyC4WQn4+awm2Xfk2lQMk5fKup9XgzTZtGkjBdP9Q==",
+      "dev": true,
+      "license": "MIT",
+      "bin": {
+        "prettier": "bin-prettier.js"
+      },
+      "engines": {
+        "node": ">=10.13.0"
+      },
+      "funding": {
+        "url": "https://github.com/prettier/prettier?sponsor=1"
+      }
+    },
     "node_modules/process-nextick-args": {
       "version": "2.0.1",
       "resolved": "https://registry.npmjs.org/process-nextick-args/-/process-nextick-args-2.0.1.tgz",
@@ -3375,6 +6529,15 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/progress": {
+      "version": "2.0.3",
+      "resolved": "https://registry.npmjs.org/progress/-/progress-2.0.3.tgz",
+      "integrity": "sha512-7PiHtLll5LdnKIMw100I+8xJXR5gW2QwWYkT6iJva0bXitZKa/XMrSbdmg3r2Xnaidz9Qumd0VPaMrZlF9V9sA==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.4.0"
+      }
+    },
     "node_modules/proxy-middleware": {
       "version": "0.15.0",
       "resolved": "https://registry.npmjs.org/proxy-middleware/-/proxy-middleware-0.15.0.tgz",
@@ -3385,6 +6548,59 @@
         "node": ">=0.8.0"
       }
     },
+    "node_modules/pump": {
+      "version": "3.0.3",
+      "resolved": "https://registry.npmjs.org/pump/-/pump-3.0.3.tgz",
+      "integrity": "sha512-todwxLMY7/heScKmntwQG8CXVkWUOdYxIvY2s0VWAAMh/nd8SoYiRaKjlr7+iCs984f2P8zvrfWcDDYVb73NfA==",
+      "license": "MIT",
+      "dependencies": {
+        "end-of-stream": "^1.1.0",
+        "once": "^1.3.1"
+      }
+    },
+    "node_modules/punycode": {
+      "version": "2.3.1",
+      "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
+      "integrity": "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6"
+      }
+    },
+    "node_modules/queue-microtask": {
+      "version": "1.2.3",
+      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
+      "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/feross"
+        },
+        {
+          "type": "patreon",
+          "url": "https://www.patreon.com/feross"
+        },
+        {
+          "type": "consulting",
+          "url": "https://feross.org/support"
+        }
+      ],
+      "license": "MIT"
+    },
+    "node_modules/quick-lru": {
+      "version": "5.1.1",
+      "resolved": "https://registry.npmjs.org/quick-lru/-/quick-lru-5.1.1.tgz",
+      "integrity": "sha512-WuyALRjWPDGtt/wzJiadO5AXY+8hZ80hVpe6MyivgraREW751X3SbhRvG3eLKOYN+8VEvqLcf3wdnt44Z4S4SA==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/range-parser": {
       "version": "1.2.1",
       "resolved": "https://registry.npmjs.org/range-parser/-/range-parser-1.2.1.tgz",
@@ -3557,6 +6773,23 @@
         "node": ">=0.10"
       }
     },
+    "node_modules/require-directory": {
+      "version": "2.1.1",
+      "resolved": "https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz",
+      "integrity": "sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/require-package-name": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/require-package-name/-/require-package-name-2.0.1.tgz",
+      "integrity": "sha512-uuoJ1hU/k6M0779t3VMVIYpb2VMJk05cehCaABFhXaibcbvfgR8wKiozLjVFSzJPmQMRqIcO0HMyTFqfV09V6Q==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/resolve": {
       "version": "1.22.11",
       "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.11.tgz",
@@ -3571,28 +6804,147 @@
         "resolve": "bin/resolve"
       },
       "engines": {
-        "node": ">= 0.4"
-      },
-      "funding": {
-        "url": "https://github.com/sponsors/ljharb"
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/resolve-alpn": {
+      "version": "1.2.1",
+      "resolved": "https://registry.npmjs.org/resolve-alpn/-/resolve-alpn-1.2.1.tgz",
+      "integrity": "sha512-0a1F4l73/ZFZOakJnQ3FvkJ2+gSTQWz/r2KE5OdDY0TxPm5h4GkqkWWfM47T7HsbnOtcJVEF4epCVy6u7Q3K+g==",
+      "license": "MIT"
+    },
+    "node_modules/resolve-dir": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/resolve-dir/-/resolve-dir-1.0.1.tgz",
+      "integrity": "sha512-R7uiTjECzvOsWSfdM0QKFNBVFcK27aHOUwdvK53BcW8zqnGdYp0Fbj82cy54+2A4P2tFM22J5kRfe1R+lM/1yg==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "expand-tilde": "^2.0.0",
+        "global-modules": "^1.0.0"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/resolve-from": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-5.0.0.tgz",
+      "integrity": "sha512-qYg9KP24dD5qka9J47d0aVky0N+b4fTU89LN9iDnjB5waksiC49rvMB0PrUJQGoTmH50XPiqOvAjDfaijGxYZw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/resolve-url": {
+      "version": "0.2.1",
+      "resolved": "https://registry.npmjs.org/resolve-url/-/resolve-url-0.2.1.tgz",
+      "integrity": "sha512-ZuF55hVUQaaczgOIwqWzkEcEidmlD/xl44x1UZnhOXcYuFN2S6+rcxpG+C1N3So0wvNI3DmJICUFfu2SxhBmvg==",
+      "deprecated": "https://github.com/lydell/resolve-url#deprecated",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/responselike": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/responselike/-/responselike-2.0.1.tgz",
+      "integrity": "sha512-4gl03wn3hj1HP3yzgdI7d3lCkF95F21Pz4BPGvKHinyQzALR5CapwC8yIi0Rh58DEMQ/SguC03wFj2k0M/mHhw==",
+      "license": "MIT",
+      "dependencies": {
+        "lowercase-keys": "^2.0.0"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/ret": {
+      "version": "0.1.15",
+      "resolved": "https://registry.npmjs.org/ret/-/ret-0.1.15.tgz",
+      "integrity": "sha512-TTlYpa+OL+vMMNG24xSlQGEJ3B/RzEfUlLct7b5G/ytav+wPrplCpVMFuwzXbkecJrb6IYo1iFb0S9v37754mg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.12"
+      }
+    },
+    "node_modules/reusify": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
+      "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "iojs": ">=1.0.0",
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/rimraf": {
+      "version": "3.0.2",
+      "resolved": "https://registry.npmjs.org/rimraf/-/rimraf-3.0.2.tgz",
+      "integrity": "sha512-JZkJMZkAGFFPP2YqXZXPbMlMBgsxzE8ILs4lMIX/2o0L9UBw9O/Y3o6wFw/i9YLapcUJWwqbi3kdxIPdC62TIA==",
+      "deprecated": "Rimraf versions prior to v4 are no longer supported",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "glob": "^7.1.3"
+      },
+      "bin": {
+        "rimraf": "bin.js"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
+    "node_modules/roarr": {
+      "version": "2.15.4",
+      "resolved": "https://registry.npmjs.org/roarr/-/roarr-2.15.4.tgz",
+      "integrity": "sha512-CHhPh+UNHD2GTXNYhPWLnU8ONHdI+5DI+4EYIAOaiD63rHeYlZvyh8P+in5999TTSFgUYuKUAjzRI4mdh/p+2A==",
+      "license": "BSD-3-Clause",
+      "optional": true,
+      "dependencies": {
+        "boolean": "^3.0.1",
+        "detect-node": "^2.0.4",
+        "globalthis": "^1.0.1",
+        "json-stringify-safe": "^5.0.1",
+        "semver-compare": "^1.0.0",
+        "sprintf-js": "^1.1.2"
+      },
+      "engines": {
+        "node": ">=8.0"
       }
     },
-    "node_modules/resolve-url": {
-      "version": "0.2.1",
-      "resolved": "https://registry.npmjs.org/resolve-url/-/resolve-url-0.2.1.tgz",
-      "integrity": "sha512-ZuF55hVUQaaczgOIwqWzkEcEidmlD/xl44x1UZnhOXcYuFN2S6+rcxpG+C1N3So0wvNI3DmJICUFfu2SxhBmvg==",
-      "deprecated": "https://github.com/lydell/resolve-url#deprecated",
-      "dev": true,
-      "license": "MIT"
+    "node_modules/roarr/node_modules/sprintf-js": {
+      "version": "1.1.3",
+      "resolved": "https://registry.npmjs.org/sprintf-js/-/sprintf-js-1.1.3.tgz",
+      "integrity": "sha512-Oo+0REFV59/rz3gfJNKQiBlwfHaSESl1pcGyABQsnnIfWOFt6JNj5gCog2U6MLZ//IGYD+nA8nI+mTShREReaA==",
+      "license": "BSD-3-Clause",
+      "optional": true
     },
-    "node_modules/ret": {
-      "version": "0.1.15",
-      "resolved": "https://registry.npmjs.org/ret/-/ret-0.1.15.tgz",
-      "integrity": "sha512-TTlYpa+OL+vMMNG24xSlQGEJ3B/RzEfUlLct7b5G/ytav+wPrplCpVMFuwzXbkecJrb6IYo1iFb0S9v37754mg==",
+    "node_modules/run-parallel": {
+      "version": "1.2.0",
+      "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
+      "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
       "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/feross"
+        },
+        {
+          "type": "patreon",
+          "url": "https://www.patreon.com/feross"
+        },
+        {
+          "type": "consulting",
+          "url": "https://feross.org/support"
+        }
+      ],
       "license": "MIT",
-      "engines": {
-        "node": ">=0.12"
+      "dependencies": {
+        "queue-microtask": "^1.2.2"
       }
     },
     "node_modules/safe-array-concat": {
@@ -3672,6 +7024,13 @@
         "semver": "bin/semver"
       }
     },
+    "node_modules/semver-compare": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/semver-compare/-/semver-compare-1.0.0.tgz",
+      "integrity": "sha512-YM3/ITh2MJ5MtzaM429anh+x2jiLVjqILF4m4oyQB18W7Ggea7BfqdH/wGMK7dDiMghv/6WG7znWMwUDzJiXow==",
+      "devOptional": true,
+      "license": "MIT"
+    },
     "node_modules/send": {
       "version": "1.2.1",
       "resolved": "https://registry.npmjs.org/send/-/send-1.2.1.tgz",
@@ -3732,6 +7091,35 @@
         "node": ">= 0.8"
       }
     },
+    "node_modules/serialize-error": {
+      "version": "7.0.1",
+      "resolved": "https://registry.npmjs.org/serialize-error/-/serialize-error-7.0.1.tgz",
+      "integrity": "sha512-8I8TjW5KMOKsZQTvoxjuSIa7foAwPWGOts+6o7sgjz41/qMD9VQHEDxi6PBvK2l0MXUmqZyNpUK+T2tQaaElvw==",
+      "license": "MIT",
+      "optional": true,
+      "dependencies": {
+        "type-fest": "^0.13.1"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/serialize-error/node_modules/type-fest": {
+      "version": "0.13.1",
+      "resolved": "https://registry.npmjs.org/type-fest/-/type-fest-0.13.1.tgz",
+      "integrity": "sha512-34R7HTnG0XIJcBSn5XhDd7nNFPRcXYRZrBB2O2jdKqYODldSzBAqzsWoZYYvduky73toYS/ESqxPvkDf/F0XMg==",
+      "license": "(MIT OR CC0-1.0)",
+      "optional": true,
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/serve-index": {
       "version": "1.9.1",
       "resolved": "https://registry.npmjs.org/serve-index/-/serve-index-1.9.1.tgz",
@@ -4005,6 +7393,16 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/slash": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/slash/-/slash-3.0.0.tgz",
+      "integrity": "sha512-g9Q1haeby36OSStwb4ntCGGGaKsaVSjQ68fBxoQcutl5fS1vuY18H3wSt3jFyFtrkx+Kz0V1G85A4MyAdDMi2Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/snapdragon": {
       "version": "0.8.2",
       "resolved": "https://registry.npmjs.org/snapdragon/-/snapdragon-0.8.2.tgz",
@@ -4120,6 +7518,54 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/source-map-explorer": {
+      "version": "2.5.3",
+      "resolved": "https://registry.npmjs.org/source-map-explorer/-/source-map-explorer-2.5.3.tgz",
+      "integrity": "sha512-qfUGs7UHsOBE5p/lGfQdaAj/5U/GWYBw2imEpD6UQNkqElYonkow8t+HBL1qqIl3CuGZx7n8/CQo4x1HwSHhsg==",
+      "dev": true,
+      "license": "Apache-2.0",
+      "dependencies": {
+        "btoa": "^1.2.1",
+        "chalk": "^4.1.0",
+        "convert-source-map": "^1.7.0",
+        "ejs": "^3.1.5",
+        "escape-html": "^1.0.3",
+        "glob": "^7.1.6",
+        "gzip-size": "^6.0.0",
+        "lodash": "^4.17.20",
+        "open": "^7.3.1",
+        "source-map": "^0.7.4",
+        "temp": "^0.9.4",
+        "yargs": "^16.2.0"
+      },
+      "bin": {
+        "sme": "bin/cli.js",
+        "source-map-explorer": "bin/cli.js"
+      },
+      "engines": {
+        "node": ">=12"
+      }
+    },
+    "node_modules/source-map-explorer/node_modules/source-map": {
+      "version": "0.7.6",
+      "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.7.6.tgz",
+      "integrity": "sha512-i5uvt8C3ikiWeNZSVZNWcfZPItFQOsYTUAOkcUPGd8DqDy1uOUikjt5dG+uRlwyvR108Fb9DOd4GvXfT0N2/uQ==",
+      "dev": true,
+      "license": "BSD-3-Clause",
+      "engines": {
+        "node": ">= 12"
+      }
+    },
+    "node_modules/source-map-js": {
+      "version": "1.2.1",
+      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
+      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
+      "dev": true,
+      "license": "BSD-3-Clause",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/source-map-resolve": {
       "version": "0.5.3",
       "resolved": "https://registry.npmjs.org/source-map-resolve/-/source-map-resolve-0.5.3.tgz",
@@ -4228,6 +7674,13 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/sprintf-js": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/sprintf-js/-/sprintf-js-1.0.3.tgz",
+      "integrity": "sha512-D9cPgkvLlV3t3IzL0D0YLvGA9Ahk4PcvVwUbN0dSGr1aP0Nrt4AEnTUbuGvquEC0mA64Gqt1fzirlRs5ibXx8g==",
+      "dev": true,
+      "license": "BSD-3-Clause"
+    },
     "node_modules/static-extend": {
       "version": "0.1.2",
       "resolved": "https://registry.npmjs.org/static-extend/-/static-extend-0.1.2.tgz",
@@ -4312,6 +7765,21 @@
         "safe-buffer": "~5.1.0"
       }
     },
+    "node_modules/string-width": {
+      "version": "4.2.3",
+      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
+      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "emoji-regex": "^8.0.0",
+        "is-fullwidth-code-point": "^3.0.0",
+        "strip-ansi": "^6.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/string.prototype.padend": {
       "version": "3.1.6",
       "resolved": "https://registry.npmjs.org/string.prototype.padend/-/string.prototype.padend-3.1.6.tgz",
@@ -4386,6 +7854,19 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/strip-ansi": {
+      "version": "6.0.1",
+      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
+      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-regex": "^5.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/strip-bom": {
       "version": "3.0.0",
       "resolved": "https://registry.npmjs.org/strip-bom/-/strip-bom-3.0.0.tgz",
@@ -4395,6 +7876,44 @@
         "node": ">=4"
       }
     },
+    "node_modules/strip-json-comments": {
+      "version": "3.1.1",
+      "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
+      "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/sumchecker": {
+      "version": "3.0.1",
+      "resolved": "https://registry.npmjs.org/sumchecker/-/sumchecker-3.0.1.tgz",
+      "integrity": "sha512-MvjXzkz/BOfyVDkG0oFOtBxHX2u3gKbMHIF/dXblZsgD3BWOFLmHovIpZY7BykJdAjcqRCBi1WYBNdEC9yI7vg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "debug": "^4.1.0"
+      },
+      "engines": {
+        "node": ">= 8.0"
+      }
+    },
+    "node_modules/supports-color": {
+      "version": "7.2.0",
+      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
+      "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "has-flag": "^4.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/supports-preserve-symlinks-flag": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
@@ -4407,6 +7926,41 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/temp": {
+      "version": "0.9.4",
+      "resolved": "https://registry.npmjs.org/temp/-/temp-0.9.4.tgz",
+      "integrity": "sha512-yYrrsWnrXMcdsnu/7YMYAofM1ktpL5By7vZhf15CrXijWWrEYZks5AXBudalfSWJLlnen/QUJUB5aoB0kqZUGA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "mkdirp": "^0.5.1",
+        "rimraf": "~2.6.2"
+      },
+      "engines": {
+        "node": ">=6.0.0"
+      }
+    },
+    "node_modules/temp/node_modules/rimraf": {
+      "version": "2.6.3",
+      "resolved": "https://registry.npmjs.org/rimraf/-/rimraf-2.6.3.tgz",
+      "integrity": "sha512-mwqeW5XsA2qAejG46gYdENaxXjx9onRNCfn7L0duuP4hCuTIi/QO7PDK07KJfp1d+izWPrzEJDcSqBa0OZQriA==",
+      "deprecated": "Rimraf versions prior to v4 are no longer supported",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "glob": "^7.1.3"
+      },
+      "bin": {
+        "rimraf": "bin.js"
+      }
+    },
+    "node_modules/text-table": {
+      "version": "0.2.0",
+      "resolved": "https://registry.npmjs.org/text-table/-/text-table-0.2.0.tgz",
+      "integrity": "sha512-N+8UisAXDGk8PFXP4HAzVR9nbfmVJ3zYLAWiTIoqC5v5isinhr+r5uaO8+7r3BMfuNIufIsA7RdpVgacC2cSpw==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/through": {
       "version": "2.3.8",
       "resolved": "https://registry.npmjs.org/through/-/through-2.3.8.tgz",
@@ -4494,6 +8048,84 @@
         "node": ">=0.6"
       }
     },
+    "node_modules/true-myth": {
+      "version": "4.1.1",
+      "resolved": "https://registry.npmjs.org/true-myth/-/true-myth-4.1.1.tgz",
+      "integrity": "sha512-rqy30BSpxPznbbTcAcci90oZ1YR4DqvKcNXNerG5gQBU2v4jk0cygheiul5J6ExIMrgDVuanv/MkGfqZbKrNNg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": "10.* || >= 12.*"
+      }
+    },
+    "node_modules/ts-api-utils": {
+      "version": "1.4.3",
+      "resolved": "https://registry.npmjs.org/ts-api-utils/-/ts-api-utils-1.4.3.tgz",
+      "integrity": "sha512-i3eMG77UTMD0hZhgRS562pv83RC6ukSAC2GMNWc+9dieh/+jDM5u5YG+NHX6VNDRHQcHwmsTHctP9LhbC3WxVw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=16"
+      },
+      "peerDependencies": {
+        "typescript": ">=4.2.0"
+      }
+    },
+    "node_modules/ts-morph": {
+      "version": "7.3.0",
+      "resolved": "https://registry.npmjs.org/ts-morph/-/ts-morph-7.3.0.tgz",
+      "integrity": "sha512-BUKSoz7AFSKPcYTZODbICW2mOthAN4vc5juD6FL1lD/dLwZ0WvrC3zqBM3/X6f5gHxq3yaz+HmanHGaWm0ddbQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@dsherret/to-absolute-glob": "^2.0.2",
+        "@ts-morph/common": "~0.5.2",
+        "code-block-writer": "^10.1.0"
+      }
+    },
+    "node_modules/ts-prune": {
+      "version": "0.6.4",
+      "resolved": "https://registry.npmjs.org/ts-prune/-/ts-prune-0.6.4.tgz",
+      "integrity": "sha512-so/wNrouCZPRWBkt+kJJjAtFKCvrMaBIsUHfNGps8jF8rNRJe0YTG462NcXRlWJA8YQzHUAR3SsHVV82dWsjOA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "json5": "^2.1.3",
+        "lodash": "^4.17.15",
+        "minimist": "^1.2.5",
+        "true-myth": "^4.0.0",
+        "ts-morph": "^7.0.2"
+      },
+      "bin": {
+        "ts-prune": "lib/index.js"
+      }
+    },
+    "node_modules/type-check": {
+      "version": "0.4.0",
+      "resolved": "https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz",
+      "integrity": "sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "prelude-ls": "^1.2.1"
+      },
+      "engines": {
+        "node": ">= 0.8.0"
+      }
+    },
+    "node_modules/type-fest": {
+      "version": "0.20.2",
+      "resolved": "https://registry.npmjs.org/type-fest/-/type-fest-0.20.2.tgz",
+      "integrity": "sha512-Ne+eE4r0/iWnpAxD852z3A+N0Bt5RN//NjJwRd2VFHEmrywxf5vsZlh4R6lixl6B+wz/8d+maTSAkN1FIkI3LQ==",
+      "dev": true,
+      "license": "(MIT OR CC0-1.0)",
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/typed-array-buffer": {
       "version": "1.0.3",
       "resolved": "https://registry.npmjs.org/typed-array-buffer/-/typed-array-buffer-1.0.3.tgz",
@@ -4573,6 +8205,7 @@
       "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.9.3.tgz",
       "integrity": "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==",
       "dev": true,
+      "peer": true,
       "bin": {
         "tsc": "bin/tsc",
         "tsserver": "bin/tsserver"
@@ -4599,6 +8232,22 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/unc-path-regex": {
+      "version": "0.1.2",
+      "resolved": "https://registry.npmjs.org/unc-path-regex/-/unc-path-regex-0.1.2.tgz",
+      "integrity": "sha512-eXL4nmJT7oCpkZsHZUOJo8hcX3GbsiDOa0Qu9F646fi8dT3XuSVopVqAcEiVzSKKH7UoDti23wNX3qGFxcW5Qg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/undici-types": {
+      "version": "7.16.0",
+      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-7.16.0.tgz",
+      "integrity": "sha512-Zz+aZWSj8LE6zoxD+xrjh4VfkIG8Ya6LvYkZqtUQGJPZjYl53ypCaUwWqo7eI0x66KBGeRo+mlBEkMSeSZ38Nw==",
+      "license": "MIT"
+    },
     "node_modules/union-value": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/union-value/-/union-value-1.0.1.tgz",
@@ -4615,6 +8264,16 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/universalify": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/universalify/-/universalify-2.0.1.tgz",
+      "integrity": "sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">= 10.0.0"
+      }
+    },
     "node_modules/unix-crypt-td-js": {
       "version": "1.1.4",
       "resolved": "https://registry.npmjs.org/unix-crypt-td-js/-/unix-crypt-td-js-1.1.4.tgz",
@@ -4702,6 +8361,16 @@
         "yarn": "*"
       }
     },
+    "node_modules/uri-js": {
+      "version": "4.4.1",
+      "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
+      "integrity": "sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==",
+      "dev": true,
+      "license": "BSD-2-Clause",
+      "dependencies": {
+        "punycode": "^2.1.0"
+      }
+    },
     "node_modules/urix": {
       "version": "0.1.0",
       "resolved": "https://registry.npmjs.org/urix/-/urix-0.1.0.tgz",
@@ -4889,6 +8558,121 @@
       "funding": {
         "url": "https://github.com/sponsors/ljharb"
       }
+    },
+    "node_modules/word-wrap": {
+      "version": "1.2.5",
+      "resolved": "https://registry.npmjs.org/word-wrap/-/word-wrap-1.2.5.tgz",
+      "integrity": "sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
+    "node_modules/wrap-ansi": {
+      "version": "7.0.0",
+      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
+      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-styles": "^4.0.0",
+        "string-width": "^4.1.0",
+        "strip-ansi": "^6.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
+      }
+    },
+    "node_modules/wrappy": {
+      "version": "1.0.2",
+      "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
+      "integrity": "sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==",
+      "license": "ISC"
+    },
+    "node_modules/y18n": {
+      "version": "5.0.8",
+      "resolved": "https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz",
+      "integrity": "sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==",
+      "dev": true,
+      "license": "ISC",
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/yaml": {
+      "version": "1.10.2",
+      "resolved": "https://registry.npmjs.org/yaml/-/yaml-1.10.2.tgz",
+      "integrity": "sha512-r3vXyErRCYJ7wg28yvBY5VSoAF8ZvlcW9/BwUzEtUsjvX/DKs24dIkuwjtuprwJJHsbyUbLApepYTR1BN4uHrg==",
+      "dev": true,
+      "license": "ISC",
+      "engines": {
+        "node": ">= 6"
+      }
+    },
+    "node_modules/yargs": {
+      "version": "16.2.0",
+      "resolved": "https://registry.npmjs.org/yargs/-/yargs-16.2.0.tgz",
+      "integrity": "sha512-D1mvvtDG0L5ft/jGWkLpG1+m0eQxOfaBvTNELraWj22wSVUMWxZUvYgJYcKh6jGGIkJFhH4IZPQhR4TKpc8mBw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "cliui": "^7.0.2",
+        "escalade": "^3.1.1",
+        "get-caller-file": "^2.0.5",
+        "require-directory": "^2.1.1",
+        "string-width": "^4.2.0",
+        "y18n": "^5.0.5",
+        "yargs-parser": "^20.2.2"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/yargs-parser": {
+      "version": "20.2.9",
+      "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-20.2.9.tgz",
+      "integrity": "sha512-y11nGElTIV+CT3Zv9t7VKl+Q3hTQoT9a1Qzezhhl6Rp21gJ/IVTW7Z3y9EWXhuUBC2Shnf+DX0antecpAwSP8w==",
+      "dev": true,
+      "license": "ISC",
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/yauzl": {
+      "version": "2.10.0",
+      "resolved": "https://registry.npmjs.org/yauzl/-/yauzl-2.10.0.tgz",
+      "integrity": "sha512-p4a9I6X6nu6IhoGmBqAcbJy1mlC4j27vEPZX9F4L4/vZT3Lyq1VkFHw/V/PUcB9Buo+DG3iHkT0x3Qya58zc3g==",
+      "license": "MIT",
+      "dependencies": {
+        "buffer-crc32": "~0.2.3",
+        "fd-slicer": "~1.1.0"
+      }
+    },
+    "node_modules/yocto-queue": {
+      "version": "0.1.0",
+      "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
+      "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/zod": {
+      "version": "4.3.5",
+      "resolved": "https://registry.npmjs.org/zod/-/zod-4.3.5.tgz",
+      "integrity": "sha512-k7Nwx6vuWx1IJ9Bjuf4Zt1PEllcwe7cls3VNzm4CQ1/hgtFUK2bRNG3rvnpPUhFjmqJKAKtjV576KnUkHocg/g==",
+      "license": "MIT",
+      "funding": {
+        "url": "https://github.com/sponsors/colinhacks"
+      }
     }
   }
 }
diff --git a/segundas-vias/package.json b/segundas-vias/package.json
index b337b3c..b1f31e8 100644
--- a/segundas-vias/package.json
+++ b/segundas-vias/package.json
@@ -8,10 +8,19 @@
     "watch": "tsc -w -p tsconfig.json",
     "ui:build": "tsc -p ui/tsconfig.json",
     "ui:watch": "tsc -w -p ui/tsconfig.json",
-    "ui:bundle": "esbuild ui/ts/acts/nascimento/nascimento.ts ui/ts/acts/casamento/casamento.ts ui/ts/acts/obito/obito.ts --bundle --format=esm --target=es2019 --outdir=ui/js --entry-names=[name].bundle",
-    "ui:bundle:watch": "esbuild ui/ts/acts/nascimento/nascimento.ts ui/ts/acts/casamento/casamento.ts ui/ts/acts/obito/obito.ts --bundle --format=esm --target=es2019 --outdir=ui/js --entry-names=[name].bundle --watch",
+    "ui:bundle": "esbuild ui/ts/acts/nascimento/nascimento.ts ui/ts/acts/casamento/casamento.ts ui/ts/acts/obito/obito.ts --bundle --format=esm --target=es2019 --outdir=ui/js --entry-names=[name].bundle --sourcemap=external",
+    "ui:bundle:watch": "esbuild ui/ts/acts/nascimento/nascimento.ts ui/ts/acts/casamento/casamento.ts ui/ts/acts/obito/obito.ts --bundle --format=esm --target=es2019 --outdir=ui/js --entry-names=[name].bundle --sourcemap=external --watch",
     "serve": "live-server ui --port=4180 --no-browser --watch=ui,ui/js",
-    "dev": "npm-run-all --parallel watch ui:bundle:watch serve"
+    "dev": "npm-run-all --parallel watch ui:bundle:watch serve",
+    "format": "prettier --write \"src/**/*.{ts,tsx,js,jsx,json,css,md}\" \"ui/ts/**/*.{ts,js}\"",
+    "lint": "eslint --ext .ts,.tsx,.js .",
+    "lint:fix": "eslint --fix --ext .ts,.tsx,.js .",
+    "prune:root": "ts-prune --project tsconfig.json",
+    "prune:ui": "ts-prune --project ui/tsconfig.json",
+    "prune": "npm run prune:root && npm run prune:ui",
+    "depcheck": "depcheck",
+    "bundle:analyze": "npx source-map-explorer ui/js/*.bundle.js",
+    "ci:quality": "npm run format && npm run lint:fix && npm run prune && npm run depcheck && npm run bundle:analyze"
   },
   "tools": {
     "import_names": "node tools/import_names.js",
@@ -19,12 +28,23 @@
   },
   "dependencies": {
     "cpf-cnpj-validator": "^1.0.3",
-    "papaparse": "^5.4.1"
+    "electron": "^40.0.0",
+    "papaparse": "^5.4.1",
+    "zod": "^4.3.5"
   },
   "devDependencies": {
+    "@typescript-eslint/eslint-plugin": "^6.10.0",
+    "@typescript-eslint/parser": "^6.10.0",
+    "depcheck": "^1.4.2",
     "esbuild": "^0.24.0",
+    "eslint": "^8.46.0",
+    "eslint-plugin-unused-imports": "^3.1.0",
+    "espree": "^11.0.0",
     "live-server": "^1.2.2",
     "npm-run-all": "^4.1.5",
+    "prettier": "^2.8.8",
+    "source-map-explorer": "^2.5.2",
+    "ts-prune": "^0.6.0",
     "typescript": "^5.3.3"
   }
 }
diff --git a/segundas-vias/src/acts/casamento/casamento.ts b/segundas-vias/src/acts/casamento/casamento.ts
index 9cb82c0..e92441d 100644
--- a/segundas-vias/src/acts/casamento/casamento.ts
+++ b/segundas-vias/src/acts/casamento/casamento.ts
@@ -1,17 +1,2 @@
-// @ts-nocheck
-import { mapperHtmlToJson } from './mapperHtmlToJson.js';
-import { normalizeDate } from '../../shared/validators/date.js';
-import { validateDateDetailed } from '../../shared/validators/date.js';
-import { normalizeTime } from '../../shared/validators/time.js';
-import { normalizeCpf, isValidCpf } from '../../shared/validators/cpf.js';
-import { validateName } from '../../shared/validators/name.js';
-import { getFieldState, applyFieldState } from '../../shared/ui/fieldState.js';
-import { applyDateMask, applyTimeMask } from '../../shared/ui/mask.js';
-import { collectInvalidFields } from '../../shared/ui/debug.js';
-import { buildMatriculaBase30, calcDv2Digits, buildMatriculaFinal } from '../../shared/matricula/cnj.js';
-import { setupPrimaryShortcut } from '../../shared/productivity/index.js';
-import { setupAdminPanel } from '../../shared/ui/admin.js';
-import { createNameValidator } from '../../nameValidator.js';
-import { buildCasamentoPrintHtml } from './printTemplate.js';
 
 // ...restante do código do arquivo original...
diff --git a/segundas-vias/src/acts/casamento/mapperHtmlToJson.ts b/segundas-vias/src/acts/casamento/mapperHtmlToJson.ts
index d86c616..bd12ab8 100644
--- a/segundas-vias/src/acts/casamento/mapperHtmlToJson.ts
+++ b/segundas-vias/src/acts/casamento/mapperHtmlToJson.ts
@@ -1,108 +1,108 @@
-// @ts-nocheck
+
 import { normalizeDate } from '../../shared/validators/date.js';
 import { normalizeTime } from '../../shared/validators/time.js';
 import { normalizeCpf } from '../../shared/validators/cpf.js';
 
 export function mapperHtmlToJson(doc) {
-	const get = (sel) => doc.querySelector(sel)?.value || '';
-	const getText = (sel) => doc.querySelector(sel)?.textContent || '';
-	const getChecked = (sel) => !!doc.querySelector(sel)?.checked;
-	const getRadio = (name) => {
-		const el = doc.querySelector(`input[name="${name}"]:checked`);
-		return el ? el.value : '';
-	};
-	const getSelect = (sel) => {
-		const el = doc.querySelector(sel);
-		return el ? el.value : '';
-	};
-	const getAll = (sel) => Array.from(doc.querySelectorAll(sel)).map((el) => el.value || '');
+  const get = (sel) => doc.querySelector(sel)?.value || '';
+  const getText = (sel) => doc.querySelector(sel)?.textContent || '';
+  const getChecked = (sel) => !!doc.querySelector(sel)?.checked;
+  const getRadio = (name) => {
+    const el = doc.querySelector(`input[name="${name}"]:checked`);
+    return el ? el.value : '';
+  };
+  const getSelect = (sel) => {
+    const el = doc.querySelector(sel);
+    return el ? el.value : '';
+  };
+  const getAll = (sel) => Array.from(doc.querySelectorAll(sel)).map((el) => el.value || '');
 
-	return {
-		registro: {
-			nome_completo: get('input[name="nomeCompleto"]'),
-			sexo: getRadio('sexo'),
-			data_nascimento: normalizeDate(get('input[name="dataNascimento"]')),
-			data_casamento: normalizeDate(get('input[name="dataCasamento"]')),
-			hora_casamento: normalizeTime(get('input[name="horaCasamento"]')),
-			local_casamento: get('input[name="localCasamento"]'),
-			municipio_casamento: get('input[name="municipioCasamento"]'),
-			uf_municipio_casamento: getSelect('select[name="ufMunicipioCasamento"]'),
-			estado_civil: getRadio('estadoCivil'),
-			profissao: get('input[name="profissao"]'),
-			naturalidade: get('input[name="naturalidade"]'),
-			nacionalidade: get('input[name="nacionalidade"]'),
-			nome_pai: get('input[name="nomePai"]'),
-			nome_mae: get('input[name="nomeMae"]'),
-			cpf: normalizeCpf(get('input[name="cpf"]')),
-			rg: get('input[name="rg"]'),
-			orgao_expedidor_rg: get('input[name="orgaoExpedidorRG"]'),
-			titulo_eleitor: get('input[name="tituloEleitor"]'),
-			zona_eleitoral: get('input[name="zonaEleitoral"]'),
-			secao_eleitoral: get('input[name="secaoEleitoral"]'),
-			passaporte: get('input[name="passaporte"]'),
-			orgao_expedidor_passaporte: get('input[name="orgaoExpedidorPassaporte"]'),
-			pis: get('input[name="pis"]'),
-			orgao_expedidor_pis: get('input[name="orgaoExpedidorPIS"]'),
-			cns: get('input[name="cns"]'),
-			orgao_expedidor_cns: get('input[name="orgaoExpedidorCNS"]'),
-			certidao: get('input[name="certidao"]'),
-			livro: get('input[name="livro"]'),
-			folha: get('input[name="folha"]'),
-			termo: get('input[name="termo"]'),
-			data_termo: normalizeDate(get('input[name="dataTermo"]')),
-			cartorio_cns: get('input[name="certidao.cartorio_cns"]'),
-			matricula: get('input[name="matricula"]'),
-			observacoes: get('textarea[name="observacoes"]'),
-			data_registro: normalizeDate(get('input[name="dataRegistro"]')),
-			oficial: get('input[name="oficial"]'),
-			id_assinante: getSelect('select[name="idAssinante"]'),
-			nome_assinante: getText('select[name="idAssinante"] option:checked'),
-			titulo_livro: get('input[name="tituloLivro"]'),
-			municipio_cartorio: get('input[name="municipioCartorio"]'),
-			uf_cartorio: getSelect('select[name="ufCartorio"]'),
-			data_emissao: normalizeDate(get('input[name="dataEmissao"]')),
-			via: get('input[name="via"]'),
-			motivo: get('input[name="motivo"]'),
-			solicitante: get('input[name="solicitante"]'),
-			cpf_solicitante: normalizeCpf(get('input[name="cpfSolicitante"]')),
-			rg_solicitante: get('input[name="rgSolicitante"]'),
-			orgao_expedidor_rg_solicitante: get('input[name="orgaoExpedidorRGSolicitante"]'),
-			endereco_solicitante: get('input[name="enderecoSolicitante"]'),
-			telefone_solicitante: get('input[name="telefoneSolicitante"]'),
-			email_solicitante: get('input[name="emailSolicitante"]'),
-			observacoes_solicitante: get('textarea[name="observacoesSolicitante"]'),
-			data_solicitacao: normalizeDate(get('input[name="dataSolicitacao"]')),
-			protocolo: get('input[name="protocolo"]'),
-			status: get('input[name="status"]'),
-			data_status: normalizeDate(get('input[name="dataStatus"]')),
-			observacoes_status: get('textarea[name="observacoesStatus"]'),
-			data_entrega: normalizeDate(get('input[name="dataEntrega"]')),
-			responsavel_entrega: get('input[name="responsavelEntrega"]'),
-			observacoes_entrega: get('textarea[name="observacoesEntrega"]'),
-			data_cancelamento: normalizeDate(get('input[name="dataCancelamento"]')),
-			motivo_cancelamento: get('input[name="motivoCancelamento"]'),
-			observacoes_cancelamento: get('textarea[name="observacoesCancelamento"]'),
-			data_retorno: normalizeDate(get('input[name="dataRetorno"]')),
-			motivo_retorno: get('input[name="motivoRetorno"]'),
-			observacoes_retorno: get('textarea[name="observacoesRetorno"]'),
-			data_arquivamento: normalizeDate(get('input[name="dataArquivamento"]')),
-			motivo_arquivamento: get('input[name="motivoArquivamento"]'),
-			observacoes_arquivamento: get('textarea[name="observacoesArquivamento"]'),
-			data_exclusao: normalizeDate(get('input[name="dataExclusao"]')),
-			motivo_exclusao: get('input[name="motivoExclusao"]'),
-			observacoes_exclusao: get('textarea[name="observacoesExclusao"]'),
-			data_reabertura: normalizeDate(get('input[name="dataReabertura"]')),
-			motivo_reabertura: get('input[name="motivoReabertura"]'),
-			observacoes_reabertura: get('textarea[name="observacoesReabertura"]'),
-			data_transferencia: normalizeDate(get('input[name="dataTransferencia"]')),
-			motivo_transferencia: get('input[name="motivoTransferencia"]'),
-			observacoes_transferencia: get('textarea[name="observacoesTransferencia"]'),
-			data_averbacao: normalizeDate(get('input[name="dataAverbacao"]')),
-			motivo_averbacao: get('input[name="motivoAverbacao"]'),
-			observacoes_averbacao: get('textarea[name="observacoesAverbacao"]'),
-			data_anotacao: normalizeDate(get('input[name="dataAnotacao"]')),
-			motivo_anotacao: get('input[name="motivoAnotacao"]'),
-			observacoes_anotacao: get('textarea[name="observacoesAnotacao"]'),
-		}
-	};
+  return {
+    registro: {
+      nome_completo: get('input[name="nomeCompleto"]'),
+      sexo: getRadio('sexo'),
+      data_nascimento: normalizeDate(get('input[name="dataNascimento"]')),
+      data_casamento: normalizeDate(get('input[name="dataCasamento"]')),
+      hora_casamento: normalizeTime(get('input[name="horaCasamento"]')),
+      local_casamento: get('input[name="localCasamento"]'),
+      municipio_casamento: get('input[name="municipioCasamento"]'),
+      uf_municipio_casamento: getSelect('select[name="ufMunicipioCasamento"]'),
+      estado_civil: getRadio('estadoCivil'),
+      profissao: get('input[name="profissao"]'),
+      naturalidade: get('input[name="naturalidade"]'),
+      nacionalidade: get('input[name="nacionalidade"]'),
+      nome_pai: get('input[name="nomePai"]'),
+      nome_mae: get('input[name="nomeMae"]'),
+      cpf: normalizeCpf(get('input[name="cpf"]')),
+      rg: get('input[name="rg"]'),
+      orgao_expedidor_rg: get('input[name="orgaoExpedidorRG"]'),
+      titulo_eleitor: get('input[name="tituloEleitor"]'),
+      zona_eleitoral: get('input[name="zonaEleitoral"]'),
+      secao_eleitoral: get('input[name="secaoEleitoral"]'),
+      passaporte: get('input[name="passaporte"]'),
+      orgao_expedidor_passaporte: get('input[name="orgaoExpedidorPassaporte"]'),
+      pis: get('input[name="pis"]'),
+      orgao_expedidor_pis: get('input[name="orgaoExpedidorPIS"]'),
+      cns: get('input[name="cns"]'),
+      orgao_expedidor_cns: get('input[name="orgaoExpedidorCNS"]'),
+      certidao: get('input[name="certidao"]'),
+      livro: get('input[name="livro"]'),
+      folha: get('input[name="folha"]'),
+      termo: get('input[name="termo"]'),
+      data_termo: normalizeDate(get('input[name="dataTermo"]')),
+      cartorio_cns: get('input[name="certidao.cartorio_cns"]'),
+      matricula: get('input[name="matricula"]'),
+      observacoes: get('textarea[name="observacoes"]'),
+      data_registro: normalizeDate(get('input[name="dataRegistro"]')),
+      oficial: get('input[name="oficial"]'),
+      id_assinante: getSelect('select[name="idAssinante"]'),
+      nome_assinante: getText('select[name="idAssinante"] option:checked'),
+      titulo_livro: get('input[name="tituloLivro"]'),
+      municipio_cartorio: get('input[name="municipioCartorio"]'),
+      uf_cartorio: getSelect('select[name="ufCartorio"]'),
+      data_emissao: normalizeDate(get('input[name="dataEmissao"]')),
+      via: get('input[name="via"]'),
+      motivo: get('input[name="motivo"]'),
+      solicitante: get('input[name="solicitante"]'),
+      cpf_solicitante: normalizeCpf(get('input[name="cpfSolicitante"]')),
+      rg_solicitante: get('input[name="rgSolicitante"]'),
+      orgao_expedidor_rg_solicitante: get('input[name="orgaoExpedidorRGSolicitante"]'),
+      endereco_solicitante: get('input[name="enderecoSolicitante"]'),
+      telefone_solicitante: get('input[name="telefoneSolicitante"]'),
+      email_solicitante: get('input[name="emailSolicitante"]'),
+      observacoes_solicitante: get('textarea[name="observacoesSolicitante"]'),
+      data_solicitacao: normalizeDate(get('input[name="dataSolicitacao"]')),
+      protocolo: get('input[name="protocolo"]'),
+      status: get('input[name="status"]'),
+      data_status: normalizeDate(get('input[name="dataStatus"]')),
+      observacoes_status: get('textarea[name="observacoesStatus"]'),
+      data_entrega: normalizeDate(get('input[name="dataEntrega"]')),
+      responsavel_entrega: get('input[name="responsavelEntrega"]'),
+      observacoes_entrega: get('textarea[name="observacoesEntrega"]'),
+      data_cancelamento: normalizeDate(get('input[name="dataCancelamento"]')),
+      motivo_cancelamento: get('input[name="motivoCancelamento"]'),
+      observacoes_cancelamento: get('textarea[name="observacoesCancelamento"]'),
+      data_retorno: normalizeDate(get('input[name="dataRetorno"]')),
+      motivo_retorno: get('input[name="motivoRetorno"]'),
+      observacoes_retorno: get('textarea[name="observacoesRetorno"]'),
+      data_arquivamento: normalizeDate(get('input[name="dataArquivamento"]')),
+      motivo_arquivamento: get('input[name="motivoArquivamento"]'),
+      observacoes_arquivamento: get('textarea[name="observacoesArquivamento"]'),
+      data_exclusao: normalizeDate(get('input[name="dataExclusao"]')),
+      motivo_exclusao: get('input[name="motivoExclusao"]'),
+      observacoes_exclusao: get('textarea[name="observacoesExclusao"]'),
+      data_reabertura: normalizeDate(get('input[name="dataReabertura"]')),
+      motivo_reabertura: get('input[name="motivoReabertura"]'),
+      observacoes_reabertura: get('textarea[name="observacoesReabertura"]'),
+      data_transferencia: normalizeDate(get('input[name="dataTransferencia"]')),
+      motivo_transferencia: get('input[name="motivoTransferencia"]'),
+      observacoes_transferencia: get('textarea[name="observacoesTransferencia"]'),
+      data_averbacao: normalizeDate(get('input[name="dataAverbacao"]')),
+      motivo_averbacao: get('input[name="motivoAverbacao"]'),
+      observacoes_averbacao: get('textarea[name="observacoesAverbacao"]'),
+      data_anotacao: normalizeDate(get('input[name="dataAnotacao"]')),
+      motivo_anotacao: get('input[name="motivoAnotacao"]'),
+      observacoes_anotacao: get('textarea[name="observacoesAnotacao"]'),
+    },
+  };
 }
diff --git a/segundas-vias/src/acts/nascimento/mapperHtmlToJson.ts b/segundas-vias/src/acts/nascimento/mapperHtmlToJson.ts
index 29cd08a..d159913 100644
--- a/segundas-vias/src/acts/nascimento/mapperHtmlToJson.ts
+++ b/segundas-vias/src/acts/nascimento/mapperHtmlToJson.ts
@@ -1,6 +1,5 @@
-// @ts-nocheck
+
 import { normalizeDate } from '../../shared/validators/date.js';
-import { normalizeTime } from '../../shared/validators/time.js';
 import { normalizeCpf } from '../../shared/validators/cpf.js';
 
 /**
@@ -9,44 +8,44 @@ import { normalizeCpf } from '../../shared/validators/cpf.js';
  * @returns {any}
  */
 export function mapperHtmlToJson(doc) {
-	const get = (sel) => doc.querySelector(sel)?.value || '';
-	const getText = (sel) => doc.querySelector(sel)?.textContent || '';
-	const getChecked = (sel) => !!doc.querySelector(sel)?.checked;
-	const getRadio = (name) => {
-		const el = doc.querySelector(`input[name="${name}"]:checked`);
-		return el ? el.value : '';
-	};
-	const getSelect = (sel) => {
-		const el = doc.querySelector(sel);
-		return el ? el.value : '';
-	};
-	const getAll = (sel) => Array.from(doc.querySelectorAll(sel)).map((el) => el.value || '');
+  const get = (sel) => doc.querySelector(sel)?.value || '';
+  const getText = (sel) => doc.querySelector(sel)?.textContent || '';
+  const getChecked = (sel) => !!doc.querySelector(sel)?.checked;
+  const getRadio = (name) => {
+    const el = doc.querySelector(`input[name="${name}"]:checked`);
+    return el ? el.value : '';
+  };
+  const getSelect = (sel) => {
+    const el = doc.querySelector(sel);
+    return el ? el.value : '';
+  };
+  const getAll = (sel) => Array.from(doc.querySelectorAll(sel)).map((el) => el.value || '');
 
-	return {
-		registro: {
-			nome_completo: get('input[name="nomeCompleto"]'),
-			sexo: getRadio('sexo'),
-			data_nascimento: normalizeDate(get('input[name="dataNascimento"]')),
-			data_registro: normalizeDate(get('input[name="dataRegistro"]')),
-			naturalidade: get('input[name="naturalidade"]'),
-			nacionalidade: get('input[name="nacionalidade"]'),
-			filiacao: get('input[name="filiacao"]'),
-			cpf: normalizeCpf(get('input[name="cpf"]')),
-			numero_dnv: get('input[name="numeroDNV"]'),
-			livro: get('input[name="livro"]'),
-			folha: get('input[name="folha"]'),
-			termo: get('input[name="termo"]'),
-			matricula: get('input[name="matricula"]'),
-		},
-		certidao: {
-			cartorio_cns: get('input[name="certidao.cartorio_cns"]'),
-			municipio_cartorio: get('input[name="municipioCartorio"]'),
-			uf_cartorio: getSelect('select[name="ufCartorio"]'),
-			data_emissao: normalizeDate(get('input[name="dataEmissao"]')),
-			via: get('input[name="via"]'),
-			solicitante: get('input[name="solicitante"]'),
-			cpf_solicitante: normalizeCpf(get('input[name="cpfSolicitante"]')),
-			observacoes: get('textarea[name="observacoes"]'),
-		}
-	};
+  return {
+    registro: {
+      nome_completo: get('input[name="nomeCompleto"]'),
+      sexo: getRadio('sexo'),
+      data_nascimento: normalizeDate(get('input[name="dataNascimento"]')),
+      data_registro: normalizeDate(get('input[name="dataRegistro"]')),
+      naturalidade: get('input[name="naturalidade"]'),
+      nacionalidade: get('input[name="nacionalidade"]'),
+      filiacao: get('input[name="filiacao"]'),
+      cpf: normalizeCpf(get('input[name="cpf"]')),
+      numero_dnv: get('input[name="numeroDNV"]'),
+      livro: get('input[name="livro"]'),
+      folha: get('input[name="folha"]'),
+      termo: get('input[name="termo"]'),
+      matricula: get('input[name="matricula"]'),
+    },
+    certidao: {
+      cartorio_cns: get('input[name="certidao.cartorio_cns"]'),
+      municipio_cartorio: get('input[name="municipioCartorio"]'),
+      uf_cartorio: getSelect('select[name="ufCartorio"]'),
+      data_emissao: normalizeDate(get('input[name="dataEmissao"]')),
+      via: get('input[name="via"]'),
+      solicitante: get('input[name="solicitante"]'),
+      cpf_solicitante: normalizeCpf(get('input[name="cpfSolicitante"]')),
+      observacoes: get('textarea[name="observacoes"]'),
+    },
+  };
 }
diff --git a/segundas-vias/src/acts/nascimento/nascimento.ts b/segundas-vias/src/acts/nascimento/nascimento.ts
index d1258de..42665e0 100644
--- a/segundas-vias/src/acts/nascimento/nascimento.ts
+++ b/segundas-vias/src/acts/nascimento/nascimento.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import '../../events.js';
 import { mapperHtmlToJson } from '../obito/mapperHtmlToJson.js';
 import { normalizeDate, validateDateDetailed } from '../../shared/validators/date.js';
@@ -8,8 +8,12 @@ import { validateName } from '../../shared/validators/name.js';
 import { getFieldState, applyFieldState } from '../../shared/ui/fieldState.js';
 import { applyDateMask, applyTimeMask } from '../../shared/ui/mask.js';
 import { collectInvalidFields } from '../../shared/ui/debug.js';
-import { buildMatriculaBase30, calcDv2Digits, buildMatriculaFinal } from '../../shared/matricula/cnj.js';
-import { setupPrimaryShortcut, setupNameCopy, setupAutoNationality } from '../../shared/productivity/index.js';
+import {
+  buildMatriculaBase30,
+  calcDv2Digits,
+  buildMatriculaFinal,
+} from '../../shared/matricula/cnj.js';
+import { setupNameCopy, setupAutoNationality } from '../../shared/productivity/index.js';
 import { setupAdminPanel } from '../../shared/ui/admin.js';
 
 const NAME_MODE_KEY = 'ui.nameValidationMode';
@@ -19,298 +23,430 @@ const ENABLE_NAME_KEY = 'ui.enableNameValidation';
 const PANEL_INLINE_KEY = 'ui.panelInline';
 
 function setStatus(text, isError) {
-	const el = document.getElementById('statusText');
-	if (!el) return;
-	el.textContent = text;
-	el.style.color = isError ? '#dc2626' : '#64748b';
-	clearTimeout(el._timer);
-	el._timer = setTimeout(() => {
-		el.textContent = 'Pronto';
-		el.style.color = '#64748b';
-	}, 2000);
+  const el = document.getElementById('statusText');
+  if (!el) return;
+  el.textContent = text;
+  el.style.color = isError ? '#dc2626' : '#64748b';
+  clearTimeout(el._timer);
+  el._timer = setTimeout(() => {
+    el.textContent = 'Pronto';
+    el.style.color = '#64748b';
+  }, 2000);
 }
 
 function showToast(message) {
-	let container = document.getElementById('toast-container');
-	if (!container) {
-		container = document.createElement('div');
-		container.id = 'toast-container';
-		document.body.appendChild(container);
-	}
-	const toast = document.createElement('div');
-	toast.className = 'toast';
-	toast.textContent = message;
-	container.appendChild(toast);
-	setTimeout(() => { toast.classList.add('show'); }, 10);
-	setTimeout(() => {
-		toast.classList.remove('show');
-		setTimeout(() => toast.remove(), 200);
-	}, 2000);
+  let container = document.getElementById('toast-container');
+  if (!container) {
+    container = document.createElement('div');
+    container.id = 'toast-container';
+    document.body.appendChild(container);
+  }
+  const toast = document.createElement('div');
+  toast.className = 'toast';
+  toast.textContent = message;
+  container.appendChild(toast);
+  setTimeout(() => {
+    toast.classList.add('show');
+  }, 10);
+  setTimeout(() => {
+    toast.classList.remove('show');
+    setTimeout(() => toast.remove(), 200);
+  }, 2000);
 }
 
 function resolveField(input) {
-	return input.closest('td') || input.closest('.campo') || input.closest('.field') || input.parentElement;
+  return (
+    input.closest('td') || input.closest('.campo') || input.closest('.field') || input.parentElement
+  );
 }
 
 function setFieldHint(field, message) {
-	if (!field) return;
-	let hint = field.querySelector('.hint');
-	if (!hint) {
-		hint = document.createElement('div');
-		hint.className = 'hint';
-		field.appendChild(hint);
-	}
-	if (message) {
-		hint.innerHTML = '';
-		const icon = document.createElement('span');
-		icon.className = 'icon';
-		icon.textContent = '⚠';
-		icon.setAttribute('aria-hidden', 'true');
-		hint.appendChild(icon);
-		const txt = document.createElement('span');
-		txt.className = 'hint-text';
-		txt.textContent = message;
-		hint.appendChild(txt);
-		hint.classList.add('visible');
-		let aria = document.getElementById('aria-live-errors');
-		if (!aria) {
-			aria = document.createElement('div');
-			aria.id = 'aria-live-errors';
-			aria.className = 'sr-only';
-			aria.setAttribute('aria-live', 'assertive');
-			aria.setAttribute('role', 'status');
-			document.body.appendChild(aria);
-		}
-		aria.textContent = message;
-	} else {
-		hint.innerHTML = '';
-		hint.classList.remove('visible');
-	}
+  if (!field) return;
+  let hint = field.querySelector('.hint');
+  if (!hint) {
+    hint = document.createElement('div');
+    hint.className = 'hint';
+    field.appendChild(hint);
+  }
+  if (message) {
+    hint.innerHTML = '';
+    const icon = document.createElement('span');
+    icon.className = 'icon';
+    icon.textContent = '⚠';
+    icon.setAttribute('aria-hidden', 'true');
+    hint.appendChild(icon);
+    const txt = document.createElement('span');
+    txt.className = 'hint-text';
+    txt.textContent = message;
+    hint.appendChild(txt);
+    hint.classList.add('visible');
+    let aria = document.getElementById('aria-live-errors');
+    if (!aria) {
+      aria = document.createElement('div');
+      aria.id = 'aria-live-errors';
+      aria.className = 'sr-only';
+      aria.setAttribute('aria-live', 'assertive');
+      aria.setAttribute('role', 'status');
+      document.body.appendChild(aria);
+    }
+    aria.textContent = message;
+  } else {
+    hint.innerHTML = '';
+    hint.classList.remove('visible');
+  }
 }
 
-function clearFieldHint(field) { setFieldHint(field, ''); }
+function clearFieldHint(field) {
+  setFieldHint(field, '');
+}
 
 function setupFocusEmphasis() {
-	document.addEventListener('focusin', (e) => {
-		const el = e.target;
-		if (!(el instanceof HTMLElement)) return;
-		if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) {
-			try { el.scrollIntoView({behavior:'smooth', block:'center'}); } catch {}
-			el.classList.add('focus-emphasis');
-		}
-	});
-	document.addEventListener('focusout', (e) => {
-		const el = e.target;
-		if (!(el instanceof HTMLElement)) return;
-		if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
-	});
+  document.addEventListener('focusin', (e) => {
+    const el = e.target;
+    if (!(el instanceof HTMLElement)) return;
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) {
+      try {
+        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
+      } catch (e) { void e;}
+      el.classList.add('focus-emphasis');
+    }
+  });
+  document.addEventListener('focusout', (e) => {
+    const el = e.target;
+    if (!(el instanceof HTMLElement)) return;
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
+  });
 }
 
 function formatCpfInput(value) {
-	const digits = normalizeCpf(value).slice(0, 11);
-	if (!digits) return '';
-	const p1 = digits.slice(0, 3);
-	const p2 = digits.slice(3, 6);
-	const p3 = digits.slice(6, 9);
-	const p4 = digits.slice(9, 11);
-	let out = p1;
-	if (p2) out += `.${p2}`;
-	if (p3) out += `.${p3}`;
-	if (p4) out += `-${p4}`;
-	return out;
+  const digits = normalizeCpf(value).slice(0, 11);
+  if (!digits) return '';
+  const p1 = digits.slice(0, 3);
+  const p2 = digits.slice(3, 6);
+  const p3 = digits.slice(6, 9);
+  const p4 = digits.slice(9, 11);
+  let out = p1;
+  if (p2) out += `.${p2}`;
+  if (p3) out += `.${p3}`;
+  if (p4) out += `-${p4}`;
+  return out;
 }
 
 function toXml(obj, nodeName, indent = 0) {
-	const pad = '  '.repeat(indent);
-	if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
-	if (typeof obj !== 'object') return `${pad}<${nodeName}>${String(obj || '')}</${nodeName}>`;
-	if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
-	const children = Object.keys(obj).map((key) => toXml(obj[key], key, indent + 1)).join('\n');
-	return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
+  const pad = '  '.repeat(indent);
+  if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
+  if (typeof obj !== 'object') return `${pad}<${nodeName}>${String(obj || '')}</${nodeName}>`;
+  if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
+  const children = Object.keys(obj)
+    .map((key) => toXml(obj[key], key, indent + 1))
+    .join('\n');
+  return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
 }
 
 function updateDebug(data) {
-	const cns = document.querySelector('input[data-bind="certidao.cartorio_cns"]')?.value || '';
-	const ano = (document.getElementById('data-reg')?.value || '').slice(-4);
-	const livro = document.getElementById('matricula-livro')?.value || '';
-	const folha = document.getElementById('matricula-folha')?.value || '';
-	const termo = document.getElementById('matricula-termo')?.value || '';
-	const base = buildMatriculaBase30({ cns6: cns, ano, tipoAto: '1', acervo: '01', servico: '55', livro, folha, termo });
-	const dv = base ? calcDv2Digits(base) : '';
-	const final = base && dv ? base + dv : buildMatriculaFinal({ cns6: cns, ano, tipoAto: '1', livro, folha, termo });
-	const baseEl = document.getElementById('debug-matricula-base'); if (baseEl) baseEl.value = base || '';
-	const dvEl = document.getElementById('debug-matricula-dv'); if (dvEl) dvEl.value = dv || '';
-	const finalEl = document.getElementById('debug-matricula-final'); if (finalEl) finalEl.value = final || '';
-	const invalids = collectInvalidFields(document);
-	const invalidEl = document.getElementById('debug-invalid'); if (invalidEl) invalidEl.value = invalids.join('\n');
+  const cns = document.querySelector('input[data-bind="certidao.cartorio_cns"]')?.value || '';
+  const ano = (document.getElementById('data-reg')?.value || '').slice(-4);
+  const livro = document.getElementById('matricula-livro')?.value || '';
+  const folha = document.getElementById('matricula-folha')?.value || '';
+  const termo = document.getElementById('matricula-termo')?.value || '';
+  const base = buildMatriculaBase30({
+    cns6: cns,
+    ano,
+    tipoAto: '1',
+    acervo: '01',
+    servico: '55',
+    livro,
+    folha,
+    termo,
+  });
+  const dv = base ? calcDv2Digits(base) : '';
+  const final =
+    base && dv
+      ? base + dv
+      : buildMatriculaFinal({ cns6: cns, ano, tipoAto: '1', livro, folha, termo });
+  const baseEl = document.getElementById('debug-matricula-base');
+  if (baseEl) baseEl.value = base || '';
+  const dvEl = document.getElementById('debug-matricula-dv');
+  if (dvEl) dvEl.value = dv || '';
+  const finalEl = document.getElementById('debug-matricula-final');
+  if (finalEl) finalEl.value = final || '';
+  const invalids = collectInvalidFields(document);
+  const invalidEl = document.getElementById('debug-invalid');
+  if (invalidEl) invalidEl.value = invalids.join('\n');
 }
 
 function updateOutputs() {
-	const data = mapperHtmlToJson(document);
-	const jsonEl = document.getElementById('json-output'); if (jsonEl) jsonEl.value = JSON.stringify(data, null, 2);
-	const xmlEl = document.getElementById('xml-output'); if (xmlEl) xmlEl.value = toXml(data, 'certidao_nascimento', 0);
-	updateDebug(data);
+  const data = mapperHtmlToJson(document);
+  const jsonEl = document.getElementById('json-output');
+  if (jsonEl) jsonEl.value = JSON.stringify(data, null, 2);
+  const xmlEl = document.getElementById('xml-output');
+  if (xmlEl) xmlEl.value = toXml(data, 'certidao_nascimento', 0);
+  updateDebug(data);
 }
 
 function canProceed() {
-	const invalids = collectInvalidFields(document);
-	if (!invalids || invalids.length === 0) return true;
-	setStatus(`${invalids.length} campo(s) inválido(s). Corrija antes de prosseguir.`, true);
-	showToast('Existem campos inválidos — corrija antes de prosseguir');
-	const invalidEl = document.getElementById('debug-invalid'); if (invalidEl) invalidEl.value = invalids.join('\n');
-	return false;
+  const invalids = collectInvalidFields(document);
+  if (!invalids || invalids.length === 0) return true;
+  setStatus(`${invalids.length} campo(s) inválido(s). Corrija antes de prosseguir.`, true);
+  showToast('Existem campos inválidos — corrija antes de prosseguir');
+  const invalidEl = document.getElementById('debug-invalid');
+  if (invalidEl) invalidEl.value = invalids.join('\n');
+  return false;
 }
 
 function updateActionButtons() {
   const invalids = collectInvalidFields(document);
   const disabled = !!(invalids && invalids.length > 0);
-  const btnJson = document.getElementById('btn-json'); if (btnJson) btnJson.disabled = disabled;
-  const btnXml = document.getElementById('btn-xml'); if (btnXml) btnXml.disabled = disabled;
-  const btnSave = document.getElementById('btn-save'); if (btnSave) btnSave.disabled = disabled;
-  const statusEl = document.getElementById('statusText'); if (statusEl && !disabled) statusEl.textContent = 'Pronto';
-
-	let summary = document.getElementById('form-error-summary');
-	if (!summary) {
-		summary = document.createElement('div');
-		summary.id = 'form-error-summary';
-		summary.style.margin = '6px 0 0 0';
-		summary.style.padding = '6px 8px';
-		summary.style.borderRadius = '6px';
-		summary.style.background = 'transparent';
-		summary.style.border = 'none';
-		summary.style.color = '#6b7280';
-		summary.style.fontSize = '12px';
-		summary.style.opacity = '0.85';
-		const container = document.querySelector('.container');
-		if (container) container.appendChild(summary);
-	}
-	if (disabled) {
-		summary.textContent = `Campos inválidos: ${invalids.join(', ')}`;
-		summary.style.display = 'block';
-	} else if (summary) {
-		summary.style.display = 'none';
-	}
-		// update aria-live for assistive tech
-		let aria = document.getElementById('aria-live-errors');
-		if (!aria) {
-			aria = document.createElement('div');
-			aria.id = 'aria-live-errors';
-			aria.className = 'sr-only';
-			aria.setAttribute('aria-live', 'assertive');
-			aria.setAttribute('role', 'status');
-			document.body.appendChild(aria);
-		}
-		aria.textContent = disabled ? `Existem ${invalids.length} campos inválidos: ${invalids.join(', ')}` : '';
+  const btnJson = document.getElementById('btn-json');
+  if (btnJson) btnJson.disabled = disabled;
+  const btnXml = document.getElementById('btn-xml');
+  if (btnXml) btnXml.disabled = disabled;
+  const btnSave = document.getElementById('btn-save');
+  if (btnSave) btnSave.disabled = disabled;
+  const statusEl = document.getElementById('statusText');
+  if (statusEl && !disabled) statusEl.textContent = 'Pronto';
+
+  let summary = document.getElementById('form-error-summary');
+  if (!summary) {
+    summary = document.createElement('div');
+    summary.id = 'form-error-summary';
+    summary.style.margin = '6px 0 0 0';
+    summary.style.padding = '6px 8px';
+    summary.style.borderRadius = '6px';
+    summary.style.background = 'transparent';
+    summary.style.border = 'none';
+    summary.style.color = '#6b7280';
+    summary.style.fontSize = '12px';
+    summary.style.opacity = '0.85';
+    const container = document.querySelector('.container');
+    if (container) container.appendChild(summary);
+  }
+  if (disabled) {
+    summary.textContent = `Campos inválidos: ${invalids.join(', ')}`;
+    summary.style.display = 'block';
+  } else if (summary) {
+    summary.style.display = 'none';
+  }
+  // update aria-live for assistive tech
+  let aria = document.getElementById('aria-live-errors');
+  if (!aria) {
+    aria = document.createElement('div');
+    aria.id = 'aria-live-errors';
+    aria.className = 'sr-only';
+    aria.setAttribute('aria-live', 'assertive');
+    aria.setAttribute('role', 'status');
+    document.body.appendChild(aria);
+  }
+  aria.textContent = disabled
+    ? `Existem ${invalids.length} campos inválidos: ${invalids.join(', ')}`
+    : '';
 }
 
 function generateJson() {
-	if (!canProceed()) return;
-	const data = mapperHtmlToJson(document);
-	const json = JSON.stringify(data, null, 2);
-	const out = document.getElementById('json-output'); if (out) out.value = json;
-	const name = `NASCIMENTO_${new Date().toISOString().slice(0,19).replace(/[:T]/g,'')}.json`;
-	try { const blob = new Blob([json], { type: 'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = name; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); setStatus(`JSON baixado: ${name}`); } catch { setStatus('Falha ao gerar JSON', true); }
+  if (!canProceed()) return;
+  const data = mapperHtmlToJson(document);
+  const json = JSON.stringify(data, null, 2);
+  const out = document.getElementById('json-output');
+  if (out) out.value = json;
+  const name = `NASCIMENTO_${new Date().toISOString().slice(0, 19).replace(/[:T]/g, '')}.json`;
+  try {
+    const blob = new Blob([json], { type: 'application/json' });
+    const url = URL.createObjectURL(blob);
+    const a = document.createElement('a');
+    a.href = url;
+    a.download = name;
+    document.body.appendChild(a);
+    a.click();
+    a.remove();
+    URL.revokeObjectURL(url);
+    setStatus(`JSON baixado: ${name}`);
+  } catch (e) { void e;
+    setStatus('Falha ao gerar JSON', true);
+  }
 }
 
 function generateXml() {
-	if (!canProceed()) return;
-	const data = mapperHtmlToJson(document);
-	const xml = toXml(data, 'certidao_nascimento', 0);
-	const out = document.getElementById('xml-output'); if (out) out.value = xml;
-	const name = `NASCIMENTO_${new Date().toISOString().slice(0,19).replace(/[:T]/g,'')}.xml`;
-	try { const blob = new Blob([xml], { type: 'application/xml' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = name; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); setStatus(`XML baixado: ${name}`); } catch { setStatus('Falha ao gerar XML', true); }
+  if (!canProceed()) return;
+  const data = mapperHtmlToJson(document);
+  const xml = toXml(data, 'certidao_nascimento', 0);
+  const out = document.getElementById('xml-output');
+  if (out) out.value = xml;
+  const name = `NASCIMENTO_${new Date().toISOString().slice(0, 19).replace(/[:T]/g, '')}.xml`;
+  try {
+    const blob = new Blob([xml], { type: 'application/xml' });
+    const url = URL.createObjectURL(blob);
+    const a = document.createElement('a');
+    a.href = url;
+    a.download = name;
+    document.body.appendChild(a);
+    a.click();
+    a.remove();
+    URL.revokeObjectURL(url);
+    setStatus(`XML baixado: ${name}`);
+  } catch (e) { void e;
+    setStatus('Falha ao gerar XML', true);
+  }
 }
 
 function setupValidation() {
-	// date fields (.w-date)
-	document.querySelectorAll('input.w-date').forEach((input) => {
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required') || input.classList.contains('required');
-		const onInput = () => { applyDateMask(input); clearFieldHint(field); const normalized = normalizeDate(input.value); const isValid = !input.value || !!normalized; const state = getFieldState({ required, value: input.value, isValid }); applyFieldState(field, state); };
-		const onBlur = () => { applyDateMask(input); const raw = input.value || ''; const res = validateDateDetailed(raw); const isValid = res.ok; const state = getFieldState({ required, value: raw, isValid }); applyFieldState(field, state); if (!isValid && raw) setFieldHint(field, res.message || 'Data inválida'); else clearFieldHint(field); };
-		input.addEventListener('input', onInput); input.addEventListener('blur', onBlur); onInput();
-	});
-
-	// time fields (.w-time)
-	document.querySelectorAll('input.w-time').forEach((input) => {
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required');
-		const handler = () => { applyTimeMask(input); const normalized = normalizeTime(input.value); const isValid = !input.value || !!normalized; const state = getFieldState({ required, value: input.value, isValid }); applyFieldState(field, state); };
-		input.addEventListener('input', handler); input.addEventListener('blur', handler); handler();
-	});
-
-	// CPF (id cpf)
-	const cpfInput = document.getElementById('cpf');
-	if (cpfInput) {
-		const field = resolveField(cpfInput);
-		const handler = () => { cpfInput.value = formatCpfInput(cpfInput.value); const digits = normalizeCpf(cpfInput.value); const isValid = !digits || isValidCpf(digits); const state = getFieldState({ required: false, value: digits ? cpfInput.value : '', isValid }); applyFieldState(field, state); };
-		cpfInput.addEventListener('input', handler);
-		cpfInput.addEventListener('blur', () => { handler(); const digits = normalizeCpf(cpfInput.value); if (cpfInput.value && (!digits || !isValidCpf(digits))) setFieldHint(field, 'CPF inválido'); else clearFieldHint(field); });
-		handler();
-	}
-
-	// name validation
-	const enableName = localStorage.getItem('ui.enableNameValidation') !== 'false';
-	if (enableName) {
-		document.querySelectorAll('[data-name-validate]').forEach((input) => {
-			const field = resolveField(input);
-			const required = input.hasAttribute('data-required');
-			const handler = () => { const res = validateName(input.value || '', { minWords: 2 }); const state = getFieldState({ required, value: input.value, isValid: !res.invalid, warn: res.warn }); applyFieldState(field, state); };
-			input.addEventListener('input', handler); input.addEventListener('blur', handler); handler();
-		});
-	}
+  // date fields (.w-date)
+  document.querySelectorAll('input.w-date').forEach((input) => {
+    const field = resolveField(input);
+    const required = input.hasAttribute('data-required') || input.classList.contains('required');
+    const onInput = () => {
+      applyDateMask(input);
+      clearFieldHint(field);
+      const normalized = normalizeDate(input.value);
+      const isValid = !input.value || !!normalized;
+      const state = getFieldState({ required, value: input.value, isValid });
+      applyFieldState(field, state);
+    };
+    const onBlur = () => {
+      applyDateMask(input);
+      const raw = input.value || '';
+      const res = validateDateDetailed(raw);
+      const isValid = res.ok;
+      const state = getFieldState({ required, value: raw, isValid });
+      applyFieldState(field, state);
+      if (!isValid && raw) setFieldHint(field, res.message || 'Data inválida');
+      else clearFieldHint(field);
+    };
+    input.addEventListener('input', onInput);
+    input.addEventListener('blur', onBlur);
+    onInput();
+  });
+
+  // time fields (.w-time)
+  document.querySelectorAll('input.w-time').forEach((input) => {
+    const field = resolveField(input);
+    const required = input.hasAttribute('data-required');
+    const handler = () => {
+      applyTimeMask(input);
+      const normalized = normalizeTime(input.value);
+      const isValid = !input.value || !!normalized;
+      const state = getFieldState({ required, value: input.value, isValid });
+      applyFieldState(field, state);
+    };
+    input.addEventListener('input', handler);
+    input.addEventListener('blur', handler);
+    handler();
+  });
+
+  // CPF (id cpf)
+  const cpfInput = document.getElementById('cpf');
+  if (cpfInput) {
+    const field = resolveField(cpfInput);
+    const handler = () => {
+      cpfInput.value = formatCpfInput(cpfInput.value);
+      const digits = normalizeCpf(cpfInput.value);
+      const isValid = !digits || isValidCpf(digits);
+      const state = getFieldState({
+        required: false,
+        value: digits ? cpfInput.value : '',
+        isValid,
+      });
+      applyFieldState(field, state);
+    };
+    cpfInput.addEventListener('input', handler);
+    cpfInput.addEventListener('blur', () => {
+      handler();
+      const digits = normalizeCpf(cpfInput.value);
+      if (cpfInput.value && (!digits || !isValidCpf(digits))) setFieldHint(field, 'CPF inválido');
+      else clearFieldHint(field);
+    });
+    handler();
+  }
+
+  // name validation
+  const enableName = localStorage.getItem('ui.enableNameValidation') !== 'false';
+  if (enableName) {
+    document.querySelectorAll('[data-name-validate]').forEach((input) => {
+      const field = resolveField(input);
+      const required = input.hasAttribute('data-required');
+      const handler = () => {
+        const res = validateName(input.value || '', { minWords: 2 });
+        const state = getFieldState({
+          required,
+          value: input.value,
+          isValid: !res.invalid,
+          warn: res.warn,
+        });
+        applyFieldState(field, state);
+      };
+      input.addEventListener('input', handler);
+      input.addEventListener('blur', handler);
+      handler();
+    });
+  }
 }
 
 function setupLiveOutputs() {
-	const form = document.querySelector('.container');
-	const handler = () => updateOutputs();
-	document.addEventListener('input', handler);
-	document.addEventListener('change', handler);
-	updateOutputs();
+  const form = document.querySelector('.container');
+  const handler = () => updateOutputs();
+  document.addEventListener('input', handler);
+  document.addEventListener('change', handler);
+  updateOutputs();
 }
 
 function setup() {
-	document.getElementById('btn-json')?.addEventListener('click', (e) => { e.preventDefault(); generateJson(); });
-	document.getElementById('btn-xml')?.addEventListener('click', (e) => { e.preventDefault(); generateXml(); });
-
-	// Print PDF button: build printable HTML from current form data or from
-	// an existing certificate fragment on the page (preferred when present).
-	function buildNascimentoPrintHtml(data, srcDoc = document) {
-		const reg = data?.registro || {};
-		const cert = data?.certidao || {};
-		const name = reg.nome_completo || '';
-		const matricula = reg.matricula || '';
-		const dataRegistro = reg.data_registro || '';
-		const dataNascimento = reg.data_nascimento || '';
-		const sexo = reg.sexo || '';
-		const mae = (reg.filiacao || '').split(';')[1] || '';
-		const pai = (reg.filiacao || '').split(';')[0] || '';
-		const cartorio = cert.cartorio_cns || '';
-		const livro = (document.getElementById('matricula-livro') as HTMLInputElement)?.value || '';
-		const folha = (document.getElementById('matricula-folha') as HTMLInputElement)?.value || '';
-		const termo = (document.getElementById('matricula-termo') as HTMLInputElement)?.value || '';
-		const cpf = reg.cpf || '';
-		const dnv = reg.numero_dnv || '';
-
-		// If the source document already contains a rendered certificate fragment
-		// (the official HTML), prefer cloning it so the PDF matches the original
-		// layout and CSS.
-		const candidate = srcDoc.querySelector('center') || srcDoc.querySelector('.certidao') || srcDoc.querySelector('.container-certidao');
-		if (candidate && /CERTIDÃO|CERTIDAO|CERTID/iu.test(candidate.textContent || '')) {
-			// build head: copy stylesheet links and inline styles
-			const links = Array.from(srcDoc.querySelectorAll('link[rel="stylesheet"]')).map((l: any) => `<link rel="stylesheet" href="${l.href}">`).join('\n');
-			const styles = Array.from(srcDoc.querySelectorAll('style')).map((s: any) => s.innerHTML ? `<style>${s.innerHTML}</style>` : '').join('\n');
-			const cloned = candidate.cloneNode(true) as HTMLElement;
-			// remove interactive UI and scripts from the clone
-			cloned.querySelectorAll('script, .nao-imprimir, button, [role="button"]').forEach(el => el.remove());
-			// remove fixed-position elements (common for buttons added by the page)
-			Array.from(cloned.querySelectorAll('*')).forEach((el: any) => {
-				try {
-					const st = el.getAttribute && el.getAttribute('style') || '';
-					if (/position\s*:\s*fixed/iu.test(st)) el.remove();
-				} catch(e){}
-			});
-			return `<!doctype html><html><head><meta charset="utf-8"><title>Certidão Nascimento</title>${links}${styles}</head><body>${(cloned as any).outerHTML}
+  document.getElementById('btn-json')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    generateJson();
+  });
+  document.getElementById('btn-xml')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    generateXml();
+  });
+
+  // Print PDF button: build printable HTML from current form data or from
+  // an existing certificate fragment on the page (preferred when present).
+  function buildNascimentoPrintHtml(data, srcDoc = document) {
+    const reg = data?.registro || {};
+    const cert = data?.certidao || {};
+    const name = reg.nome_completo || '';
+    const matricula = reg.matricula || '';
+    const dataRegistro = reg.data_registro || '';
+    const dataNascimento = reg.data_nascimento || '';
+    const sexo = reg.sexo || '';
+    const mae = (reg.filiacao || '').split(';')[1] || '';
+    const pai = (reg.filiacao || '').split(';')[0] || '';
+    const cartorio = cert.cartorio_cns || '';
+    const livro = (document.getElementById('matricula-livro') as HTMLInputElement)?.value || '';
+    const folha = (document.getElementById('matricula-folha') as HTMLInputElement)?.value || '';
+    const termo = (document.getElementById('matricula-termo') as HTMLInputElement)?.value || '';
+    const cpf = reg.cpf || '';
+    const dnv = reg.numero_dnv || '';
+
+    // If the source document already contains a rendered certificate fragment
+    // (the official HTML), prefer cloning it so the PDF matches the original
+    // layout and CSS.
+    const candidate =
+      srcDoc.querySelector('center') ||
+      srcDoc.querySelector('.certidao') ||
+      srcDoc.querySelector('.container-certidao');
+    if (candidate && /CERTIDÃO|CERTIDAO|CERTID/iu.test(candidate.textContent || '')) {
+      // build head: copy stylesheet links and inline styles
+      const links = Array.from(srcDoc.querySelectorAll('link[rel="stylesheet"]'))
+        .map((l: any) => `<link rel="stylesheet" href="${l.href}">`)
+        .join('\n');
+      const styles = Array.from(srcDoc.querySelectorAll('style'))
+        .map((s: any) => (s.innerHTML ? `<style>${s.innerHTML}</style>` : ''))
+        .join('\n');
+      const cloned = candidate.cloneNode(true) as HTMLElement;
+      // remove interactive UI and scripts from the clone
+      cloned
+        .querySelectorAll('script, .nao-imprimir, button, [role="button"]')
+        .forEach((el) => el.remove());
+      // remove fixed-position elements (common for buttons added by the page)
+      Array.from(cloned.querySelectorAll('*')).forEach((el: any) => {
+        try {
+          const st = (el.getAttribute && el.getAttribute('style')) || '';
+          if (/position\s*:\s*fixed/iu.test(st)) el.remove();
+        } catch (e) { /* ignore */ }
+      });
+      return `<!doctype html><html><head><meta charset="utf-8"><title>Certidão Nascimento</title>${links}${styles}</head><body>${
+        (cloned as any).outerHTML
+      }
 				<script>
 				(function(){
 					function runHtml2Pdf(){
@@ -327,7 +463,7 @@ function setup() {
 								try{
 									document.querySelectorAll('script, button, .nao-imprimir, [role="button"]').forEach(e=>e.remove());
 									Array.from(document.querySelectorAll('*')).forEach((el:any)=>{
-										try{ const pos = window.getComputedStyle(el).position; if (pos === 'fixed') el.remove(); }catch(e){}
+										try{ const pos = window.getComputedStyle(el).position; if (pos === 'fixed') el.remove(); }catch (e) { /* ignore */ }
 									});
 								}catch(e){/* ignore */}
 							})();
@@ -347,22 +483,30 @@ function setup() {
 				})();
 				</script>
 				</body></html>`;
-		}
+    }
 
-		// fallback: minimal summary layout (previous behavior)
-		return `<!doctype html><html><head><meta charset="utf-8"><title>Certidão Nascimento</title>
+    // fallback: minimal summary layout (previous behavior)
+    return `<!doctype html><html><head><meta charset="utf-8"><title>Certidão Nascimento</title>
 			<style>body{font-family:Arial,Helvetica,sans-serif;padding:12px;color:#111} .h{font-size:14pt;font-weight:700;margin-bottom:6px} .label{font-size:9pt;color:#444} .val{font-weight:700;font-size:11pt;margin-bottom:8px} table{width:100%;margin-top:6px} td{vertical-align:top;padding:6px}</style>
 		</head><body>
 		<div class="h">CERTIDÃO DE NASCIMENTO - 2ª VIA</div>
 		<div><span class="label">Nome:</span><div class="val">${escapeHtml(name)}</div></div>
-		<table><tr><td><span class="label">Data de registro</span><div class="val">${escapeHtml(dataRegistro)}</div></td>
-		<td><span class="label">Data de nascimento</span><div class="val">${escapeHtml(dataNascimento)}</div></td>
+		<table><tr><td><span class="label">Data de registro</span><div class="val">${escapeHtml(
+      dataRegistro,
+    )}</div></td>
+		<td><span class="label">Data de nascimento</span><div class="val">${escapeHtml(
+      dataNascimento,
+    )}</div></td>
 		<td><span class="label">Sexo</span><div class="val">${escapeHtml(sexo)}</div></td></tr>
 		<tr><td><span class="label">Pai</span><div class="val">${escapeHtml(pai)}</div></td>
 		<td><span class="label">Mãe</span><div class="val">${escapeHtml(mae)}</div></td>
 		<td><span class="label">CPF</span><div class="val">${escapeHtml(cpf)}</div></td></tr>
 		<tr><td colspan="3"><span class="label">Cartório/Matricula</span>
-			<div class="val">Cartório CNS: ${escapeHtml(cartorio)} &nbsp; Livro: ${escapeHtml(livro)} &nbsp; Folha: ${escapeHtml(folha)} &nbsp; Termo: ${escapeHtml(termo)}<br/>Matrícula: ${escapeHtml(matricula)}</div>
+			<div class="val">Cartório CNS: ${escapeHtml(cartorio)} &nbsp; Livro: ${escapeHtml(
+      livro,
+    )} &nbsp; Folha: ${escapeHtml(folha)} &nbsp; Termo: ${escapeHtml(
+      termo,
+    )}<br/>Matrícula: ${escapeHtml(matricula)}</div>
 		</td></tr>
 		<tr><td><span class="label">DNV</span><div class="val">${escapeHtml(dnv)}</div></td></tr>
 		</table>
@@ -382,9 +526,9 @@ function setup() {
 						try{
 							document.querySelectorAll('script, button, .nao-imprimir, [role="button"]').forEach(e=>e.remove());
 							Array.from(document.querySelectorAll('*')).forEach((el:any)=>{
-								try{ const pos = window.getComputedStyle(el).position; if (pos === 'fixed') el.remove(); }catch(e){}
+								try{ const pos = window.getComputedStyle(el).position; if (pos === 'fixed') el.remove(); }catch (e) { /* ignore */ }
 							});
-						}catch(e){}
+						}catch (e) { /* ignore */ }
 						if (window.html2pdf) {
 							window.html2pdf().set(opt).from(document.body).save();
 						} else {
@@ -402,79 +546,94 @@ function setup() {
 			})();
 		</script>
 		</body></html>`;
-	}
-
-	function escapeHtml(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
-
-	document.getElementById('btn-print')?.addEventListener('click', (e) => {
-		e.preventDefault();
-		const data = (window as any).mapperHtmlToJson ? (window as any).mapperHtmlToJson(document) : (typeof mapperHtmlToJson === 'function' ? mapperHtmlToJson(document) : null);
-		if (!data) {
-			showToast('Falha ao coletar dados para impressão');
-			return;
-		}
-		const html = buildNascimentoPrintHtml(data);
-		const w = window.open('', '_blank', 'width=900,height=1100');
-		if (!w) { showToast('Permita popups para imprimir'); return; }
-		w.document.open(); w.document.write(html); w.document.close();
-	});
-	setupValidation();
-	setupFocusEmphasis();
-	setupAdminPanel();
-	setupSettingsPanel();
-	setupNameCopy('input[data-bind="ui.mae_nome"]','input[data-bind="ui.pai_nome"]');
-	setupAutoNationality('input[name="nacionalidadeNoivo"]','BRASILEIRO');
-	setupLiveOutputs();
-	// wire action button state
-	updateActionButtons();
-	document.addEventListener('input', updateActionButtons);
-	document.addEventListener('change', updateActionButtons);
+  }
+
+  function escapeHtml(s) {
+    return String(s || '')
+      .replace(/&/g, '&amp;')
+      .replace(/</g, '&lt;')
+      .replace(/>/g, '&gt;')
+      .replace(/"/g, '&quot;');
+  }
+
+  document.getElementById('btn-print')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    const data = (window as any).mapperHtmlToJson
+      ? (window as any).mapperHtmlToJson(document)
+      : typeof mapperHtmlToJson === 'function'
+      ? mapperHtmlToJson(document)
+      : null;
+    if (!data) {
+      showToast('Falha ao coletar dados para impressão');
+      return;
+    }
+    const html = buildNascimentoPrintHtml(data);
+    const w = window.open('', '_blank', 'width=900,height=1100');
+    if (!w) {
+      showToast('Permita popups para imprimir');
+      return;
+    }
+    w.document.open();
+    w.document.write(html);
+    w.document.close();
+  });
+  setupValidation();
+  setupFocusEmphasis();
+  setupAdminPanel();
+  setupSettingsPanel();
+  setupNameCopy('input[data-bind="ui.mae_nome"]', 'input[data-bind="ui.pai_nome"]');
+  setupAutoNationality('input[name="nacionalidadeNoivo"]', 'BRASILEIRO');
+  setupLiveOutputs();
+  // wire action button state
+  updateActionButtons();
+  document.addEventListener('input', updateActionButtons);
+  document.addEventListener('change', updateActionButtons);
 }
 
 function setupSettingsPanel() {
-	const select = document.getElementById('settings-drawer-position');
-	const cbCpf = document.getElementById('settings-enable-cpf');
-	const cbName = document.getElementById('settings-enable-name');
-	const saveBtn = document.getElementById('settings-save');
-	const applyBtn = document.getElementById('settings-apply');
-
-	const pos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
-	const enableCpf = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
-	const enableName = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
-	const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
-	const panelInline = panelInlineStored === null ? false : panelInlineStored === 'true';
-
-	if (select) select.value = pos;
-	if (cbCpf) cbCpf.checked = !!enableCpf;
-	if (cbName) cbName.checked = !!enableName;
-	const cbInline = document.getElementById('settings-panel-inline');
-	if (cbInline) cbInline.checked = !!panelInline;
-
-	applyBtn?.addEventListener('click', () => {
-		const newPos = select?.value || 'bottom-right';
-		// apply only (no save)
-		const drawer = document.getElementById('drawer');
-		if (drawer) {
-			drawer.classList.remove('position-top', 'position-bottom-right', 'position-side');
-			if (newPos === 'top') drawer.classList.add('position-top');
-			else if (newPos === 'side') drawer.classList.add('position-side');
-			else drawer.classList.add('position-bottom-right');
-		}
-		setStatus('Posição aplicada (não salva)', false);
-	});
-
-	saveBtn?.addEventListener('click', () => {
-		const newPos = select?.value || 'bottom-right';
-		const newCpf = cbCpf?.checked ? 'true' : 'false';
-		const newName = cbName?.checked ? 'true' : 'false';
-		const newInline = (document.getElementById('settings-panel-inline')?.checked) ? 'true' : 'false';
-		localStorage.setItem(DRAWER_POS_KEY, newPos);
-		localStorage.setItem(ENABLE_CPF_KEY, newCpf);
-		localStorage.setItem(ENABLE_NAME_KEY, newName);
-		localStorage.setItem(PANEL_INLINE_KEY, newInline);
-		setStatus('Preferências salvas. Atualizando...', false);
-		setTimeout(() => window.location.reload(), 300);
-	});
+  const select = document.getElementById('settings-drawer-position');
+  const cbCpf = document.getElementById('settings-enable-cpf');
+  const cbName = document.getElementById('settings-enable-name');
+  const saveBtn = document.getElementById('settings-save');
+  const applyBtn = document.getElementById('settings-apply');
+
+  const pos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
+  const enableCpf = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
+  const enableName = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
+  const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
+  const panelInline = panelInlineStored === null ? false : panelInlineStored === 'true';
+
+  if (select) select.value = pos;
+  if (cbCpf) cbCpf.checked = !!enableCpf;
+  if (cbName) cbName.checked = !!enableName;
+  const cbInline = document.getElementById('settings-panel-inline');
+  if (cbInline) cbInline.checked = !!panelInline;
+
+  applyBtn?.addEventListener('click', () => {
+    const newPos = select?.value || 'bottom-right';
+    // apply only (no save)
+    const drawer = document.getElementById('drawer');
+    if (drawer) {
+      drawer.classList.remove('position-top', 'position-bottom-right', 'position-side');
+      if (newPos === 'top') drawer.classList.add('position-top');
+      else if (newPos === 'side') drawer.classList.add('position-side');
+      else drawer.classList.add('position-bottom-right');
+    }
+    setStatus('Posição aplicada (não salva)', false);
+  });
+
+  saveBtn?.addEventListener('click', () => {
+    const newPos = select?.value || 'bottom-right';
+    const newCpf = cbCpf?.checked ? 'true' : 'false';
+    const newName = cbName?.checked ? 'true' : 'false';
+    const newInline = document.getElementById('settings-panel-inline')?.checked ? 'true' : 'false';
+    localStorage.setItem(DRAWER_POS_KEY, newPos);
+    localStorage.setItem(ENABLE_CPF_KEY, newCpf);
+    localStorage.setItem(ENABLE_NAME_KEY, newName);
+    localStorage.setItem(PANEL_INLINE_KEY, newInline);
+    setStatus('Preferências salvas. Atualizando...', false);
+    setTimeout(() => window.location.reload(), 300);
+  });
 }
 
 setup();
diff --git a/segundas-vias/src/acts/nascimento/printTemplate.ts b/segundas-vias/src/acts/nascimento/printTemplate.ts
index bb97e81..a7c330c 100644
--- a/segundas-vias/src/acts/nascimento/printTemplate.ts
+++ b/segundas-vias/src/acts/nascimento/printTemplate.ts
@@ -1,4 +1,3 @@
-// @ts-nocheck
 
 /**
  * Gera o HTML de impressão da certidão de nascimento.
@@ -7,11 +6,11 @@
  * @returns {string} HTML pronto para impressão
  */
 export function buildNascimentoPrintHtml(data, srcDoc = document) {
-	// Implemente aqui o template de impressão conforme o padrão do projeto.
-	// Exemplo mínimo:
-	const reg = data?.registro || {};
-	const cert = data?.certidao || {};
-	return `<html><head><meta charset='utf-8'><title>Certidão de Nascimento</title></head><body>
+  // Implemente aqui o template de impressão conforme o padrão do projeto.
+  // Exemplo mínimo:
+  const reg = data?.registro || {};
+  const cert = data?.certidao || {};
+  return `<html><head><meta charset='utf-8'><title>Certidão de Nascimento</title></head><body>
 		<h1>Certidão de Nascimento - 2ª Via</h1>
 		<div><b>Nome:</b> ${reg.nome_completo || ''}</div>
 		<div><b>Data de Nascimento:</b> ${reg.data_nascimento || ''}</div>
diff --git a/segundas-vias/src/acts/obito/mapperHtmlToJson.ts b/segundas-vias/src/acts/obito/mapperHtmlToJson.ts
index 2a9da91..69497ae 100644
--- a/segundas-vias/src/acts/obito/mapperHtmlToJson.ts
+++ b/segundas-vias/src/acts/obito/mapperHtmlToJson.ts
@@ -1,148 +1,148 @@
-// @ts-nocheck
+
 import { normalizeDate } from '../../shared/validators/date.js';
 import { normalizeTime } from '../../shared/validators/time.js';
 import { normalizeCpf } from '../../shared/validators/cpf.js';
 
 export function mapperHtmlToJson(doc) {
-	const get = (sel) => doc.querySelector(sel)?.value || '';
-	const getText = (sel) => doc.querySelector(sel)?.textContent || '';
-	const getChecked = (sel) => !!doc.querySelector(sel)?.checked;
-	const getRadio = (name) => {
-		const el = doc.querySelector(`input[name="${name}"]:checked`);
-		return el ? el.value : '';
-	};
-	const getSelect = (sel) => {
-		const el = doc.querySelector(sel);
-		return el ? el.value : '';
-	};
-	const getAll = (sel) => Array.from(doc.querySelectorAll(sel)).map((el) => el.value || '');
+  const get = (sel) => doc.querySelector(sel)?.value || '';
+  const getText = (sel) => doc.querySelector(sel)?.textContent || '';
+  const getChecked = (sel) => !!doc.querySelector(sel)?.checked;
+  const getRadio = (name) => {
+    const el = doc.querySelector(`input[name="${name}"]:checked`);
+    return el ? el.value : '';
+  };
+  const getSelect = (sel) => {
+    const el = doc.querySelector(sel);
+    return el ? el.value : '';
+  };
+  const getAll = (sel) => Array.from(doc.querySelectorAll(sel)).map((el) => el.value || '');
 
-	return {
-		registro: {
-			nome_completo: get('input[name="nomeFalecido"]'),
-			sexo: getRadio('sexoFalecido'),
-			data_nascimento: normalizeDate(get('input[name="dataNascimentoFalecido"]')),
-			data_obito: normalizeDate(get('input[name="dataObito"]')),
-			hora_obito: normalizeTime(get('input[name="horaObito"]')),
-			local_obito: get('input[name="localObito"]'),
-			municipio_obito: get('input[name="municipioObito"]'),
-			uf_municipio_obito: getSelect('select[name="ufMunicipioObito"]'),
-			estado_civil: getRadio('estadoCivilFalecido'),
-			profissao: get('input[name="profissaoFalecido"]'),
-			naturalidade: get('input[name="naturalidadeFalecido"]'),
-			nacionalidade: get('input[name="nacionalidadeFalecido"]'),
-			nome_pai: get('input[name="nomePaiFalecido"]'),
-			nome_mae: get('input[name="nomeMaeFalecido"]'),
-			cpf: normalizeCpf(get('input[name="cpfFalecido"]')),
-			rg: get('input[name="rgFalecido"]'),
-			orgao_expedidor_rg: get('input[name="orgaoExpedidorRG"]'),
-			titulo_eleitor: get('input[name="tituloEleitorFalecido"]'),
-			zona_eleitoral: get('input[name="zonaEleitoralFalecido"]'),
-			secao_eleitoral: get('input[name="secaoEleitoralFalecido"]'),
-			passaporte: get('input[name="passaporteFalecido"]'),
-			orgao_expedidor_passaporte: get('input[name="orgaoExpedidorPassaporte"]'),
-			pis: get('input[name="pisFalecido"]'),
-			orgao_expedidor_pis: get('input[name="orgaoExpedidorPIS"]'),
-			cns: get('input[name="cnsFalecido"]'),
-			orgao_expedidor_cns: get('input[name="orgaoExpedidorCNS"]'),
-			certidao: get('input[name="certidaoFalecido"]'),
-			livro: get('input[name="livro"]'),
-			folha: get('input[name="folha"]'),
-			termo: get('input[name="termo"]'),
-			data_termo: normalizeDate(get('input[name="dataTermo"]')),
-			cartorio_cns: get('input[name="certidao.cartorio_cns"]'),
-			matricula: get('input[name="matricula"]'),
-			observacoes: get('textarea[name="observacoesFalecido"]'),
-			declaracao_obito: get('input[name="declaracaoObito"]'),
-			data_declaracao_obito: normalizeDate(get('input[name="dataDeclaracaoObito"]')),
-			causa_mortis: get('input[name="causaMortis"]'),
-			medico: get('input[name="medico"]'),
-			crm_medico: get('input[name="crmMedico"]'),
-			uf_crm_medico: get('input[name="ufCrmMedico"]'),
-			local_sepultamento: get('input[name="localSepultamento"]'),
-			municipio_sepultamento: get('input[name="municipioSepultamento"]'),
-			uf_municipio_sepultamento: getSelect('select[name="ufMunicipioSepultamento"]'),
-			data_sepultamento: normalizeDate(get('input[name="dataSepultamento"]')),
-			hora_sepultamento: normalizeTime(get('input[name="horaSepultamento"]')),
-			informante: get('input[name="informante"]'),
-			parentesco_informante: get('input[name="parentescoInformante"]'),
-			cpf_informante: normalizeCpf(get('input[name="cpfInformante"]')),
-			rg_informante: get('input[name="rgInformante"]'),
-			orgao_expedidor_rg_informante: get('input[name="orgaoExpedidorRGInformante"]'),
-			endereco_informante: get('input[name="enderecoInformante"]'),
-			telefone_informante: get('input[name="telefoneInformante"]'),
-			email_informante: get('input[name="emailInformante"]'),
-			data_registro: normalizeDate(get('input[name="dataRegistro"]')),
-			oficial: get('input[name="oficial"]'),
-			id_assinante: getSelect('select[name="idAssinante"]'),
-			nome_assinante: getText('select[name="idAssinante"] option:checked'),
-			titulo_livro: get('input[name="tituloLivro"]'),
-			municipio_cartorio: get('input[name="municipioCartorio"]'),
-			uf_cartorio: getSelect('select[name="ufCartorio"]'),
-			data_emissao: normalizeDate(get('input[name="dataEmissao"]')),
-			via: get('input[name="via"]'),
-			motivo: get('input[name="motivo"]'),
-			solicitante: get('input[name="solicitante"]'),
-			cpf_solicitante: normalizeCpf(get('input[name="cpfSolicitante"]')),
-			rg_solicitante: get('input[name="rgSolicitante"]'),
-			orgao_expedidor_rg_solicitante: get('input[name="orgaoExpedidorRGSolicitante"]'),
-			endereco_solicitante: get('input[name="enderecoSolicitante"]'),
-			telefone_solicitante: get('input[name="telefoneSolicitante"]'),
-			email_solicitante: get('input[name="emailSolicitante"]'),
-			observacoes_solicitante: get('textarea[name="observacoesSolicitante"]'),
-			data_solicitacao: normalizeDate(get('input[name="dataSolicitacao"]')),
-			protocolo: get('input[name="protocolo"]'),
-			status: get('input[name="status"]'),
-			data_status: normalizeDate(get('input[name="dataStatus"]')),
-			observacoes_status: get('textarea[name="observacoesStatus"]'),
-			data_entrega: normalizeDate(get('input[name="dataEntrega"]')),
-			responsavel_entrega: get('input[name="responsavelEntrega"]'),
-			observacoes_entrega: get('textarea[name="observacoesEntrega"]'),
-			data_cancelamento: normalizeDate(get('input[name="dataCancelamento"]')),
-			motivo_cancelamento: get('input[name="motivoCancelamento"]'),
-			observacoes_cancelamento: get('textarea[name="observacoesCancelamento"]'),
-			data_retorno: normalizeDate(get('input[name="dataRetorno"]')),
-			motivo_retorno: get('input[name="motivoRetorno"]'),
-			observacoes_retorno: get('textarea[name="observacoesRetorno"]'),
-			data_arquivamento: normalizeDate(get('input[name="dataArquivamento"]')),
-			motivo_arquivamento: get('input[name="motivoArquivamento"]'),
-			observacoes_arquivamento: get('textarea[name="observacoesArquivamento"]'),
-			data_exclusao: normalizeDate(get('input[name="dataExclusao"]')),
-			motivo_exclusao: get('input[name="motivoExclusao"]'),
-			observacoes_exclusao: get('textarea[name="observacoesExclusao"]'),
-			data_reabertura: normalizeDate(get('input[name="dataReabertura"]')),
-			motivo_reabertura: get('input[name="motivoReabertura"]'),
-			observacoes_reabertura: get('textarea[name="observacoesReabertura"]'),
-			data_transferencia: normalizeDate(get('input[name="dataTransferencia"]')),
-			motivo_transferencia: get('input[name="motivoTransferencia"]'),
-			observacoes_transferencia: get('textarea[name="observacoesTransferencia"]'),
-			data_averbacao: normalizeDate(get('input[name="dataAverbacao"]')),
-			motivo_averbacao: get('input[name="motivoAverbacao"]'),
-			observacoes_averbacao: get('textarea[name="observacoesAverbacao"]'),
-			data_anotacao: normalizeDate(get('input[name="dataAnotacao"]')),
-			motivo_anotacao: get('input[name="motivoAnotacao"]'),
-			observacoes_anotacao: get('textarea[name="observacoesAnotacao"]'),
-			data_retorno_cartorio: normalizeDate(get('input[name="dataRetornoCartorio"]')),
-			motivo_retorno_cartorio: get('input[name="motivoRetornoCartorio"]'),
-			observacoes_retorno_cartorio: get('textarea[name="observacoesRetornoCartorio"]'),
-			data_exclusao_cartorio: normalizeDate(get('input[name="dataExclusaoCartorio"]')),
-			motivo_exclusao_cartorio: get('input[name="motivoExclusaoCartorio"]'),
-			observacoes_exclusao_cartorio: get('textarea[name="observacoesExclusaoCartorio"]'),
-			data_arquivamento_cartorio: normalizeDate(get('input[name="dataArquivamentoCartorio"]')),
-			motivo_arquivamento_cartorio: get('input[name="motivoArquivamentoCartorio"]'),
-			observacoes_arquivamento_cartorio: get('textarea[name="observacoesArquivamentoCartorio"]'),
-			data_reabertura_cartorio: normalizeDate(get('input[name="dataReaberturaCartorio"]')),
-			motivo_reabertura_cartorio: get('input[name="motivoReaberturaCartorio"]'),
-			observacoes_reabertura_cartorio: get('textarea[name="observacoesReaberturaCartorio"]'),
-			data_transferencia_cartorio: normalizeDate(get('input[name="dataTransferenciaCartorio"]')),
-			motivo_transferencia_cartorio: get('input[name="motivoTransferenciaCartorio"]'),
-			observacoes_transferencia_cartorio: get('textarea[name="observacoesTransferenciaCartorio"]'),
-			data_averbacao_cartorio: normalizeDate(get('input[name="dataAverbacaoCartorio"]')),
-			motivo_averbacao_cartorio: get('input[name="motivoAverbacaoCartorio"]'),
-			observacoes_averbacao_cartorio: get('textarea[name="observacoesAverbacaoCartorio"]'),
-			data_anotacao_cartorio: normalizeDate(get('input[name="dataAnotacaoCartorio"]')),
-			motivo_anotacao_cartorio: get('input[name="motivoAnotacaoCartorio"]'),
-			observacoes_anotacao_cartorio: get('textarea[name="observacoesAnotacaoCartorio"]'),
-		}
-	};
+  return {
+    registro: {
+      nome_completo: get('input[name="nomeFalecido"]'),
+      sexo: getRadio('sexoFalecido'),
+      data_nascimento: normalizeDate(get('input[name="dataNascimentoFalecido"]')),
+      data_obito: normalizeDate(get('input[name="dataObito"]')),
+      hora_obito: normalizeTime(get('input[name="horaObito"]')),
+      local_obito: get('input[name="localObito"]'),
+      municipio_obito: get('input[name="municipioObito"]'),
+      uf_municipio_obito: getSelect('select[name="ufMunicipioObito"]'),
+      estado_civil: getRadio('estadoCivilFalecido'),
+      profissao: get('input[name="profissaoFalecido"]'),
+      naturalidade: get('input[name="naturalidadeFalecido"]'),
+      nacionalidade: get('input[name="nacionalidadeFalecido"]'),
+      nome_pai: get('input[name="nomePaiFalecido"]'),
+      nome_mae: get('input[name="nomeMaeFalecido"]'),
+      cpf: normalizeCpf(get('input[name="cpfFalecido"]')),
+      rg: get('input[name="rgFalecido"]'),
+      orgao_expedidor_rg: get('input[name="orgaoExpedidorRG"]'),
+      titulo_eleitor: get('input[name="tituloEleitorFalecido"]'),
+      zona_eleitoral: get('input[name="zonaEleitoralFalecido"]'),
+      secao_eleitoral: get('input[name="secaoEleitoralFalecido"]'),
+      passaporte: get('input[name="passaporteFalecido"]'),
+      orgao_expedidor_passaporte: get('input[name="orgaoExpedidorPassaporte"]'),
+      pis: get('input[name="pisFalecido"]'),
+      orgao_expedidor_pis: get('input[name="orgaoExpedidorPIS"]'),
+      cns: get('input[name="cnsFalecido"]'),
+      orgao_expedidor_cns: get('input[name="orgaoExpedidorCNS"]'),
+      certidao: get('input[name="certidaoFalecido"]'),
+      livro: get('input[name="livro"]'),
+      folha: get('input[name="folha"]'),
+      termo: get('input[name="termo"]'),
+      data_termo: normalizeDate(get('input[name="dataTermo"]')),
+      cartorio_cns: get('input[name="certidao.cartorio_cns"]'),
+      matricula: get('input[name="matricula"]'),
+      observacoes: get('textarea[name="observacoesFalecido"]'),
+      declaracao_obito: get('input[name="declaracaoObito"]'),
+      data_declaracao_obito: normalizeDate(get('input[name="dataDeclaracaoObito"]')),
+      causa_mortis: get('input[name="causaMortis"]'),
+      medico: get('input[name="medico"]'),
+      crm_medico: get('input[name="crmMedico"]'),
+      uf_crm_medico: get('input[name="ufCrmMedico"]'),
+      local_sepultamento: get('input[name="localSepultamento"]'),
+      municipio_sepultamento: get('input[name="municipioSepultamento"]'),
+      uf_municipio_sepultamento: getSelect('select[name="ufMunicipioSepultamento"]'),
+      data_sepultamento: normalizeDate(get('input[name="dataSepultamento"]')),
+      hora_sepultamento: normalizeTime(get('input[name="horaSepultamento"]')),
+      informante: get('input[name="informante"]'),
+      parentesco_informante: get('input[name="parentescoInformante"]'),
+      cpf_informante: normalizeCpf(get('input[name="cpfInformante"]')),
+      rg_informante: get('input[name="rgInformante"]'),
+      orgao_expedidor_rg_informante: get('input[name="orgaoExpedidorRGInformante"]'),
+      endereco_informante: get('input[name="enderecoInformante"]'),
+      telefone_informante: get('input[name="telefoneInformante"]'),
+      email_informante: get('input[name="emailInformante"]'),
+      data_registro: normalizeDate(get('input[name="dataRegistro"]')),
+      oficial: get('input[name="oficial"]'),
+      id_assinante: getSelect('select[name="idAssinante"]'),
+      nome_assinante: getText('select[name="idAssinante"] option:checked'),
+      titulo_livro: get('input[name="tituloLivro"]'),
+      municipio_cartorio: get('input[name="municipioCartorio"]'),
+      uf_cartorio: getSelect('select[name="ufCartorio"]'),
+      data_emissao: normalizeDate(get('input[name="dataEmissao"]')),
+      via: get('input[name="via"]'),
+      motivo: get('input[name="motivo"]'),
+      solicitante: get('input[name="solicitante"]'),
+      cpf_solicitante: normalizeCpf(get('input[name="cpfSolicitante"]')),
+      rg_solicitante: get('input[name="rgSolicitante"]'),
+      orgao_expedidor_rg_solicitante: get('input[name="orgaoExpedidorRGSolicitante"]'),
+      endereco_solicitante: get('input[name="enderecoSolicitante"]'),
+      telefone_solicitante: get('input[name="telefoneSolicitante"]'),
+      email_solicitante: get('input[name="emailSolicitante"]'),
+      observacoes_solicitante: get('textarea[name="observacoesSolicitante"]'),
+      data_solicitacao: normalizeDate(get('input[name="dataSolicitacao"]')),
+      protocolo: get('input[name="protocolo"]'),
+      status: get('input[name="status"]'),
+      data_status: normalizeDate(get('input[name="dataStatus"]')),
+      observacoes_status: get('textarea[name="observacoesStatus"]'),
+      data_entrega: normalizeDate(get('input[name="dataEntrega"]')),
+      responsavel_entrega: get('input[name="responsavelEntrega"]'),
+      observacoes_entrega: get('textarea[name="observacoesEntrega"]'),
+      data_cancelamento: normalizeDate(get('input[name="dataCancelamento"]')),
+      motivo_cancelamento: get('input[name="motivoCancelamento"]'),
+      observacoes_cancelamento: get('textarea[name="observacoesCancelamento"]'),
+      data_retorno: normalizeDate(get('input[name="dataRetorno"]')),
+      motivo_retorno: get('input[name="motivoRetorno"]'),
+      observacoes_retorno: get('textarea[name="observacoesRetorno"]'),
+      data_arquivamento: normalizeDate(get('input[name="dataArquivamento"]')),
+      motivo_arquivamento: get('input[name="motivoArquivamento"]'),
+      observacoes_arquivamento: get('textarea[name="observacoesArquivamento"]'),
+      data_exclusao: normalizeDate(get('input[name="dataExclusao"]')),
+      motivo_exclusao: get('input[name="motivoExclusao"]'),
+      observacoes_exclusao: get('textarea[name="observacoesExclusao"]'),
+      data_reabertura: normalizeDate(get('input[name="dataReabertura"]')),
+      motivo_reabertura: get('input[name="motivoReabertura"]'),
+      observacoes_reabertura: get('textarea[name="observacoesReabertura"]'),
+      data_transferencia: normalizeDate(get('input[name="dataTransferencia"]')),
+      motivo_transferencia: get('input[name="motivoTransferencia"]'),
+      observacoes_transferencia: get('textarea[name="observacoesTransferencia"]'),
+      data_averbacao: normalizeDate(get('input[name="dataAverbacao"]')),
+      motivo_averbacao: get('input[name="motivoAverbacao"]'),
+      observacoes_averbacao: get('textarea[name="observacoesAverbacao"]'),
+      data_anotacao: normalizeDate(get('input[name="dataAnotacao"]')),
+      motivo_anotacao: get('input[name="motivoAnotacao"]'),
+      observacoes_anotacao: get('textarea[name="observacoesAnotacao"]'),
+      data_retorno_cartorio: normalizeDate(get('input[name="dataRetornoCartorio"]')),
+      motivo_retorno_cartorio: get('input[name="motivoRetornoCartorio"]'),
+      observacoes_retorno_cartorio: get('textarea[name="observacoesRetornoCartorio"]'),
+      data_exclusao_cartorio: normalizeDate(get('input[name="dataExclusaoCartorio"]')),
+      motivo_exclusao_cartorio: get('input[name="motivoExclusaoCartorio"]'),
+      observacoes_exclusao_cartorio: get('textarea[name="observacoesExclusaoCartorio"]'),
+      data_arquivamento_cartorio: normalizeDate(get('input[name="dataArquivamentoCartorio"]')),
+      motivo_arquivamento_cartorio: get('input[name="motivoArquivamentoCartorio"]'),
+      observacoes_arquivamento_cartorio: get('textarea[name="observacoesArquivamentoCartorio"]'),
+      data_reabertura_cartorio: normalizeDate(get('input[name="dataReaberturaCartorio"]')),
+      motivo_reabertura_cartorio: get('input[name="motivoReaberturaCartorio"]'),
+      observacoes_reabertura_cartorio: get('textarea[name="observacoesReaberturaCartorio"]'),
+      data_transferencia_cartorio: normalizeDate(get('input[name="dataTransferenciaCartorio"]')),
+      motivo_transferencia_cartorio: get('input[name="motivoTransferenciaCartorio"]'),
+      observacoes_transferencia_cartorio: get('textarea[name="observacoesTransferenciaCartorio"]'),
+      data_averbacao_cartorio: normalizeDate(get('input[name="dataAverbacaoCartorio"]')),
+      motivo_averbacao_cartorio: get('input[name="motivoAverbacaoCartorio"]'),
+      observacoes_averbacao_cartorio: get('textarea[name="observacoesAverbacaoCartorio"]'),
+      data_anotacao_cartorio: normalizeDate(get('input[name="dataAnotacaoCartorio"]')),
+      motivo_anotacao_cartorio: get('input[name="motivoAnotacaoCartorio"]'),
+      observacoes_anotacao_cartorio: get('textarea[name="observacoesAnotacaoCartorio"]'),
+    },
+  };
 }
diff --git a/segundas-vias/src/acts/obito/obito.ts b/segundas-vias/src/acts/obito/obito.ts
index 61948bf..50374da 100644
--- a/segundas-vias/src/acts/obito/obito.ts
+++ b/segundas-vias/src/acts/obito/obito.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { mapperHtmlToJson } from './mapperHtmlToJson.js';
 import { normalizeDate } from '../../shared/validators/date.js';
 import { validateDateDetailed } from '../../shared/validators/date.js';
@@ -8,7 +8,11 @@ import { validateName } from '../../shared/validators/name.js';
 import { getFieldState, applyFieldState } from '../../shared/ui/fieldState.js';
 import { applyDateMask, applyTimeMask } from '../../shared/ui/mask.js';
 import { collectInvalidFields } from '../../shared/ui/debug.js';
-import { buildMatriculaBase30, calcDv2Digits, buildMatriculaFinal } from '../../shared/matricula/cnj.js';
+import {
+  buildMatriculaBase30,
+  calcDv2Digits,
+  buildMatriculaFinal,
+} from '../../shared/matricula/cnj.js';
 import { setupPrimaryShortcut } from '../../shared/productivity/index.js';
 import { setupAdminPanel } from '../../shared/ui/admin.js';
 import { createNameValidator } from '../../nameValidator.js';
@@ -22,907 +26,1004 @@ const ENABLE_NAME_KEY = 'ui.enableNameValidation';
 const PANEL_INLINE_KEY = 'ui.panelInline';
 
 function applyDrawerPosition(pos) {
-	const drawer = document.getElementById('drawer');
-	if (!drawer) return;
-	drawer.classList.remove('position-top', 'position-bottom-right', 'position-side');
-	if (pos === 'top') drawer.classList.add('position-top');
-	else if (pos === 'side') drawer.classList.add('position-side');
-	else drawer.classList.add('position-bottom-right');
+  const drawer = document.getElementById('drawer');
+  if (!drawer) return;
+  drawer.classList.remove('position-top', 'position-bottom-right', 'position-side');
+  if (pos === 'top') drawer.classList.add('position-top');
+  else if (pos === 'side') drawer.classList.add('position-side');
+  else drawer.classList.add('position-bottom-right');
 }
 
 function setStatus(text, isError) {
-	const el = document.getElementById('statusText');
-	if (!el) return;
-	el.textContent = text;
-	el.style.color = isError ? '#dc2626' : '#64748b';
-	clearTimeout(el._timer);
-	el._timer = setTimeout(() => {
-		el.textContent = 'Pronto';
-		el.style.color = '#64748b';
-	}, 2000);
+  const el = document.getElementById('statusText');
+  if (!el) return;
+  el.textContent = text;
+  el.style.color = isError ? '#dc2626' : '#64748b';
+  clearTimeout(el._timer);
+  el._timer = setTimeout(() => {
+    el.textContent = 'Pronto';
+    el.style.color = '#64748b';
+  }, 2000);
 }
 
 function formatCpfInput(value) {
-	const digits = normalizeCpf(value).slice(0, 11);
-	if (!digits) return '';
-	const p1 = digits.slice(0, 3);
-	const p2 = digits.slice(3, 6);
-	const p3 = digits.slice(6, 9);
-	const p4 = digits.slice(9, 11);
-	let out = p1;
-	if (p2) out += `.${p2}`;
-	if (p3) out += `.${p3}`;
-	if (p4) out += `-${p4}`;
-	return out;
+  const digits = normalizeCpf(value).slice(0, 11);
+  if (!digits) return '';
+  const p1 = digits.slice(0, 3);
+  const p2 = digits.slice(3, 6);
+  const p3 = digits.slice(6, 9);
+  const p4 = digits.slice(9, 11);
+  let out = p1;
+  if (p2) out += `.${p2}`;
+  if (p3) out += `.${p3}`;
+  if (p4) out += `-${p4}`;
+  return out;
 }
 
 function escapeXml(str) {
-	return String(str || '')
-		.replace(/&/g, '&amp;')
-		.replace(/</g, '&lt;')
-		.replace(/>/g, '&gt;')
-		.replace(/"/g, '&quot;')
-		.replace(/'/g, '&apos;');
+  return String(str || '')
+    .replace(/&/g, '&amp;')
+    .replace(/</g, '&lt;')
+    .replace(/>/g, '&gt;')
+    .replace(/"/g, '&quot;')
+    .replace(/'/g, '&apos;');
 }
 
 function toXml(obj, nodeName, indent = 0) {
-	const pad = '  '.repeat(indent);
-	if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
-	if (typeof obj !== 'object') return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
-	if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
-	const children = Object.keys(obj).map((key) => toXml(obj[key], key, indent + 1)).join('\n');
-	return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
+  const pad = '  '.repeat(indent);
+  if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
+  if (typeof obj !== 'object') return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
+  if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
+  const children = Object.keys(obj)
+    .map((key) => toXml(obj[key], key, indent + 1))
+    .join('\n');
+  return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
 }
 
 function downloadFile(name, content, mime) {
-	try {
-		const blob = new Blob([content], { type: mime });
-		const url = URL.createObjectURL(blob);
-		const a = document.createElement('a');
-		a.href = url;
-		a.download = name;
-		document.body.appendChild(a);
-		a.click();
-		a.remove();
-		URL.revokeObjectURL(url);
-		return true;
-	} catch {
-		return false;
-	}
+  try {
+    const blob = new Blob([content], { type: mime });
+    const url = URL.createObjectURL(blob);
+    const a = document.createElement('a');
+    a.href = url;
+    a.download = name;
+    document.body.appendChild(a);
+    a.click();
+    a.remove();
+    URL.revokeObjectURL(url);
+    return true;
+  } catch (e) { void e;
+    return false;
+  }
 }
 
 function makeTimestamp() {
-	const d = new Date();
-	const pad = (n) => String(n).padStart(2, '0');
-	return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;
+  const d = new Date();
+  const pad = (n) => String(n).padStart(2, '0');
+  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(
+    d.getMinutes(),
+  )}${pad(d.getSeconds())}`;
 }
 
 function normalizeFilePart(value, fallback) {
-	const clean = String(value || '')
-		.normalize('NFD')
-		.replace(/[\u0300-\u036f]/g, '')
-		.toUpperCase()
-		.replace(/[^A-Z0-9]+/g, '_')
-		.replace(/^_+|_+$/g, '');
-	return clean || fallback;
+  const clean = String(value || '')
+    .normalize('NFD')
+    .replace(/[\u0300-\u036f]/g, '')
+    .toUpperCase()
+    .replace(/[^A-Z0-9]+/g, '_')
+    .replace(/^_+|_+$/g, '');
+  return clean || fallback;
 }
 
 function buildFileName(data, ext) {
-	const nome = normalizeFilePart(data?.registro?.nome_completo, 'SEM_NOME');
-	const cpfDigits = String(data?.registro?.cpf || '').replace(/\D/g, '');
-	const cpfPart = cpfDigits ? cpfDigits : 'SEM_CPF';
-	const stamp = makeTimestamp();
-	return `OBITO_${nome}_${cpfPart}_${stamp}.${ext}`;
+  const nome = normalizeFilePart(data?.registro?.nome_completo, 'SEM_NOME');
+  const cpfDigits = String(data?.registro?.cpf || '').replace(/\D/g, '');
+  const cpfPart = cpfDigits ? cpfDigits : 'SEM_CPF';
+  const stamp = makeTimestamp();
+  return `OBITO_${nome}_${cpfPart}_${stamp}.${ext}`;
 }
 
 function generateJson() {
-	if (!canProceed()) return;
-	const data = mapperHtmlToJson(document);
-	const json = JSON.stringify(data, null, 2);
-	const out = document.getElementById('json-output');
-	if (out) out.value = json;
-	const name = buildFileName(data, 'json');
-	if (downloadFile(name, json, 'application/json')) setStatus(`JSON baixado: ${name}`);
-	else setStatus('Falha ao gerar JSON', true);
+  if (!canProceed()) return;
+  const data = mapperHtmlToJson(document);
+  const json = JSON.stringify(data, null, 2);
+  const out = document.getElementById('json-output');
+  if (out) out.value = json;
+  const name = buildFileName(data, 'json');
+  if (downloadFile(name, json, 'application/json')) setStatus(`JSON baixado: ${name}`);
+  else setStatus('Falha ao gerar JSON', true);
 }
 
 function generateXml() {
-	if (!canProceed()) return;
-	const data = mapperHtmlToJson(document);
-	const xml = toXml(data, 'certidao_obito', 0);
-	const out = document.getElementById('xml-output');
-	if (out) out.value = xml;
-	const name = buildFileName(data, 'xml');
-	if (downloadFile(name, xml, 'application/xml')) setStatus(`XML baixado: ${name}`);
-	else setStatus('Falha ao gerar XML', true);
+  if (!canProceed()) return;
+  const data = mapperHtmlToJson(document);
+  const xml = toXml(data, 'certidao_obito', 0);
+  const out = document.getElementById('xml-output');
+  if (out) out.value = xml;
+  const name = buildFileName(data, 'xml');
+  if (downloadFile(name, xml, 'application/xml')) setStatus(`XML baixado: ${name}`);
+  else setStatus('Falha ao gerar XML', true);
 }
 
 function openPrintPreview() {
-	if (!canProceed()) return;
-	const data = mapperHtmlToJson(document);
-	const assinante = document.querySelector('select[name="idAssinante"] option:checked')?.textContent || '';
-	const tituloLivro = document.querySelector('input[name="tituloLivro"]')?.value || '';
-	const cidadeMatch = /COMARCA DE\s+(.+)$/i.exec(tituloLivro);
-	const cidadeCartorio = (cidadeMatch ? cidadeMatch[1] : '') || document.querySelector('input[name="municipioObito"]')?.value || '';
-	const ufCartorio = document.querySelector('select[name="ufMunicipioObito"]')?.value || '';
-	const html = buildObitoPrintHtml(data, {
-		assinante: assinante.trim(),
-		cidadeCartorio: cidadeCartorio.trim(),
-		ufCartorio
-	});
-	const out = document.getElementById('print-html');
-	if (out) out.value = html;
-	const win = window.open('', '_blank');
-	if (!win) {
-		setStatus('Popup bloqueado. Libere para imprimir.', true);
-		return;
-	}
-	win.document.open();
-	win.document.write(html);
-	win.document.close();
-	win.focus();
-	setTimeout(() => win.print(), 300);
+  if (!canProceed()) return;
+  const data = mapperHtmlToJson(document);
+  const assinante =
+    document.querySelector('select[name="idAssinante"] option:checked')?.textContent || '';
+  const tituloLivro = document.querySelector('input[name="tituloLivro"]')?.value || '';
+  const cidadeMatch = /COMARCA DE\s+(.+)$/i.exec(tituloLivro);
+  const cidadeCartorio =
+    (cidadeMatch ? cidadeMatch[1] : '') ||
+    document.querySelector('input[name="municipioObito"]')?.value ||
+    '';
+  const ufCartorio = document.querySelector('select[name="ufMunicipioObito"]')?.value || '';
+  const html = buildObitoPrintHtml(data, {
+    assinante: assinante.trim(),
+    cidadeCartorio: cidadeCartorio.trim(),
+    ufCartorio,
+  });
+  const out = document.getElementById('print-html');
+  if (out) out.value = html;
+  const win = window.open('', '_blank');
+  if (!win) {
+    setStatus('Popup bloqueado. Libere para imprimir.', true);
+    return;
+  }
+  win.document.open();
+  win.document.write(html);
+  win.document.close();
+  win.focus();
+  setTimeout(() => win.print(), 300);
 }
 
 function showToast(message) {
-	let container = document.getElementById('toast-container');
-	if (!container) {
-		container = document.createElement('div');
-		container.id = 'toast-container';
-		document.body.appendChild(container);
-	}
-	const toast = document.createElement('div');
-	toast.className = 'toast';
-	toast.textContent = message;
-	container.appendChild(toast);
-	setTimeout(() => { toast.classList.add('show'); }, 10);
-	setTimeout(() => {
-		toast.classList.remove('show');
-		setTimeout(() => toast.remove(), 200);
-	}, 2000);
+  let container = document.getElementById('toast-container');
+  if (!container) {
+    container = document.createElement('div');
+    container.id = 'toast-container';
+    document.body.appendChild(container);
+  }
+  const toast = document.createElement('div');
+  toast.className = 'toast';
+  toast.textContent = message;
+  container.appendChild(toast);
+  setTimeout(() => {
+    toast.classList.add('show');
+  }, 10);
+  setTimeout(() => {
+    toast.classList.remove('show');
+    setTimeout(() => toast.remove(), 200);
+  }, 2000);
 }
 
 function setupConfigPanel() {
-	const radios = document.querySelectorAll('input[name=\"name-validation-mode\"]');
-	radios.forEach((radio) => {
-		radio.checked = radio.value === nameValidationMode;
-	});
-	document.getElementById('config-save')?.addEventListener('click', () => {
-		const selected = document.querySelector('input[name=\"name-validation-mode\"]:checked');
-		if (selected && selected.value) {
-			nameValidationMode = selected.value;
-			localStorage.setItem(NAME_MODE_KEY, nameValidationMode);
-		}
-	});
+  const radios = document.querySelectorAll('input[name="name-validation-mode"]');
+  radios.forEach((radio) => {
+    radio.checked = radio.value === nameValidationMode;
+  });
+  document.getElementById('config-save')?.addEventListener('click', () => {
+    const selected = document.querySelector('input[name="name-validation-mode"]:checked');
+    if (selected && selected.value) {
+      nameValidationMode = selected.value;
+      localStorage.setItem(NAME_MODE_KEY, nameValidationMode);
+    }
+  });
 }
 
 function setupSettingsPanel() {
-	const select = document.getElementById('settings-drawer-position');
-	const cbCpf = document.getElementById('settings-enable-cpf');
-	const cbName = document.getElementById('settings-enable-name');
-	const saveBtn = document.getElementById('settings-save');
-	const applyBtn = document.getElementById('settings-apply');
-
-	const pos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
-	const enableCpf = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
-	const enableName = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
-	const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
-	// default: floating drawer is primary (false)
-	const panelInline = panelInlineStored === null ? false : panelInlineStored === 'true';
-
-	if (select) select.value = pos;
-	if (cbCpf) cbCpf.checked = !!enableCpf;
-	if (cbName) cbName.checked = !!enableName;
-	const cbInline = document.getElementById('settings-panel-inline');
-	if (cbInline) cbInline.checked = !!panelInline;
-
-	applyDrawerPosition(pos);
-
-	saveBtn?.addEventListener('click', () => {
-		const newPos = select?.value || 'bottom-right';
-		const newCpf = cbCpf?.checked ? 'true' : 'false';
-		const newName = cbName?.checked ? 'true' : 'false';
-		const newInline = (document.getElementById('settings-panel-inline')?.checked) ? 'true' : 'false';
-		localStorage.setItem(DRAWER_POS_KEY, newPos);
-		localStorage.setItem(ENABLE_CPF_KEY, newCpf);
-		localStorage.setItem(ENABLE_NAME_KEY, newName);
-		localStorage.setItem(PANEL_INLINE_KEY, newInline);
-		applyDrawerPosition(newPos);
-		// reload to rebind validators cleanly
-		setStatus('Prefer\u00eancias salvas. Atualizando...', false);
-		setTimeout(() => window.location.reload(), 300);
-	});
-
-	applyBtn?.addEventListener('click', () => {
-		const newPos = select?.value || 'bottom-right';
-		applyDrawerPosition(newPos);
-		setStatus('Posi\u00e7\u00e3o aplicada (n\u00e3o salva)', false);
-	});
+  const select = document.getElementById('settings-drawer-position');
+  const cbCpf = document.getElementById('settings-enable-cpf');
+  const cbName = document.getElementById('settings-enable-name');
+  const saveBtn = document.getElementById('settings-save');
+  const applyBtn = document.getElementById('settings-apply');
+
+  const pos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
+  const enableCpf = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
+  const enableName = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
+  const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
+  // default: floating drawer is primary (false)
+  const panelInline = panelInlineStored === null ? false : panelInlineStored === 'true';
+
+  if (select) select.value = pos;
+  if (cbCpf) cbCpf.checked = !!enableCpf;
+  if (cbName) cbName.checked = !!enableName;
+  const cbInline = document.getElementById('settings-panel-inline');
+  if (cbInline) cbInline.checked = !!panelInline;
+
+  applyDrawerPosition(pos);
+
+  saveBtn?.addEventListener('click', () => {
+    const newPos = select?.value || 'bottom-right';
+    const newCpf = cbCpf?.checked ? 'true' : 'false';
+    const newName = cbName?.checked ? 'true' : 'false';
+    const newInline = document.getElementById('settings-panel-inline')?.checked ? 'true' : 'false';
+    localStorage.setItem(DRAWER_POS_KEY, newPos);
+    localStorage.setItem(ENABLE_CPF_KEY, newCpf);
+    localStorage.setItem(ENABLE_NAME_KEY, newName);
+    localStorage.setItem(PANEL_INLINE_KEY, newInline);
+    applyDrawerPosition(newPos);
+    // reload to rebind validators cleanly
+    setStatus('Prefer\u00eancias salvas. Atualizando...', false);
+    setTimeout(() => window.location.reload(), 300);
+  });
+
+  applyBtn?.addEventListener('click', () => {
+    const newPos = select?.value || 'bottom-right';
+    applyDrawerPosition(newPos);
+    setStatus('Posi\u00e7\u00e3o aplicada (n\u00e3o salva)', false);
+  });
 }
 
 function ensureDrawer() {
-	let drawer = document.getElementById('drawer');
-	if (drawer) return drawer;
-	drawer = document.createElement('div');
-	drawer.id = 'drawer';
-	drawer.className = 'drawer';
-	const header = document.createElement('div');
-	header.className = 'drawer-header';
-	const title = document.createElement('div');
-	title.className = 'drawer-title';
-	title.textContent = 'Painel';
-	const closeBtn = document.createElement('button');
-	closeBtn.className = 'btn secondary';
-	closeBtn.textContent = 'Fechar';
-	closeBtn.addEventListener('click', () => drawer.classList.remove('open'));
-	header.appendChild(title);
-	header.appendChild(closeBtn);
-	const body = document.createElement('div');
-	body.className = 'drawer-body';
-	// build tabbar + panes (config, json, xml, debug)
-	const tabbar = document.createElement('div');
-	tabbar.className = 'tabbar';
-	const makeTabBtn = (label, tab) => {
-		const b = document.createElement('button');
-		b.className = 'tab-btn';
-		b.setAttribute('data-tab', tab);
-		b.textContent = label;
-		return b;
-	};
-	const btnConfig = makeTabBtn('Configuracoes','tab-config'); btnConfig.classList.add('active');
-	const btnJson = makeTabBtn('JSON','tab-json');
-	const btnXml = makeTabBtn('XML','tab-xml');
-	const btnDebug = makeTabBtn('Debug','tab-debug');
-	tabbar.appendChild(btnConfig); tabbar.appendChild(btnJson); tabbar.appendChild(btnXml); tabbar.appendChild(btnDebug);
-
-	const paneConfig = document.createElement('div'); paneConfig.id = 'tab-config'; paneConfig.className = 'tab-pane active';
-	const paneJson = document.createElement('div'); paneJson.id = 'tab-json'; paneJson.className = 'tab-pane';
-	const paneXml = document.createElement('div'); paneXml.id = 'tab-xml'; paneXml.className = 'tab-pane';
-	const paneDebug = document.createElement('div'); paneDebug.id = 'tab-debug'; paneDebug.className = 'tab-pane';
-
-	body.appendChild(tabbar);
-	body.appendChild(paneConfig);
-	body.appendChild(paneJson);
-	body.appendChild(paneXml);
-	body.appendChild(paneDebug);
-
-	// tab switching
-	tabbar.addEventListener('click', (e) => {
-		const btn = e.target.closest('.tab-btn');
-		if (!btn) return;
-		const tab = btn.getAttribute('data-tab');
-		tabbar.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
-		btn.classList.add('active');
-		[paneConfig, paneJson, paneXml, paneDebug].forEach(p => p.classList.remove('active'));
-		const target = body.querySelector(`#${tab}`);
-		if (target) target.classList.add('active');
-	});
-
-	drawer.appendChild(header);
-	drawer.appendChild(body);
-	document.body.appendChild(drawer);
-	return drawer;
+  let drawer = document.getElementById('drawer');
+  if (drawer) return drawer;
+  drawer = document.createElement('div');
+  drawer.id = 'drawer';
+  drawer.className = 'drawer';
+  const header = document.createElement('div');
+  header.className = 'drawer-header';
+  const title = document.createElement('div');
+  title.className = 'drawer-title';
+  title.textContent = 'Painel';
+  const closeBtn = document.createElement('button');
+  closeBtn.className = 'btn secondary';
+  closeBtn.textContent = 'Fechar';
+  closeBtn.addEventListener('click', () => drawer.classList.remove('open'));
+  header.appendChild(title);
+  header.appendChild(closeBtn);
+  const body = document.createElement('div');
+  body.className = 'drawer-body';
+  // build tabbar + panes (config, json, xml, debug)
+  const tabbar = document.createElement('div');
+  tabbar.className = 'tabbar';
+  const makeTabBtn = (label, tab) => {
+    const b = document.createElement('button');
+    b.className = 'tab-btn';
+    b.setAttribute('data-tab', tab);
+    b.textContent = label;
+    return b;
+  };
+  const btnConfig = makeTabBtn('Configuracoes', 'tab-config');
+  btnConfig.classList.add('active');
+  const btnJson = makeTabBtn('JSON', 'tab-json');
+  const btnXml = makeTabBtn('XML', 'tab-xml');
+  const btnDebug = makeTabBtn('Debug', 'tab-debug');
+  tabbar.appendChild(btnConfig);
+  tabbar.appendChild(btnJson);
+  tabbar.appendChild(btnXml);
+  tabbar.appendChild(btnDebug);
+
+  const paneConfig = document.createElement('div');
+  paneConfig.id = 'tab-config';
+  paneConfig.className = 'tab-pane active';
+  const paneJson = document.createElement('div');
+  paneJson.id = 'tab-json';
+  paneJson.className = 'tab-pane';
+  const paneXml = document.createElement('div');
+  paneXml.id = 'tab-xml';
+  paneXml.className = 'tab-pane';
+  const paneDebug = document.createElement('div');
+  paneDebug.id = 'tab-debug';
+  paneDebug.className = 'tab-pane';
+
+  body.appendChild(tabbar);
+  body.appendChild(paneConfig);
+  body.appendChild(paneJson);
+  body.appendChild(paneXml);
+  body.appendChild(paneDebug);
+
+  // tab switching
+  tabbar.addEventListener('click', (e) => {
+    const btn = e.target.closest('.tab-btn');
+    if (!btn) return;
+    const tab = btn.getAttribute('data-tab');
+    tabbar.querySelectorAll('.tab-btn').forEach((b) => b.classList.remove('active'));
+    btn.classList.add('active');
+    [paneConfig, paneJson, paneXml, paneDebug].forEach((p) => p.classList.remove('active'));
+    const target = body.querySelector(`#${tab}`);
+    if (target) target.classList.add('active');
+  });
+
+  drawer.appendChild(header);
+  drawer.appendChild(body);
+  document.body.appendChild(drawer);
+  return drawer;
 }
 
 function arrangePanel() {
-	const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
-	// default to floating drawer as primary
-	const useInline = panelInlineStored === null ? false : panelInlineStored === 'true';
-	const inline = document.getElementById('panel-inline');
-	if (!inline) return;
-	const drawerPos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
-	const existingDrawer = document.getElementById('drawer');
-
-	if (useInline) {
-		// ensure content is inline
-		if (existingDrawer) {
-			const body = existingDrawer.querySelector('.drawer-body');
-			if (body) {
-				while (body.firstChild) inline.appendChild(body.firstChild);
-			}
-			existingDrawer.remove();
-		}
-		const toggle = document.getElementById('drawer-toggle');
-		if (toggle) toggle.style.display = 'none';
-	} else {
-		// move inline content into drawer
-		const drawer = ensureDrawer();
-		applyDrawerPosition(drawerPos);
-		const body = drawer.querySelector('.drawer-body');
-		if (body) {
-			// distribute inline children into appropriate tab panes inside drawer
-			const paneConfig = body.querySelector('#tab-config');
-			const paneJson = body.querySelector('#tab-json');
-			const paneXml = body.querySelector('#tab-xml');
-			const paneDebug = body.querySelector('#tab-debug');
-			while (inline.firstChild) {
-				const node = inline.firstChild;
-				// inspect node for known outputs
-				const hasJson = node.querySelector && node.querySelector('#json-output');
-				const hasXml = node.querySelector && node.querySelector('#xml-output');
-				const hasPrint = node.querySelector && node.querySelector('#print-html');
-				const hasDebug = node.querySelector && (node.querySelector('#debug-invalid') || node.querySelector('#debug-alerts') || node.querySelector('#debug-matricula-base'));
-				if (hasJson && paneJson) paneJson.appendChild(node);
-				else if (hasXml && paneXml) paneXml.appendChild(node);
-				else if (hasPrint && paneXml) paneXml.appendChild(node);
-				else if (hasDebug && paneDebug) paneDebug.appendChild(node);
-				else if (paneConfig) paneConfig.appendChild(node);
-				else body.appendChild(node);
-			}
-		}
-		const toggle = document.getElementById('drawer-toggle');
-		if (toggle) toggle.style.display = 'inline-flex';
-	}
+  const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
+  // default to floating drawer as primary
+  const useInline = panelInlineStored === null ? false : panelInlineStored === 'true';
+  const inline = document.getElementById('panel-inline');
+  if (!inline) return;
+  const drawerPos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
+  const existingDrawer = document.getElementById('drawer');
+
+  if (useInline) {
+    // ensure content is inline
+    if (existingDrawer) {
+      const body = existingDrawer.querySelector('.drawer-body');
+      if (body) {
+        while (body.firstChild) inline.appendChild(body.firstChild);
+      }
+      existingDrawer.remove();
+    }
+    const toggle = document.getElementById('drawer-toggle');
+    if (toggle) toggle.style.display = 'none';
+  } else {
+    // move inline content into drawer
+    const drawer = ensureDrawer();
+    applyDrawerPosition(drawerPos);
+    const body = drawer.querySelector('.drawer-body');
+    if (body) {
+      // distribute inline children into appropriate tab panes inside drawer
+      const paneConfig = body.querySelector('#tab-config');
+      const paneJson = body.querySelector('#tab-json');
+      const paneXml = body.querySelector('#tab-xml');
+      const paneDebug = body.querySelector('#tab-debug');
+      while (inline.firstChild) {
+        const node = inline.firstChild;
+        // inspect node for known outputs
+        const hasJson = node.querySelector && node.querySelector('#json-output');
+        const hasXml = node.querySelector && node.querySelector('#xml-output');
+        const hasPrint = node.querySelector && node.querySelector('#print-html');
+        const hasDebug =
+          node.querySelector &&
+          (node.querySelector('#debug-invalid') ||
+            node.querySelector('#debug-alerts') ||
+            node.querySelector('#debug-matricula-base'));
+        if (hasJson && paneJson) paneJson.appendChild(node);
+        else if (hasXml && paneXml) paneXml.appendChild(node);
+        else if (hasPrint && paneXml) paneXml.appendChild(node);
+        else if (hasDebug && paneDebug) paneDebug.appendChild(node);
+        else if (paneConfig) paneConfig.appendChild(node);
+        else body.appendChild(node);
+      }
+    }
+    const toggle = document.getElementById('drawer-toggle');
+    if (toggle) toggle.style.display = 'inline-flex';
+  }
 }
 
 function arrangePanel() {
-	const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
-	// default to floating drawer as primary
-	const useInline = panelInlineStored === null ? false : panelInlineStored === 'true';
-	const inline = document.getElementById('panel-inline');
-	if (!inline) return;
-	const drawerPos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
-	const existingDrawer = document.getElementById('drawer');
-
-	if (useInline) {
-		// ensure content is inline
-		if (existingDrawer) {
-			const body = existingDrawer.querySelector('.drawer-body');
-			if (body) {
-				while (body.firstChild) inline.appendChild(body.firstChild);
-			}
-			existingDrawer.remove();
-		}
-		const toggle = document.getElementById('drawer-toggle');
-		if (toggle) toggle.style.display = 'none';
-	} else {
-		// move inline content into drawer
-		const drawer = ensureDrawer();
-		applyDrawerPosition(drawerPos);
-		const body = drawer.querySelector('.drawer-body');
-		if (body) {
-			// distribute inline children into appropriate tab panes inside drawer
-			const paneConfig = body.querySelector('#tab-config');
-			const paneJson = body.querySelector('#tab-json');
-			const paneXml = body.querySelector('#tab-xml');
-			const paneDebug = body.querySelector('#tab-debug');
-			while (inline.firstChild) {
-				const node = inline.firstChild;
-				// inspect node for known outputs
-				const hasJson = node.querySelector && node.querySelector('#json-output');
-				const hasXml = node.querySelector && node.querySelector('#xml-output');
-				const hasPrint = node.querySelector && node.querySelector('#print-html');
-				const hasDebug = node.querySelector && (node.querySelector('#debug-invalid') || node.querySelector('#debug-alerts') || node.querySelector('#debug-matricula-base'));
-				if (hasJson && paneJson) paneJson.appendChild(node);
-				else if (hasXml && paneXml) paneXml.appendChild(node);
-				else if (hasPrint && paneXml) paneXml.appendChild(node);
-				else if (hasDebug && paneDebug) paneDebug.appendChild(node);
-				else if (paneConfig) paneConfig.appendChild(node);
-				else body.appendChild(node);
-			}
-		}
-		const toggle = document.getElementById('drawer-toggle');
-		if (toggle) toggle.style.display = 'inline-flex';
-	}
+  const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
+  // default to floating drawer as primary
+  const useInline = panelInlineStored === null ? false : panelInlineStored === 'true';
+  const inline = document.getElementById('panel-inline');
+  if (!inline) return;
+  const drawerPos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
+  const existingDrawer = document.getElementById('drawer');
+
+  if (useInline) {
+    // ensure content is inline
+    if (existingDrawer) {
+      const body = existingDrawer.querySelector('.drawer-body');
+      if (body) {
+        while (body.firstChild) inline.appendChild(body.firstChild);
+      }
+      existingDrawer.remove();
+    }
+    const toggle = document.getElementById('drawer-toggle');
+    if (toggle) toggle.style.display = 'none';
+  } else {
+    // move inline content into drawer
+    const drawer = ensureDrawer();
+    applyDrawerPosition(drawerPos);
+    const body = drawer.querySelector('.drawer-body');
+    if (body) {
+      // distribute inline children into appropriate tab panes inside drawer
+      const paneConfig = body.querySelector('#tab-config');
+      const paneJson = body.querySelector('#tab-json');
+      const paneXml = body.querySelector('#tab-xml');
+      const paneDebug = body.querySelector('#tab-debug');
+      while (inline.firstChild) {
+        const node = inline.firstChild;
+        // inspect node for known outputs
+        const hasJson = node.querySelector && node.querySelector('#json-output');
+        const hasXml = node.querySelector && node.querySelector('#xml-output');
+        const hasPrint = node.querySelector && node.querySelector('#print-html');
+        const hasDebug =
+          node.querySelector &&
+          (node.querySelector('#debug-invalid') ||
+            node.querySelector('#debug-alerts') ||
+            node.querySelector('#debug-matricula-base'));
+        if (hasJson && paneJson) paneJson.appendChild(node);
+        else if (hasXml && paneXml) paneXml.appendChild(node);
+        else if (hasPrint && paneXml) paneXml.appendChild(node);
+        else if (hasDebug && paneDebug) paneDebug.appendChild(node);
+        else if (paneConfig) paneConfig.appendChild(node);
+        else body.appendChild(node);
+      }
+    }
+    const toggle = document.getElementById('drawer-toggle');
+    if (toggle) toggle.style.display = 'inline-flex';
+  }
 }
 
 function setupDrawerToggle() {
-	const btn = document.getElementById('drawer-toggle');
-	if (!btn) return;
-	btn.addEventListener('click', () => {
-		const drawer = document.getElementById('drawer');
-		if (!drawer) return;
-		drawer.classList.toggle('open');
-	});
+  const btn = document.getElementById('drawer-toggle');
+  if (!btn) return;
+  btn.addEventListener('click', () => {
+    const drawer = document.getElementById('drawer');
+    if (!drawer) return;
+    drawer.classList.toggle('open');
+  });
 }
 
 function setupActSelect() {
-	const select = document.getElementById('ato-select');
-	if (!select) return;
-	select.value = 'obito';
-	select.addEventListener('change', () => {
-		const map = {
-			nascimento: './Nascimento2Via.html',
-			casamento: './Casamento2Via.html',
-			obito: './Obito2Via.html'
-		};
-		const next = map[select.value];
-		if (next) window.location.href = next;
-	});
+  const select = document.getElementById('ato-select');
+  if (!select) return;
+  select.value = 'obito';
+  select.addEventListener('change', () => {
+    const map = {
+      nascimento: './Nascimento2Via.html',
+      casamento: './Casamento2Via.html',
+      obito: './Obito2Via.html',
+    };
+    const next = map[select.value];
+    if (next) window.location.href = next;
+  });
 }
 
 function populateOrgaoAndUf() {
-	// opções de órgãos (copiado do template HTML)
-	const orgaos = [
-		['', ''],
-		['7','CONSELHO REGIONAL DE ADMINISTRACAO'],
-		['8','CONSELHO REGIONAL DE ASSISTENCIA SOCIAL'],
-		['9','CONSELHO REGIONAL DE BIBLIOTECONOMIA'],
-		['28','CONSELHO REGIONAL DE BIOLOGIA'],
-		['10','CONSELHO REGIONAL DE CONTABILIDADE'],
-		['11','CONSELHO REGIONAL DE CORRETORES IMOVEIS'],
-		['12','CONSELHO REGIONAL de ECONOMIA'],
-		['13','CONSELHO REGIONAL DE ENFERMAGEM'],
-		['14','CONSELHO REGIONAL DE ENGENHARIA E ARQUITETURA'],
-		['15','CONSELHO REGIONAL DE ESTATISTICA'],
-		['16','CONSELHO REGIONAL DE FARMACIA'],
-		['17','CONSELHO REGIONAL DE FISIOTERAPIA E TERAPIA'],
-		['29','CONSELHO REGIONAL DE FONAUDIOLOGIA'],
-		['18','CONSELHO REGIONAL DE MEDICINA'],
-		['19','CONSELHO REGIONAL DE MEDICINA VETERINÁRIA'],
-		['21','CONSELHO REGIONAL DE NUTRICAO'],
-		['22','CONSELHO REGIONAL DE ODONTOLOGIA'],
-		['24','CONSELHO REGIONAL DE PSICOLOGIA'],
-		['25','CONSELHO REGIONAL DE QUIMICA'],
-		['23','CONSELHO REGIONAL DE RELACOES PUBLICAS'],
-		['30','CONSELHO REGIONAL DE SERVICO SOCIAL'],
-		['31','CONSELHO REGIONAL DE TECNICOS EM RADIOLOGIA'],
-		['26','CONSELHO REGIONAL DOS ESCRITORES'],
-		['34','CORPO DE BOMBEIROS'],
-		['32','DEPARTAMENTO ESTADUAL DE TRANSITO'],
-		['4','MINISTERIO DA AERONATICA'],
-		['3','MINISTERIO DA DEFESA'],
-		['5','MINISTERIO DA MARINHA'],
-		['1','NAO INFORMADO'],
-		['27','ORDEM DOS ADVOGADOS DO BRASIL'],
-		['20','ORDEM DOS MUSICOS DO BRASIL'],
-		['36','POLICIA CIVIL'],
-		['6','POLICIA FEDERAL'],
-		['33','POLICIA MILITAR'],
-		['38','SECRETARIA DE DEFESA SOCIAL'],
-		['37','SECRETARIA DE ESTADO DA DEFESA SOCIAL/AL'],
-		['2','SECRETARIA DE SEGURANCA PUBLICA'],
-		['35','SECRETARIA DO ESTADO DA CASA CIVIL']
-	];
-
-	const orgIds = ['orgaoExpedidorRG','orgaoExpedidorPIS','orgaoExpedidorPassaporte','orgaoExpedidorCNS'];
-	orgIds.forEach(id => {
-		const el = document.getElementById(id);
-		if (!el) return;
-		// limpamos possíveis opções duplicadas antes de popular
-		el.innerHTML = '';
-		orgaos.forEach(pair => {
-			const o = document.createElement('option');
-			o.value = pair[0];
-			o.textContent = pair[1];
-			el.appendChild(o);
-		});
-	});
-
-	// popular ufTitulo
-	const ufSelect = document.getElementById('ufTitulo');
-	if (ufSelect) {
-		ufSelect.innerHTML = '';
-		const ufs = ['','AC','AL','AP','AM','BA','BR','CE','DF','ES','ET','GO','IG','MA','MT','MS','MG','PA','PB','PR','PE','PI','RJ','RN','RS','RO','RR','SC','SP','SE','TO'];
-		ufs.forEach(u => {
-			const o = document.createElement('option');
-			o.value = u;
-			o.textContent = u;
-			ufSelect.appendChild(o);
-		});
-	}
+  // opções de órgãos (copiado do template HTML)
+  const orgaos = [
+    ['', ''],
+    ['7', 'CONSELHO REGIONAL DE ADMINISTRACAO'],
+    ['8', 'CONSELHO REGIONAL DE ASSISTENCIA SOCIAL'],
+    ['9', 'CONSELHO REGIONAL DE BIBLIOTECONOMIA'],
+    ['28', 'CONSELHO REGIONAL DE BIOLOGIA'],
+    ['10', 'CONSELHO REGIONAL DE CONTABILIDADE'],
+    ['11', 'CONSELHO REGIONAL DE CORRETORES IMOVEIS'],
+    ['12', 'CONSELHO REGIONAL de ECONOMIA'],
+    ['13', 'CONSELHO REGIONAL DE ENFERMAGEM'],
+    ['14', 'CONSELHO REGIONAL DE ENGENHARIA E ARQUITETURA'],
+    ['15', 'CONSELHO REGIONAL DE ESTATISTICA'],
+    ['16', 'CONSELHO REGIONAL DE FARMACIA'],
+    ['17', 'CONSELHO REGIONAL DE FISIOTERAPIA E TERAPIA'],
+    ['29', 'CONSELHO REGIONAL DE FONAUDIOLOGIA'],
+    ['18', 'CONSELHO REGIONAL DE MEDICINA'],
+    ['19', 'CONSELHO REGIONAL DE MEDICINA VETERINÁRIA'],
+    ['21', 'CONSELHO REGIONAL DE NUTRICAO'],
+    ['22', 'CONSELHO REGIONAL DE ODONTOLOGIA'],
+    ['24', 'CONSELHO REGIONAL DE PSICOLOGIA'],
+    ['25', 'CONSELHO REGIONAL DE QUIMICA'],
+    ['23', 'CONSELHO REGIONAL DE RELACOES PUBLICAS'],
+    ['30', 'CONSELHO REGIONAL DE SERVICO SOCIAL'],
+    ['31', 'CONSELHO REGIONAL DE TECNICOS EM RADIOLOGIA'],
+    ['26', 'CONSELHO REGIONAL DOS ESCRITORES'],
+    ['34', 'CORPO DE BOMBEIROS'],
+    ['32', 'DEPARTAMENTO ESTADUAL DE TRANSITO'],
+    ['4', 'MINISTERIO DA AERONATICA'],
+    ['3', 'MINISTERIO DA DEFESA'],
+    ['5', 'MINISTERIO DA MARINHA'],
+    ['1', 'NAO INFORMADO'],
+    ['27', 'ORDEM DOS ADVOGADOS DO BRASIL'],
+    ['20', 'ORDEM DOS MUSICOS DO BRASIL'],
+    ['36', 'POLICIA CIVIL'],
+    ['6', 'POLICIA FEDERAL'],
+    ['33', 'POLICIA MILITAR'],
+    ['38', 'SECRETARIA DE DEFESA SOCIAL'],
+    ['37', 'SECRETARIA DE ESTADO DA DEFESA SOCIAL/AL'],
+    ['2', 'SECRETARIA DE SEGURANCA PUBLICA'],
+    ['35', 'SECRETARIA DO ESTADO DA CASA CIVIL'],
+  ];
+
+  const orgIds = [
+    'orgaoExpedidorRG',
+    'orgaoExpedidorPIS',
+    'orgaoExpedidorPassaporte',
+    'orgaoExpedidorCNS',
+  ];
+  orgIds.forEach((id) => {
+    const el = document.getElementById(id);
+    if (!el) return;
+    // limpamos possíveis opções duplicadas antes de popular
+    el.innerHTML = '';
+    orgaos.forEach((pair) => {
+      const o = document.createElement('option');
+      o.value = pair[0];
+      o.textContent = pair[1];
+      el.appendChild(o);
+    });
+  });
+
+  // popular ufTitulo
+  const ufSelect = document.getElementById('ufTitulo');
+  if (ufSelect) {
+    ufSelect.innerHTML = '';
+    const ufs = [
+      '',
+      'AC',
+      'AL',
+      'AP',
+      'AM',
+      'BA',
+      'BR',
+      'CE',
+      'DF',
+      'ES',
+      'ET',
+      'GO',
+      'IG',
+      'MA',
+      'MT',
+      'MS',
+      'MG',
+      'PA',
+      'PB',
+      'PR',
+      'PE',
+      'PI',
+      'RJ',
+      'RN',
+      'RS',
+      'RO',
+      'RR',
+      'SC',
+      'SP',
+      'SE',
+      'TO',
+    ];
+    ufs.forEach((u) => {
+      const o = document.createElement('option');
+      o.value = u;
+      o.textContent = u;
+      ufSelect.appendChild(o);
+    });
+  }
 }
 
 function yearFromDate(value) {
-	const normalized = normalizeDate(value);
-	const match = (normalized || '').match(/^(\d{2})\/(\d{2})\/(\d{4})$/);
-	return match ? match[3] : '';
+  const normalized = normalizeDate(value);
+  const match = (normalized || '').match(/^(\d{2})\/(\d{2})\/(\d{4})$/);
+  return match ? match[3] : '';
 }
 
 function updateDebug(data) {
-	const cns = document.querySelector('input[name=\"certidao.cartorio_cns\"]')?.value || '';
-	const ano = yearFromDate(document.querySelector('input[name=\"dataTermo\"]')?.value || '');
-	const livro = document.querySelector('input[name=\"livro\"]')?.value || '';
-	const folha = document.querySelector('input[name=\"folha\"]')?.value || '';
-	const termo = document.querySelector('input[name=\"termo\"]')?.value || '';
-	const base = buildMatriculaBase30({
-		cns6: cns,
-		ano,
-		tipoAto: '4',
-		acervo: '01',
-		servico: '55',
-		livro,
-		folha,
-		termo
-	});
-	const dv = base ? calcDv2Digits(base) : '';
-	const final = base && dv ? base + dv : buildMatriculaFinal({ cns6: cns, ano, tipoAto: '4', livro, folha, termo });
-
-	const baseEl = document.getElementById('debug-matricula-base');
-	if (baseEl) baseEl.value = base || '';
-	const dvEl = document.getElementById('debug-matricula-dv');
-	if (dvEl) dvEl.value = dv || '';
-	const finalEl = document.getElementById('debug-matricula-final');
-	if (finalEl) finalEl.value = final || '';
-
-	const invalids = collectInvalidFields(document);
-	const invalidEl = document.getElementById('debug-invalid');
-	if (invalidEl) invalidEl.value = invalids.join('\n');
-
-	const alertsEl = document.getElementById('debug-alerts');
-	if (alertsEl) alertsEl.value = '';
+  const cns = document.querySelector('input[name="certidao.cartorio_cns"]')?.value || '';
+  const ano = yearFromDate(document.querySelector('input[name="dataTermo"]')?.value || '');
+  const livro = document.querySelector('input[name="livro"]')?.value || '';
+  const folha = document.querySelector('input[name="folha"]')?.value || '';
+  const termo = document.querySelector('input[name="termo"]')?.value || '';
+  const base = buildMatriculaBase30({
+    cns6: cns,
+    ano,
+    tipoAto: '4',
+    acervo: '01',
+    servico: '55',
+    livro,
+    folha,
+    termo,
+  });
+  const dv = base ? calcDv2Digits(base) : '';
+  const final =
+    base && dv
+      ? base + dv
+      : buildMatriculaFinal({ cns6: cns, ano, tipoAto: '4', livro, folha, termo });
+
+  const baseEl = document.getElementById('debug-matricula-base');
+  if (baseEl) baseEl.value = base || '';
+  const dvEl = document.getElementById('debug-matricula-dv');
+  if (dvEl) dvEl.value = dv || '';
+  const finalEl = document.getElementById('debug-matricula-final');
+  if (finalEl) finalEl.value = final || '';
+
+  const invalids = collectInvalidFields(document);
+  const invalidEl = document.getElementById('debug-invalid');
+  if (invalidEl) invalidEl.value = invalids.join('\n');
+
+  const alertsEl = document.getElementById('debug-alerts');
+  if (alertsEl) alertsEl.value = '';
 }
 
 function updateOutputs() {
-	const data = mapperHtmlToJson(document);
-	const jsonEl = document.getElementById('json-output');
-	if (jsonEl) jsonEl.value = JSON.stringify(data, null, 2);
-	const xmlEl = document.getElementById('xml-output');
-	if (xmlEl) xmlEl.value = toXml(data, 'certidao_obito', 0);
-	const printEl = document.getElementById('print-html');
-	if (printEl) {
-		const assinante = document.querySelector('select[name="idAssinante"] option:checked')?.textContent || '';
-		const tituloLivro = document.querySelector('input[name="tituloLivro"]')?.value || '';
-		const cidadeMatch = /COMARCA DE\s+(.+)$/i.exec(tituloLivro);
-		const cidadeCartorio = (cidadeMatch ? cidadeMatch[1] : '') || document.querySelector('input[name="municipioObito"]')?.value || '';
-		const ufCartorio = document.querySelector('select[name="ufMunicipioObito"]')?.value || '';
-		printEl.value = buildObitoPrintHtml(data, {
-			assinante: assinante.trim(),
-			cidadeCartorio: cidadeCartorio.trim(),
-			ufCartorio
-		});
-	}
-	updateDebug(data);
+  const data = mapperHtmlToJson(document);
+  const jsonEl = document.getElementById('json-output');
+  if (jsonEl) jsonEl.value = JSON.stringify(data, null, 2);
+  const xmlEl = document.getElementById('xml-output');
+  if (xmlEl) xmlEl.value = toXml(data, 'certidao_obito', 0);
+  const printEl = document.getElementById('print-html');
+  if (printEl) {
+    const assinante =
+      document.querySelector('select[name="idAssinante"] option:checked')?.textContent || '';
+    const tituloLivro = document.querySelector('input[name="tituloLivro"]')?.value || '';
+    const cidadeMatch = /COMARCA DE\s+(.+)$/i.exec(tituloLivro);
+    const cidadeCartorio =
+      (cidadeMatch ? cidadeMatch[1] : '') ||
+      document.querySelector('input[name="municipioObito"]')?.value ||
+      '';
+    const ufCartorio = document.querySelector('select[name="ufMunicipioObito"]')?.value || '';
+    printEl.value = buildObitoPrintHtml(data, {
+      assinante: assinante.trim(),
+      cidadeCartorio: cidadeCartorio.trim(),
+      ufCartorio,
+    });
+  }
+  updateDebug(data);
 }
 
 function setupLiveOutputs() {
-	const form = document.getElementById('form-obito');
-	const handler = () => updateOutputs();
-	form?.addEventListener('input', handler);
-	form?.addEventListener('change', handler);
-	updateOutputs();
+  const form = document.getElementById('form-obito');
+  const handler = () => updateOutputs();
+  form?.addEventListener('input', handler);
+  form?.addEventListener('change', handler);
+  updateOutputs();
 }
 
 function setupTogglePanels() {
-	document.querySelectorAll('[data-toggle]').forEach((toggle) => {
-		const key = toggle.getAttribute('data-toggle');
-		const panel = document.querySelector(`[data-toggle-panel="${key}"]`);
-		if (!panel) return;
-		toggle.addEventListener('click', () => {
-			const isHidden = panel.style.display === 'none' || !panel.style.display;
-			panel.style.display = isHidden ? 'block' : 'none';
-		});
-	});
+  document.querySelectorAll('[data-toggle]').forEach((toggle) => {
+    const key = toggle.getAttribute('data-toggle');
+    const panel = document.querySelector(`[data-toggle-panel="${key}"]`);
+    if (!panel) return;
+    toggle.addEventListener('click', () => {
+      const isHidden = panel.style.display === 'none' || !panel.style.display;
+      panel.style.display = isHidden ? 'block' : 'none';
+    });
+  });
 }
 
 function resolveField(input) {
-	return input.closest('td') || input.closest('.campo') || input.closest('.field') || input.parentElement;
+  return (
+    input.closest('td') || input.closest('.campo') || input.closest('.field') || input.parentElement
+  );
 }
 
 function setFieldHint(field, message) {
-	if (!field) return;
-	let hint = field.querySelector('.hint');
-	if (!hint) {
-		hint = document.createElement('div');
-		hint.className = 'hint';
-		field.appendChild(hint);
-	}
-	// build content with an icon and message
-	if (message) {
-		hint.innerHTML = '';
-		const icon = document.createElement('span');
-		icon.className = 'icon';
-		icon.textContent = '\u26a0';
-		icon.setAttribute('aria-hidden', 'true');
-		hint.appendChild(icon);
-		const txt = document.createElement('span');
-		txt.className = 'hint-text';
-		txt.textContent = message;
-		hint.appendChild(txt);
-		hint.classList.add('visible');
-		// update aria-live region for screen-readers
-		let aria = document.getElementById('aria-live-errors');
-		if (!aria) {
-			aria = document.createElement('div');
-			aria.id = 'aria-live-errors';
-			aria.className = 'sr-only';
-			aria.setAttribute('aria-live', 'assertive');
-			aria.setAttribute('role', 'status');
-			document.body.appendChild(aria);
-		}
-		aria.textContent = message;
-	} else {
-		hint.innerHTML = '';
-		hint.classList.remove('visible');
-	}
-}
-
-function clearFieldHint(field) { setFieldHint(field, ''); }
+  if (!field) return;
+  let hint = field.querySelector('.hint');
+  if (!hint) {
+    hint = document.createElement('div');
+    hint.className = 'hint';
+    field.appendChild(hint);
+  }
+  // build content with an icon and message
+  if (message) {
+    hint.innerHTML = '';
+    const icon = document.createElement('span');
+    icon.className = 'icon';
+    icon.textContent = '\u26a0';
+    icon.setAttribute('aria-hidden', 'true');
+    hint.appendChild(icon);
+    const txt = document.createElement('span');
+    txt.className = 'hint-text';
+    txt.textContent = message;
+    hint.appendChild(txt);
+    hint.classList.add('visible');
+    // update aria-live region for screen-readers
+    let aria = document.getElementById('aria-live-errors');
+    if (!aria) {
+      aria = document.createElement('div');
+      aria.id = 'aria-live-errors';
+      aria.className = 'sr-only';
+      aria.setAttribute('aria-live', 'assertive');
+      aria.setAttribute('role', 'status');
+      document.body.appendChild(aria);
+    }
+    aria.textContent = message;
+  } else {
+    hint.innerHTML = '';
+    hint.classList.remove('visible');
+  }
+}
+
+function clearFieldHint(field) {
+  setFieldHint(field, '');
+}
 
 function setupFocusEmphasis() {
-	document.addEventListener('focusin', (e) => {
-		const el = e.target;
-		if (!(el instanceof HTMLElement)) return;
-		if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) {
-			try { el.scrollIntoView({behavior:'smooth', block:'center'}); } catch {}
-			el.classList.add('focus-emphasis');
-		}
-	});
-	document.addEventListener('focusout', (e) => {
-		const el = e.target;
-		if (!(el instanceof HTMLElement)) return;
-		if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
-	});
+  document.addEventListener('focusin', (e) => {
+    const el = e.target;
+    if (!(el instanceof HTMLElement)) return;
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) {
+      try {
+        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
+      } catch (e) { void e;}
+      el.classList.add('focus-emphasis');
+    }
+  });
+  document.addEventListener('focusout', (e) => {
+    const el = e.target;
+    if (!(el instanceof HTMLElement)) return;
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
+  });
 }
 
 function applyState(input, field, state) {
-	applyFieldState(field, state);
-	if (input) input.classList.toggle('invalid', state === 'empty' || state === 'invalid');
+  applyFieldState(field, state);
+  if (input) input.classList.toggle('invalid', state === 'empty' || state === 'invalid');
 }
 
 function setupValidation() {
-	document.querySelectorAll('input[data-date]').forEach((input) => {
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required');
-		const onInput = () => {
-			applyDateMask(input);
-			// clear hints while typing
-			clearFieldHint(field);
-			const normalized = normalizeDate(input.value);
-			const isValid = !input.value || !!normalized;
-			const state = getFieldState({ required, value: input.value, isValid });
-			applyState(input, field, state);
-		};
-
-		const onBlur = () => {
-			applyDateMask(input);
-			const raw = input.value || '';
-			const res = validateDateDetailed(raw);
-			const isValid = res.ok;
-			const state = getFieldState({ required, value: raw, isValid });
-			applyState(input, field, state);
-			if (!isValid && raw) {
-				setFieldHint(field, res.message || 'Data inv\u00e1lida');
-			} else {
-				clearFieldHint(field);
-			}
-		};
-
-		input.addEventListener('input', onInput);
-		input.addEventListener('blur', onBlur);
-		// apply initial mask only (do not mark field invalid on load)
-		applyDateMask(input);
-	});
-
-	document.querySelectorAll('input[data-time]').forEach((input) => {
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required');
-		const handler = () => {
-			applyTimeMask(input);
-			const normalized = normalizeTime(input.value);
-			const isValid = !input.value || !!normalized;
-			const state = getFieldState({ required, value: input.value, isValid });
-			applyState(input, field, state);
-		};
-		input.addEventListener('input', handler);
-		input.addEventListener('blur', handler);
-		// apply initial mask only (do not mark field invalid on load)
-		applyTimeMask(input);
-	});
-
-	const enableNameValidation = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
-	if (enableNameValidation) {
-		document.querySelectorAll('[data-name-validate]').forEach((input) => {
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required');
-		const handler = () => {
-			const res = validateName(input.value, { minWords: 2 });
-			const state = getFieldState({
-				required,
-				value: input.value,
-				isValid: !res.invalid,
-				warn: res.warn
-			});
-			applyState(input, field, state);
-		};
-		input.addEventListener('input', handler);
-		input.addEventListener('blur', handler);
-		// format CPF visually but don't validate on load
-		input.value = formatCpfInput(input.value);
-		});
-	}
-
-	const enableCpfValidation = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
-	if (enableCpfValidation) {
-		document.querySelectorAll('input[data-cpf]').forEach((input) => {
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required');
-		const handler = () => {
-			input.value = formatCpfInput(input.value);
-			const digits = normalizeCpf(input.value);
-			const isValid = !digits || isValidCpf(digits);
-			const state = getFieldState({ required, value: digits ? input.value : '', isValid });
-			applyState(input, field, state);
-		};
-		input.addEventListener('input', handler);
-		input.addEventListener('blur', () => {
-			handler();
-			const digits = normalizeCpf(input.value);
-			if (input.value && (!digits || !isValidCpf(digits))) setFieldHint(field, 'CPF inv\u00e1lido');
-			else clearFieldHint(field);
-		});
-		handler();
-		});
-	}
-
-	// helper to prevent actions when there are invalid fields
-	function canProceed() {
-		const invalids = collectInvalidFields(document);
-		if (!invalids || invalids.length === 0) return true;
-		setStatus(`${invalids.length} campo(s) inv\u00e1lido(s). Corrija antes de prosseguir.`, true);
-		showToast('Existem campos inv\u00e1lidos \u2014 corrija antes de prosseguir');
-		// also populate debug area if present
-		const invalidEl = document.getElementById('debug-invalid');
-		if (invalidEl) invalidEl.value = invalids.join('\n');
-		return false;
-	}
-
-	function updateActionButtons() {
-		const invalids = collectInvalidFields(document);
-		const disabled = !!(invalids && invalids.length > 0);
-		const btnJson = document.getElementById('btn-json'); if (btnJson) btnJson.disabled = disabled;
-		const btnXml = document.getElementById('btn-xml'); if (btnXml) btnXml.disabled = disabled;
-		const btnPrint = document.getElementById('btn-print'); if (btnPrint) btnPrint.disabled = disabled;
-		const statusEl = document.getElementById('statusText'); if (statusEl && !disabled) statusEl.textContent = 'Pronto';
-
-		// show inline summary near top of form
-		let summary = document.getElementById('form-error-summary');
-		if (!summary) {
-			summary = document.createElement('div');
-			summary.id = 'form-error-summary';
-			summary.style.margin = '6px 0 0 0';
-			summary.style.padding = '6px 8px';
-			summary.style.borderRadius = '6px';
-			summary.style.background = 'transparent';
-			summary.style.border = 'none';
-			summary.style.color = '#6b7280';
-			summary.style.fontSize = '12px';
-			summary.style.opacity = '0.85';
-			const container = document.querySelector('.container');
-			if (container) container.appendChild(summary);
-		}
-		if (disabled) {
-			summary.textContent = `Campos inv\u00e1lidos: ${invalids.join(', ')}`;
-			summary.style.display = 'block';
-		} else if (summary) {
-			summary.style.display = 'none';
-		}
-		// keep an aria-live region in sync for assistive tech
-		let aria = document.getElementById('aria-live-errors');
-		if (!aria) {
-			aria = document.createElement('div');
-			aria.id = 'aria-live-errors';
-			aria.className = 'sr-only';
-			aria.setAttribute('aria-live', 'assertive');
-			aria.setAttribute('role', 'status');
-			document.body.appendChild(aria);
-		}
-		aria.textContent = disabled ? `Existem ${invalids.length} campos inv\u00e1lidos: ${invalids.join(', ')}` : '';
-	}
-
-	document.querySelectorAll('select[data-required], textarea[data-required], input[data-required]').forEach((input) => {
-		if (input.hasAttribute('data-date') || input.hasAttribute('data-time') || input.hasAttribute('data-cpf') || input.hasAttribute('data-name-validate')) return;
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required');
-		const handler = () => {
-			const state = getFieldState({ required, value: input.value, isValid: true });
-			applyState(input, field, state);
-		};
-		input.addEventListener('input', handler);
-		input.addEventListener('change', handler);
-		// do not run required-field handler on load to avoid marking all fields red
-	});
+  document.querySelectorAll('input[data-date]').forEach((input) => {
+    const field = resolveField(input);
+    const required = input.hasAttribute('data-required');
+    const onInput = () => {
+      applyDateMask(input);
+      // clear hints while typing
+      clearFieldHint(field);
+      const normalized = normalizeDate(input.value);
+      const isValid = !input.value || !!normalized;
+      const state = getFieldState({ required, value: input.value, isValid });
+      applyState(input, field, state);
+    };
+
+    const onBlur = () => {
+      applyDateMask(input);
+      const raw = input.value || '';
+      const res = validateDateDetailed(raw);
+      const isValid = res.ok;
+      const state = getFieldState({ required, value: raw, isValid });
+      applyState(input, field, state);
+      if (!isValid && raw) {
+        setFieldHint(field, res.message || 'Data inv\u00e1lida');
+      } else {
+        clearFieldHint(field);
+      }
+    };
+
+    input.addEventListener('input', onInput);
+    input.addEventListener('blur', onBlur);
+    // apply initial mask only (do not mark field invalid on load)
+    applyDateMask(input);
+  });
+
+  document.querySelectorAll('input[data-time]').forEach((input) => {
+    const field = resolveField(input);
+    const required = input.hasAttribute('data-required');
+    const handler = () => {
+      applyTimeMask(input);
+      const normalized = normalizeTime(input.value);
+      const isValid = !input.value || !!normalized;
+      const state = getFieldState({ required, value: input.value, isValid });
+      applyState(input, field, state);
+    };
+    input.addEventListener('input', handler);
+    input.addEventListener('blur', handler);
+    // apply initial mask only (do not mark field invalid on load)
+    applyTimeMask(input);
+  });
+
+  const enableNameValidation = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
+  if (enableNameValidation) {
+    document.querySelectorAll('[data-name-validate]').forEach((input) => {
+      const field = resolveField(input);
+      const required = input.hasAttribute('data-required');
+      const handler = () => {
+        const res = validateName(input.value, { minWords: 2 });
+        const state = getFieldState({
+          required,
+          value: input.value,
+          isValid: !res.invalid,
+          warn: res.warn,
+        });
+        applyState(input, field, state);
+      };
+      input.addEventListener('input', handler);
+      input.addEventListener('blur', handler);
+      // format CPF visually but don't validate on load
+      input.value = formatCpfInput(input.value);
+    });
+  }
+
+  const enableCpfValidation = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
+  if (enableCpfValidation) {
+    document.querySelectorAll('input[data-cpf]').forEach((input) => {
+      const field = resolveField(input);
+      const required = input.hasAttribute('data-required');
+      const handler = () => {
+        input.value = formatCpfInput(input.value);
+        const digits = normalizeCpf(input.value);
+        const isValid = !digits || isValidCpf(digits);
+        const state = getFieldState({ required, value: digits ? input.value : '', isValid });
+        applyState(input, field, state);
+      };
+      input.addEventListener('input', handler);
+      input.addEventListener('blur', () => {
+        handler();
+        const digits = normalizeCpf(input.value);
+        if (input.value && (!digits || !isValidCpf(digits)))
+          setFieldHint(field, 'CPF inv\u00e1lido');
+        else clearFieldHint(field);
+      });
+      handler();
+    });
+  }
+
+  // helper to prevent actions when there are invalid fields
+  function canProceed() {
+    const invalids = collectInvalidFields(document);
+    if (!invalids || invalids.length === 0) return true;
+    setStatus(`${invalids.length} campo(s) inv\u00e1lido(s). Corrija antes de prosseguir.`, true);
+    showToast('Existem campos inv\u00e1lidos \u2014 corrija antes de prosseguir');
+    // also populate debug area if present
+    const invalidEl = document.getElementById('debug-invalid');
+    if (invalidEl) invalidEl.value = invalids.join('\n');
+    return false;
+  }
+
+  function updateActionButtons() {
+    const invalids = collectInvalidFields(document);
+    const disabled = !!(invalids && invalids.length > 0);
+    const btnJson = document.getElementById('btn-json');
+    if (btnJson) btnJson.disabled = disabled;
+    const btnXml = document.getElementById('btn-xml');
+    if (btnXml) btnXml.disabled = disabled;
+    const btnPrint = document.getElementById('btn-print');
+    if (btnPrint) btnPrint.disabled = disabled;
+    const statusEl = document.getElementById('statusText');
+    if (statusEl && !disabled) statusEl.textContent = 'Pronto';
+
+    // show inline summary near top of form
+    let summary = document.getElementById('form-error-summary');
+    if (!summary) {
+      summary = document.createElement('div');
+      summary.id = 'form-error-summary';
+      summary.style.margin = '6px 0 0 0';
+      summary.style.padding = '6px 8px';
+      summary.style.borderRadius = '6px';
+      summary.style.background = 'transparent';
+      summary.style.border = 'none';
+      summary.style.color = '#6b7280';
+      summary.style.fontSize = '12px';
+      summary.style.opacity = '0.85';
+      const container = document.querySelector('.container');
+      if (container) container.appendChild(summary);
+    }
+    if (disabled) {
+      summary.textContent = `Campos inv\u00e1lidos: ${invalids.join(', ')}`;
+      summary.style.display = 'block';
+    } else if (summary) {
+      summary.style.display = 'none';
+    }
+    // keep an aria-live region in sync for assistive tech
+    let aria = document.getElementById('aria-live-errors');
+    if (!aria) {
+      aria = document.createElement('div');
+      aria.id = 'aria-live-errors';
+      aria.className = 'sr-only';
+      aria.setAttribute('aria-live', 'assertive');
+      aria.setAttribute('role', 'status');
+      document.body.appendChild(aria);
+    }
+    aria.textContent = disabled
+      ? `Existem ${invalids.length} campos inv\u00e1lidos: ${invalids.join(', ')}`
+      : '';
+  }
+
+  document
+    .querySelectorAll('select[data-required], textarea[data-required], input[data-required]')
+    .forEach((input) => {
+      if (
+        input.hasAttribute('data-date') ||
+        input.hasAttribute('data-time') ||
+        input.hasAttribute('data-cpf') ||
+        input.hasAttribute('data-name-validate')
+      )
+        return;
+      const field = resolveField(input);
+      const required = input.hasAttribute('data-required');
+      const handler = () => {
+        const state = getFieldState({ required, value: input.value, isValid: true });
+        applyState(input, field, state);
+      };
+      input.addEventListener('input', handler);
+      input.addEventListener('change', handler);
+      // do not run required-field handler on load to avoid marking all fields red
+    });
 }
 
 function setupNameValidation() {
-	const validator = createNameValidator();
-	const fields = document.querySelectorAll('[data-name-validate]');
-	const timers = new Map();
-
-	fields.forEach((input) => {
-		const field = resolveField(input);
-		if (field) field.classList.add('name-field');
-		let hint = field ? field.querySelector('.name-suggest') : null;
-		if (field && !hint) {
-			hint = document.createElement('button');
-			hint.type = 'button';
-			hint.className = 'name-suggest';
-			hint.textContent = 'Parece incorreto - adicionar ao dicionario?';
-			field.appendChild(hint);
-		}
-		if (hint) {
-			hint.addEventListener('click', (e) => {
-				e.preventDefault();
-				const value = input.value;
-				if (!value) return;
-				validator.repo.addException(value);
-				input.classList.remove('invalid');
-				if (field) field.classList.remove('name-suspect');
-				const t = timers.get(input);
-				if (t) clearInterval(t);
-				timers.delete(input);
-			});
-		}
-
-		const runCheck = () => {
-			const value = input.value || '';
-			const result = validator.check(value);
-			const suspect = !!result.suspicious;
-			input.classList.toggle('invalid', suspect);
-			if (field) field.classList.toggle('name-suspect', suspect);
-			if (suspect) {
-				showToast('Nome possivelmente incorreto');
-				if (!timers.has(input)) {
-					const id = setInterval(() => {
-						if (input.classList.contains('invalid')) showToast('Nome possivelmente incorreto');
-					}, 180000);
-					timers.set(input, id);
-				}
-			} else {
-				const t = timers.get(input);
-				if (t) clearInterval(t);
-				timers.delete(input);
-			}
-		};
-
-		input.addEventListener('input', () => {
-			if (nameValidationMode === 'input') runCheck();
-		});
-		input.addEventListener('blur', () => {
-			if (nameValidationMode === 'blur' || nameValidationMode === 'input') runCheck();
-		});
-	});
-
-	validator.ready.then(() => {
-		fields.forEach((input) => {
-			const field = resolveField(input);
-			if (field) field.classList.remove('name-suspect');
-			const value = input.value || '';
-			if (value) {
-				const result = validator.check(value);
-				const suspect = !!result.suspicious;
-				input.classList.toggle('invalid', suspect);
-				if (field) field.classList.toggle('name-suspect', suspect);
-			}
-		});
-	});
+  const validator = createNameValidator();
+  const fields = document.querySelectorAll('[data-name-validate]');
+  const timers = new Map();
+
+  fields.forEach((input) => {
+    const field = resolveField(input);
+    if (field) field.classList.add('name-field');
+    let hint = field ? field.querySelector('.name-suggest') : null;
+    if (field && !hint) {
+      hint = document.createElement('button');
+      hint.type = 'button';
+      hint.className = 'name-suggest';
+      hint.textContent = 'Parece incorreto - adicionar ao dicionario?';
+      field.appendChild(hint);
+    }
+    if (hint) {
+      hint.addEventListener('click', (e) => {
+        e.preventDefault();
+        const value = input.value;
+        if (!value) return;
+        validator.repo.addException(value);
+        input.classList.remove('invalid');
+        if (field) field.classList.remove('name-suspect');
+        const t = timers.get(input);
+        if (t) clearInterval(t);
+        timers.delete(input);
+      });
+    }
+
+    const runCheck = () => {
+      const value = input.value || '';
+      const result = validator.check(value);
+      const suspect = !!result.suspicious;
+      input.classList.toggle('invalid', suspect);
+      if (field) field.classList.toggle('name-suspect', suspect);
+      if (suspect) {
+        showToast('Nome possivelmente incorreto');
+        if (!timers.has(input)) {
+          const id = setInterval(() => {
+            if (input.classList.contains('invalid')) showToast('Nome possivelmente incorreto');
+          }, 180000);
+          timers.set(input, id);
+        }
+      } else {
+        const t = timers.get(input);
+        if (t) clearInterval(t);
+        timers.delete(input);
+      }
+    };
+
+    input.addEventListener('input', () => {
+      if (nameValidationMode === 'input') runCheck();
+    });
+    input.addEventListener('blur', () => {
+      if (nameValidationMode === 'blur' || nameValidationMode === 'input') runCheck();
+    });
+  });
+
+  validator.ready.then(() => {
+    fields.forEach((input) => {
+      const field = resolveField(input);
+      if (field) field.classList.remove('name-suspect');
+      const value = input.value || '';
+      if (value) {
+        const result = validator.check(value);
+        const suspect = !!result.suspicious;
+        input.classList.toggle('invalid', suspect);
+        if (field) field.classList.toggle('name-suspect', suspect);
+      }
+    });
+  });
 }
 
 function setup() {
-	document.getElementById('btn-json')?.addEventListener('click', (e) => {
-		e.preventDefault();
-		generateJson();
-	});
-	document.getElementById('btn-xml')?.addEventListener('click', (e) => {
-		e.preventDefault();
-		generateXml();
-	});
-	document.getElementById('btn-print')?.addEventListener('click', (e) => {
-		e.preventDefault();
-		openPrintPreview();
-	});
-	setupValidation();
-	// popular selects dependentes (órgãos, UF título)
-	populateOrgaoAndUf();
-	setupNameValidation();
-	setupConfigPanel();
-	setupAdminPanel();
-	// drawer removed for inline layout; no setupDrawer call
-	// apply persisted drawer position and wire settings
-	applyDrawerPosition(localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right');
-	setupSettingsPanel();
-	// arrange panel according to saved preference (inline vs floating)
-	arrangePanel();
-	setupDrawerToggle();
-	setupActSelect();
-	setupPrimaryShortcut(() => document.getElementById('btn-json') || document.getElementById('btn-xml'));
-	setupTogglePanels();
-	setupLiveOutputs();
-	setupFocusEmphasis();
-	// ensure action buttons reflect current validity
-	updateActionButtons();
-	document.getElementById('form-obito')?.addEventListener('input', updateActionButtons);
-	document.getElementById('form-obito')?.addEventListener('change', updateActionButtons);
+  document.getElementById('btn-json')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    generateJson();
+  });
+  document.getElementById('btn-xml')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    generateXml();
+  });
+  document.getElementById('btn-print')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    openPrintPreview();
+  });
+  setupValidation();
+  // popular selects dependentes (órgãos, UF título)
+  populateOrgaoAndUf();
+  setupNameValidation();
+  setupConfigPanel();
+  setupAdminPanel();
+  // drawer removed for inline layout; no setupDrawer call
+  // apply persisted drawer position and wire settings
+  applyDrawerPosition(localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right');
+  setupSettingsPanel();
+  // arrange panel according to saved preference (inline vs floating)
+  arrangePanel();
+  setupDrawerToggle();
+  setupActSelect();
+  setupPrimaryShortcut(
+    () => document.getElementById('btn-json') || document.getElementById('btn-xml'),
+  );
+  setupTogglePanels();
+  setupLiveOutputs();
+  setupFocusEmphasis();
+  // ensure action buttons reflect current validity
+  updateActionButtons();
+  document.getElementById('form-obito')?.addEventListener('input', updateActionButtons);
+  document.getElementById('form-obito')?.addEventListener('change', updateActionButtons);
 }
 
 setup();
diff --git a/segundas-vias/src/app/mapperHtmlToJson.js b/segundas-vias/src/app/mapperHtmlToJson.js
index ee6418e..6114457 100644
--- a/segundas-vias/src/app/mapperHtmlToJson.js
+++ b/segundas-vias/src/app/mapperHtmlToJson.js
@@ -4,20 +4,20 @@ import { normalizeCpf, isValidCpf, formatCpf } from '../shared/validators/cpf.js
 
 function getInputValue(name, root = document) {
   const el = root.querySelector(`[name="${name}"]`);
-  if (!el) return "";
-  if (el.tagName === "TEXTAREA") return el.value || "";
-  return el.value || "";
+  if (!el) return '';
+  if (el.tagName === 'TEXTAREA') return el.value || '';
+  return el.value || '';
 }
 function getSelectValue(name, root = document) {
   const el = root.querySelector(`select[name="${name}"]`);
-  if (!el) return "";
-  return el.value || "";
+  if (!el) return '';
+  return el.value || '';
 }
 function getSelectText(name, root = document) {
   const el = root.querySelector(`select[name="${name}"]`);
-  if (!el) return "";
+  if (!el) return '';
   const opt = el.selectedOptions && el.selectedOptions[0];
-  return opt ? opt.textContent.trim() : "";
+  return opt ? opt.textContent.trim() : '';
 }
 function getCheckboxValue(name, root = document) {
   const el = root.querySelector(`[name="${name}"]`);
@@ -26,143 +26,146 @@ function getCheckboxValue(name, root = document) {
 }
 
 function normalizeText(raw) {
-  return String(raw || "").replace(/\u00A0/g, " ").replace(/\s+/g, " ").trim();
+  return String(raw || '')
+    .replace(/\u00A0/g, ' ')
+    .replace(/\s+/g, ' ')
+    .trim();
 }
 
 function mapRegimeBens(value) {
   const map = {
-    L: "Separacao legal de bens",
-    C: "Separacao convencional de bens",
-    B: "Comunhao de bens",
-    P: "Comunhao parcial de bens",
-    U: "Comunhao universal de bens",
-    A: "Participacao final de bens nos aquestos",
-    I: "Ignorado"
+    L: 'Separacao legal de bens',
+    C: 'Separacao convencional de bens',
+    B: 'Comunhao de bens',
+    P: 'Comunhao parcial de bens',
+    U: 'Comunhao universal de bens',
+    A: 'Participacao final de bens nos aquestos',
+    I: 'Ignorado',
   };
-  return map[value] || "";
+  return map[value] || '';
 }
 function mapEstadoCivil(value) {
   const map = {
-    SJ: "Separado(a) judicialmente",
-    DE: "Desquitado(a)",
-    DI: "Divorciado(a)",
-    SO: "Solteiro(a)",
-    VI: "Viuvo(a)",
-    IG: "Ignorado"
+    SJ: 'Separado(a) judicialmente',
+    DE: 'Desquitado(a)',
+    DI: 'Divorciado(a)',
+    SO: 'Solteiro(a)',
+    VI: 'Viuvo(a)',
+    IG: 'Ignorado',
   };
-  return map[value] || "";
+  return map[value] || '';
 }
 function buildGenitores(pai, mae) {
   const p = normalizeText(pai);
   const m = normalizeText(mae);
-  if (!p && !m) return "";
+  if (!p && !m) return '';
   return `${p};${m}`;
 }
 function normalizeCpfFields(raw) {
   const digits = normalizeCpf(raw);
-  if (!digits) return { cpf: "", cpf_sem_inscricao: true };
-  if (!isValidCpf(digits)) return { cpf: "", cpf_sem_inscricao: true };
+  if (!digits) return { cpf: '', cpf_sem_inscricao: true };
+  if (!isValidCpf(digits)) return { cpf: '', cpf_sem_inscricao: true };
   return { cpf: formatCpf(digits), cpf_sem_inscricao: false };
 }
 function extractSelo(text) {
-  const obs = String(text || "");
+  const obs = String(text || '');
   const seloMatch = /SELO[^0-9]*([0-9]+)/i.exec(obs);
   const codMatch = /(COD|CODIGO|C[OÓ]DIGO)[^0-9]*([0-9]+)/i.exec(obs);
   return {
-    selo: seloMatch ? seloMatch[1] : "",
-    cod_selo: codMatch ? codMatch[2] : ""
+    selo: seloMatch ? seloMatch[1] : '',
+    cod_selo: codMatch ? codMatch[2] : '',
   };
 }
 function buildRgItem(numero, data, orgao) {
   const doc = normalizeText(numero);
   if (!doc) return null;
   return {
-    tipo: "RG",
+    tipo: 'RG',
     documento: doc,
     orgao_emissor: normalizeText(orgao),
-    uf_emissao: "IG",
-    data_emissao: normalizeDate(data)
+    uf_emissao: 'IG',
+    data_emissao: normalizeDate(data),
   };
 }
 
 export function mapperHtmlToJson(root = document) {
   const cnsInput = root.querySelector('input[data-bind="certidao.cartorio_cns"]');
   if (cnsInput) {
-    cnsInput.value = "163659";
+    cnsInput.value = '163659';
     cnsInput.readOnly = true;
   }
-  const observacao = getInputValue("observacao", root);
+  const observacao = getInputValue('observacao', root);
   const seloInfo = extractSelo(observacao);
-  const seloInput = normalizeText(getInputValue("certidao.selo", root));
-  const codInput = normalizeText(getInputValue("certidao.cod_selo", root));
-  const plataformaId = normalizeText(getInputValue("certidao.plataformaId", root));
-  const tipoCertidao = normalizeText(getSelectValue("certidao.tipo_certidao", root));
-  const modalidade = normalizeText(getSelectValue("certidao.modalidade", root));
-  const cartorioCns = "163659";
-  const cotaEmolumentos = normalizeText(getInputValue("certidao.cota_emolumentos", root));
-  const transcricao = getCheckboxValue("certidao.transcricao", root);
-  const noivoCpf = normalizeCpfFields(getInputValue("CPFNoivo", root));
-  const noivaCpf = normalizeCpfFields(getInputValue("CPFNoiva", root));
+  const seloInput = normalizeText(getInputValue('certidao.selo', root));
+  const codInput = normalizeText(getInputValue('certidao.cod_selo', root));
+  const plataformaId = normalizeText(getInputValue('certidao.plataformaId', root));
+  const tipoCertidao = normalizeText(getSelectValue('certidao.tipo_certidao', root));
+  const modalidade = normalizeText(getSelectValue('certidao.modalidade', root));
+  const cartorioCns = '163659';
+  const cotaEmolumentos = normalizeText(getInputValue('certidao.cota_emolumentos', root));
+  const transcricao = getCheckboxValue('certidao.transcricao', root);
+  const noivoCpf = normalizeCpfFields(getInputValue('CPFNoivo', root));
+  const noivaCpf = normalizeCpfFields(getInputValue('CPFNoiva', root));
   const noivoRg = buildRgItem(
-    getInputValue("numeroRGNoivo", root),
-    getInputValue("dataExpedicaoRGNoivo", root),
-    getSelectText("idOrgaoExpedidorRGNoivo", root)
+    getInputValue('numeroRGNoivo', root),
+    getInputValue('dataExpedicaoRGNoivo', root),
+    getSelectText('idOrgaoExpedidorRGNoivo', root),
   );
   const noivaRg = buildRgItem(
-    getInputValue("numeroRGNoiva", root),
-    getInputValue("dataExpedicaoRGNoiva", root),
-    getSelectText("idOrgaoExpedidorRGNoiva", root)
+    getInputValue('numeroRGNoiva', root),
+    getInputValue('dataExpedicaoRGNoiva', root),
+    getSelectText('idOrgaoExpedidorRGNoiva', root),
   );
   const conjuges = [
     {
-      nome_atual_habilitacao: normalizeText(getInputValue("nomeSolteiro", root)),
+      nome_atual_habilitacao: normalizeText(getInputValue('nomeSolteiro', root)),
       cpf_sem_inscricao: noivoCpf.cpf_sem_inscricao,
       cpf: noivoCpf.cpf,
-      novo_nome: normalizeText(getInputValue("nomeSolteiro", root)),
-      nome_apos_casamento: normalizeText(getInputValue("nomeCasado", root)),
-      data_nascimento: normalizeDate(getInputValue("dataNascimentoNoivo", root)),
-      nacionalidade: normalizeText(getInputValue("nacionalidadeNoivo", root)),
-      estado_civil: mapEstadoCivil(getSelectValue("estadoCivilNoivo", root)),
-      municipio_naturalidade: normalizeText(getInputValue("cidadeNascimentoNoivo", root)),
-      uf_naturalidade: (function(v){
-        const val = normalizeText(getInputValue("ufNascimentoNoivo", root));
-        return val || "IG";
+      novo_nome: normalizeText(getInputValue('nomeSolteiro', root)),
+      nome_apos_casamento: normalizeText(getInputValue('nomeCasado', root)),
+      data_nascimento: normalizeDate(getInputValue('dataNascimentoNoivo', root)),
+      nacionalidade: normalizeText(getInputValue('nacionalidadeNoivo', root)),
+      estado_civil: mapEstadoCivil(getSelectValue('estadoCivilNoivo', root)),
+      municipio_naturalidade: normalizeText(getInputValue('cidadeNascimentoNoivo', root)),
+      uf_naturalidade: (function (v) {
+        const val = normalizeText(getInputValue('ufNascimentoNoivo', root));
+        return val || 'IG';
       })(),
       genitores: buildGenitores(
-        getInputValue("nomePaiNoivo", root),
-        getInputValue("nomeMaeNoivo", root)
-      )
+        getInputValue('nomePaiNoivo', root),
+        getInputValue('nomeMaeNoivo', root),
+      ),
     },
     {
-      nome_atual_habilitacao: normalizeText(getInputValue("nomeSolteira", root)),
+      nome_atual_habilitacao: normalizeText(getInputValue('nomeSolteira', root)),
       cpf_sem_inscricao: noivaCpf.cpf_sem_inscricao,
       cpf: noivaCpf.cpf,
-      novo_nome: normalizeText(getInputValue("nomeSolteira", root)),
-      nome_apos_casamento: normalizeText(getInputValue("nomeCasada", root)),
-      data_nascimento: normalizeDate(getInputValue("dataNascimentoNoiva", root)),
-      nacionalidade: normalizeText(getInputValue("nacionalidadeNoiva", root)),
-      estado_civil: mapEstadoCivil(getSelectValue("estadoCivilNoiva", root)),
-      municipio_naturalidade: normalizeText(getInputValue("cidadeNascimentoNoiva", root)),
-      uf_naturalidade: (function(v){
-        const val = normalizeText(getInputValue("ufNascimentoNoiva", root));
-        return val || "IG";
+      novo_nome: normalizeText(getInputValue('nomeSolteira', root)),
+      nome_apos_casamento: normalizeText(getInputValue('nomeCasada', root)),
+      data_nascimento: normalizeDate(getInputValue('dataNascimentoNoiva', root)),
+      nacionalidade: normalizeText(getInputValue('nacionalidadeNoiva', root)),
+      estado_civil: mapEstadoCivil(getSelectValue('estadoCivilNoiva', root)),
+      municipio_naturalidade: normalizeText(getInputValue('cidadeNascimentoNoiva', root)),
+      uf_naturalidade: (function (v) {
+        const val = normalizeText(getInputValue('ufNascimentoNoiva', root));
+        return val || 'IG';
       })(),
       genitores: buildGenitores(
-        getInputValue("nomePaiNoiva", root),
-        getInputValue("nomeMaeNoiva", root)
-      )
-    }
+        getInputValue('nomePaiNoiva', root),
+        getInputValue('nomeMaeNoiva', root),
+      ),
+    },
   ];
   const anotacoes = {
     primeiro_conjuge: [],
-    segundo_conjuge: []
+    segundo_conjuge: [],
   };
   if (noivoRg) anotacoes.primeiro_conjuge.push(noivoRg);
   if (noivaRg) anotacoes.segundo_conjuge.push(noivaRg);
   return {
     certidao: {
       plataformaId,
-      tipo_registro: "casamento",
+      tipo_registro: 'casamento',
       tipo_certidao: tipoCertidao,
       transcricao,
       cartorio_cns: cartorioCns,
@@ -171,17 +174,17 @@ export function mapperHtmlToJson(root = document) {
       cod_selo: codInput || seloInfo.cod_selo,
       modalidade,
       cota_emolumentos: cotaEmolumentos,
-      cota_emolumentos_isento: false
+      cota_emolumentos_isento: false,
     },
     registro: {
       conjuges,
-      matricula: "",
-      data_celebracao: normalizeDate(getInputValue("dataCasamento", root)),
-      regime_bens: mapRegimeBens(getSelectValue("regimeBens", root)),
-      data_registro: normalizeDate(getInputValue("dataTermo", root)),
+      matricula: '',
+      data_celebracao: normalizeDate(getInputValue('dataCasamento', root)),
+      regime_bens: mapRegimeBens(getSelectValue('regimeBens', root)),
+      data_registro: normalizeDate(getInputValue('dataTermo', root)),
       averbacao_anotacao: normalizeText(observacao),
-      anotacoes_cadastro: anotacoes
-    }
+      anotacoes_cadastro: anotacoes,
+    },
   };
 }
 
diff --git a/segundas-vias/src/core/contracts/CertidaoCasamento.ts b/segundas-vias/src/core/contracts/CertidaoCasamento.ts
index 0b19c1d..4cd13ec 100644
--- a/segundas-vias/src/core/contracts/CertidaoCasamento.ts
+++ b/segundas-vias/src/core/contracts/CertidaoCasamento.ts
@@ -1,4 +1,4 @@
-import { CertidaoBase } from "./CertidaoBase";
+import { CertidaoBase } from './CertidaoBase';
 
 export interface Conjuge {
   nome_atual_habilitacao: string;
diff --git a/segundas-vias/src/core/contracts/CertidaoNascimento.ts b/segundas-vias/src/core/contracts/CertidaoNascimento.ts
index 18d7c38..54f4496 100644
--- a/segundas-vias/src/core/contracts/CertidaoNascimento.ts
+++ b/segundas-vias/src/core/contracts/CertidaoNascimento.ts
@@ -1,4 +1,4 @@
-import { CertidaoBase } from "./CertidaoBase";
+import { CertidaoBase } from './CertidaoBase';
 
 export interface Filiacao {
   nome: string;
diff --git a/segundas-vias/src/core/contracts/CertidaoObito.ts b/segundas-vias/src/core/contracts/CertidaoObito.ts
index 2e6e65e..389eec7 100644
--- a/segundas-vias/src/core/contracts/CertidaoObito.ts
+++ b/segundas-vias/src/core/contracts/CertidaoObito.ts
@@ -1,4 +1,4 @@
-import { CertidaoBase } from "./CertidaoBase";
+import { CertidaoBase } from './CertidaoBase';
 
 export interface AnotacaoCadastro {
   tipo: string;
@@ -22,7 +22,12 @@ export interface RegistroObito {
   municipio_obito: string;
   uf_obito: string;
   sexo: string;
-  filiacao: Array<{ nome: string; municipio_nascimento: string; uf_nascimento: string; avos: string }>;
+  filiacao: Array<{
+    nome: string;
+    municipio_nascimento: string;
+    uf_nascimento: string;
+    avos: string;
+  }>;
   averbacao_anotacao: string;
   anotacoes_cadastro: AnotacaoCadastro[];
 }
diff --git a/segundas-vias/src/core/mappers/domainToJsonCasamento.ts b/segundas-vias/src/core/mappers/domainToJsonCasamento.ts
index 6843962..5521531 100644
--- a/segundas-vias/src/core/mappers/domainToJsonCasamento.ts
+++ b/segundas-vias/src/core/mappers/domainToJsonCasamento.ts
@@ -1,9 +1,9 @@
-import { CasamentoDomainSchema } from "../schemas/CasamentoDomainSchema";
+import { CasamentoDomainSchema } from '../schemas/CasamentoDomainSchema';
 
 export function domainToJsonCasamento(domain: unknown): string {
   const parsed = CasamentoDomainSchema.safeParse(domain);
   if (!parsed.success) {
-    throw new Error("Domínio de casamento inválido para exportação");
+    throw new Error('Domínio de casamento inválido para exportação');
   }
 
   return JSON.stringify(parsed.data, null, 2);
diff --git a/segundas-vias/src/core/mappers/domainToJsonNascimento.ts b/segundas-vias/src/core/mappers/domainToJsonNascimento.ts
index 93efc5b..8039adf 100644
--- a/segundas-vias/src/core/mappers/domainToJsonNascimento.ts
+++ b/segundas-vias/src/core/mappers/domainToJsonNascimento.ts
@@ -1,9 +1,9 @@
-import { NascimentoDomainSchema } from "../schemas/NascimentoDomainSchema";
+import { NascimentoDomainSchema } from '../schemas/NascimentoDomainSchema';
 
 export function domainToJsonNascimento(domain: unknown): string {
   const parsed = NascimentoDomainSchema.safeParse(domain);
   if (!parsed.success) {
-    throw new Error("Domínio de nascimento inválido para exportação");
+    throw new Error('Domínio de nascimento inválido para exportação');
   }
 
   return JSON.stringify(parsed.data, null, 2);
diff --git a/segundas-vias/src/core/mappers/domainToJsonObito.ts b/segundas-vias/src/core/mappers/domainToJsonObito.ts
index 4dfc4c7..abc022a 100644
--- a/segundas-vias/src/core/mappers/domainToJsonObito.ts
+++ b/segundas-vias/src/core/mappers/domainToJsonObito.ts
@@ -1,9 +1,9 @@
-import { ObitoDomainSchema } from "../schemas/ObitoDomainSchema";
+import { ObitoDomainSchema } from '../schemas/ObitoDomainSchema';
 
 export function domainToJsonObito(domain: unknown): string {
   const parsed = ObitoDomainSchema.safeParse(domain);
   if (!parsed.success) {
-    throw new Error("Objeto de domínio inválido para exportação");
+    throw new Error('Objeto de domínio inválido para exportação');
   }
 
   return JSON.stringify(parsed.data, null, 2);
diff --git a/segundas-vias/src/core/mappers/mapFormToDomainCasamento.ts b/segundas-vias/src/core/mappers/mapFormToDomainCasamento.ts
index d8ca847..8be07c5 100644
--- a/segundas-vias/src/core/mappers/mapFormToDomainCasamento.ts
+++ b/segundas-vias/src/core/mappers/mapFormToDomainCasamento.ts
@@ -1,15 +1,15 @@
-import { CONTRACT_VERSION } from "../version/contractVersion";
-import { CasamentoFormInputSchema } from "../schemas/CasamentoFormInputSchema";
-import { CasamentoDomainSchema } from "../schemas/CasamentoDomainSchema";
+import { CONTRACT_VERSION } from '../version/contractVersion';
+import { CasamentoFormInputSchema } from '../schemas/CasamentoFormInputSchema';
+import { CasamentoDomainSchema } from '../schemas/CasamentoDomainSchema';
 
 type MapResult<T> =
   | { ok: true; domain: T }
-  | { ok: false; stage: "form" | "domain"; errors: unknown };
+  | { ok: false; stage: 'form' | 'domain'; errors: unknown };
 
 export function mapFormToDomainCasamento(formInput: unknown): MapResult<unknown> {
   const formParsed = CasamentoFormInputSchema.safeParse(formInput);
   if (!formParsed.success) {
-    return { ok: false, stage: "form", errors: formParsed.error };
+    return { ok: false, stage: 'form', errors: formParsed.error };
   }
 
   const input = formParsed.data;
@@ -17,12 +17,12 @@ export function mapFormToDomainCasamento(formInput: unknown): MapResult<unknown>
   const domainCandidate = {
     version: CONTRACT_VERSION,
     certidao: input.certidao,
-    registro: input.registro
+    registro: input.registro,
   };
 
   const domainParsed = CasamentoDomainSchema.safeParse(domainCandidate);
   if (!domainParsed.success) {
-    return { ok: false, stage: "domain", errors: domainParsed.error };
+    return { ok: false, stage: 'domain', errors: domainParsed.error };
   }
 
   return { ok: true, domain: domainParsed.data };
diff --git a/segundas-vias/src/core/mappers/mapFormToDomainNascimento.ts b/segundas-vias/src/core/mappers/mapFormToDomainNascimento.ts
index 39e85bb..5fe7204 100644
--- a/segundas-vias/src/core/mappers/mapFormToDomainNascimento.ts
+++ b/segundas-vias/src/core/mappers/mapFormToDomainNascimento.ts
@@ -1,8 +1,8 @@
-import { CONTRACT_VERSION } from "../version/contractVersion";
-import { NascimentoFormInputSchema } from "../schemas/NascimentoFormInputSchema";
-import { NascimentoDomainSchema } from "../schemas/NascimentoDomainSchema";
+import { CONTRACT_VERSION } from '../version/contractVersion';
+import { NascimentoFormInputSchema } from '../schemas/NascimentoFormInputSchema';
+import { NascimentoDomainSchema } from '../schemas/NascimentoDomainSchema';
 
-const CERTIDAO_CNS_FIXO = "163659";
+const CERTIDAO_CNS_FIXO = '163659';
 
 export function mapFormToDomainNascimento(formInput: unknown) {
   const formParsed = NascimentoFormInputSchema.safeParse(formInput);
@@ -16,11 +16,11 @@ export function mapFormToDomainNascimento(formInput: unknown) {
     version: CONTRACT_VERSION,
     certidao: {
       ...input.certidao,
-      cartorio_cns: CERTIDAO_CNS_FIXO
+      cartorio_cns: CERTIDAO_CNS_FIXO,
     },
     registro: {
-      ...input.registro
-    }
+      ...input.registro,
+    },
   };
 
   const domainParsed = NascimentoDomainSchema.safeParse(domainCandidate);
diff --git a/segundas-vias/src/core/mappers/mapFormToDomainObito.ts b/segundas-vias/src/core/mappers/mapFormToDomainObito.ts
index e123cb5..31ac767 100644
--- a/segundas-vias/src/core/mappers/mapFormToDomainObito.ts
+++ b/segundas-vias/src/core/mappers/mapFormToDomainObito.ts
@@ -1,6 +1,6 @@
-import { CONTRACT_VERSION } from "../version/contractVersion";
-import { ObitoFormInputSchema } from "../schemas/ObitoFormInputSchema";
-import { ObitoDomainSchema } from "../schemas/ObitoDomainSchema";
+import { CONTRACT_VERSION } from '../version/contractVersion';
+import { ObitoFormInputSchema } from '../schemas/ObitoFormInputSchema';
+import { ObitoDomainSchema } from '../schemas/ObitoDomainSchema';
 
 export function mapFormToDomainObito(formInput: unknown) {
   const formParsed = ObitoFormInputSchema.safeParse(formInput);
@@ -13,7 +13,7 @@ export function mapFormToDomainObito(formInput: unknown) {
   const domainCandidate = {
     version: CONTRACT_VERSION,
     certidao: { ...input.certidao },
-    registro: { ...input.registro }
+    registro: { ...input.registro },
   };
 
   const domainParsed = ObitoDomainSchema.safeParse(domainCandidate);
diff --git a/segundas-vias/src/core/schemas/CasamentoDomainSchema.ts b/segundas-vias/src/core/schemas/CasamentoDomainSchema.ts
index e96e5ad..c5b28b5 100644
--- a/segundas-vias/src/core/schemas/CasamentoDomainSchema.ts
+++ b/segundas-vias/src/core/schemas/CasamentoDomainSchema.ts
@@ -1,4 +1,4 @@
-import { z } from "zod";
+import { z } from 'zod';
 
 export const CasamentoDomainSchema = z.object({
   version: z.string(),
@@ -12,41 +12,47 @@ export const CasamentoDomainSchema = z.object({
     cod_selo: z.string(),
     modalidade: z.string(),
     cota_emolumentos: z.string(),
-    cota_emolumentos_isento: z.boolean()
+    cota_emolumentos_isento: z.boolean(),
   }),
   registro: z.object({
-    conjuges: z.array(z.object({
-      nome_atual_habilitacao: z.string(),
-      cpf_sem_inscricao: z.boolean(),
-      cpf: z.string(),
-      novo_nome: z.string(),
-      data_nascimento: z.string(),
-      nacionalidade: z.string(),
-      estado_civil: z.string(),
-      municipio_naturalidade: z.string(),
-      uf_naturalidade: z.string(),
-      genitores: z.string()
-    })),
+    conjuges: z.array(
+      z.object({
+        nome_atual_habilitacao: z.string(),
+        cpf_sem_inscricao: z.boolean(),
+        cpf: z.string(),
+        novo_nome: z.string(),
+        data_nascimento: z.string(),
+        nacionalidade: z.string(),
+        estado_civil: z.string(),
+        municipio_naturalidade: z.string(),
+        uf_naturalidade: z.string(),
+        genitores: z.string(),
+      }),
+    ),
     matricula: z.string(),
     data_celebracao: z.string(),
     regime_bens: z.string(),
     data_registro: z.string(),
     averbacao_anotacao: z.string(),
     anotacoes_cadastro: z.object({
-      primeiro_conjuge: z.array(z.object({
-        tipo: z.string(),
-        documento: z.string(),
-        orgao_emissor: z.string(),
-        uf_emissao: z.string(),
-        data_emissao: z.string()
-      })),
-      segundo_conjuge: z.array(z.object({
-        tipo: z.string(),
-        documento: z.string(),
-        orgao_emissor: z.string(),
-        uf_emissao: z.string(),
-        data_emissao: z.string()
-      }))
-    })
-  })
+      primeiro_conjuge: z.array(
+        z.object({
+          tipo: z.string(),
+          documento: z.string(),
+          orgao_emissor: z.string(),
+          uf_emissao: z.string(),
+          data_emissao: z.string(),
+        }),
+      ),
+      segundo_conjuge: z.array(
+        z.object({
+          tipo: z.string(),
+          documento: z.string(),
+          orgao_emissor: z.string(),
+          uf_emissao: z.string(),
+          data_emissao: z.string(),
+        }),
+      ),
+    }),
+  }),
 });
diff --git a/segundas-vias/src/core/schemas/CasamentoFormInputSchema.ts b/segundas-vias/src/core/schemas/CasamentoFormInputSchema.ts
index 21329d8..d72b7a8 100644
--- a/segundas-vias/src/core/schemas/CasamentoFormInputSchema.ts
+++ b/segundas-vias/src/core/schemas/CasamentoFormInputSchema.ts
@@ -1,4 +1,4 @@
-import { z } from "zod";
+import { z } from 'zod';
 
 export const CasamentoFormInputSchema = z.object({
   certidao: z.object({
@@ -11,41 +11,47 @@ export const CasamentoFormInputSchema = z.object({
     cod_selo: z.string(),
     modalidade: z.string(),
     cota_emolumentos: z.string(),
-    cota_emolumentos_isento: z.boolean()
+    cota_emolumentos_isento: z.boolean(),
   }),
   registro: z.object({
-    conjuges: z.array(z.object({
-      nome_atual_habilitacao: z.string(),
-      cpf_sem_inscricao: z.boolean(),
-      cpf: z.string(),
-      novo_nome: z.string(),
-      data_nascimento: z.string(),
-      nacionalidade: z.string(),
-      estado_civil: z.string(),
-      municipio_naturalidade: z.string(),
-      uf_naturalidade: z.string(),
-      genitores: z.string()
-    })),
+    conjuges: z.array(
+      z.object({
+        nome_atual_habilitacao: z.string(),
+        cpf_sem_inscricao: z.boolean(),
+        cpf: z.string(),
+        novo_nome: z.string(),
+        data_nascimento: z.string(),
+        nacionalidade: z.string(),
+        estado_civil: z.string(),
+        municipio_naturalidade: z.string(),
+        uf_naturalidade: z.string(),
+        genitores: z.string(),
+      }),
+    ),
     matricula: z.string(),
     data_celebracao: z.string(),
     regime_bens: z.string(),
     data_registro: z.string(),
     averbacao_anotacao: z.string(),
     anotacoes_cadastro: z.object({
-      primeiro_conjuge: z.array(z.object({
-        tipo: z.string(),
-        documento: z.string(),
-        orgao_emissor: z.string(),
-        uf_emissao: z.string(),
-        data_emissao: z.string()
-      })),
-      segundo_conjuge: z.array(z.object({
-        tipo: z.string(),
-        documento: z.string(),
-        orgao_emissor: z.string(),
-        uf_emissao: z.string(),
-        data_emissao: z.string()
-      }))
-    })
-  })
+      primeiro_conjuge: z.array(
+        z.object({
+          tipo: z.string(),
+          documento: z.string(),
+          orgao_emissor: z.string(),
+          uf_emissao: z.string(),
+          data_emissao: z.string(),
+        }),
+      ),
+      segundo_conjuge: z.array(
+        z.object({
+          tipo: z.string(),
+          documento: z.string(),
+          orgao_emissor: z.string(),
+          uf_emissao: z.string(),
+          data_emissao: z.string(),
+        }),
+      ),
+    }),
+  }),
 });
diff --git a/segundas-vias/src/core/schemas/NascimentoDomainSchema.ts b/segundas-vias/src/core/schemas/NascimentoDomainSchema.ts
index b95b2f6..84f9140 100644
--- a/segundas-vias/src/core/schemas/NascimentoDomainSchema.ts
+++ b/segundas-vias/src/core/schemas/NascimentoDomainSchema.ts
@@ -1,4 +1,4 @@
-import { z } from "zod";
+import { z } from 'zod';
 
 export const NascimentoDomainSchema = z.object({
   version: z.string(),
@@ -12,7 +12,7 @@ export const NascimentoDomainSchema = z.object({
     cod_selo: z.string(),
     modalidade: z.string(),
     cota_emolumentos: z.string(),
-    cota_emolumentos_isento: z.boolean()
+    cota_emolumentos_isento: z.boolean(),
   }),
   registro: z.object({
     nome_completo: z.string(),
@@ -33,22 +33,26 @@ export const NascimentoDomainSchema = z.object({
     sexo_outros: z.string().optional(),
     gemeos: z.object({
       quantidade: z.string(),
-      irmao: z.array(z.object({ nome: z.string(), matricula: z.string() }))
+      irmao: z.array(z.object({ nome: z.string(), matricula: z.string() })),
     }),
-    filiacao: z.array(z.object({
-      nome: z.string(),
-      municipio_nascimento: z.string(),
-      uf_nascimento: z.string(),
-      avos: z.string()
-    })),
+    filiacao: z.array(
+      z.object({
+        nome: z.string(),
+        municipio_nascimento: z.string(),
+        uf_nascimento: z.string(),
+        avos: z.string(),
+      }),
+    ),
     numero_dnv: z.string(),
     averbacao_anotacao: z.string(),
-    anotacoes_cadastro: z.array(z.object({
-      tipo: z.string(),
-      documento: z.string(),
-      orgao_emissor: z.string(),
-      uf_emissao: z.string(),
-      data_emissao: z.string()
-    }))
-  })
+    anotacoes_cadastro: z.array(
+      z.object({
+        tipo: z.string(),
+        documento: z.string(),
+        orgao_emissor: z.string(),
+        uf_emissao: z.string(),
+        data_emissao: z.string(),
+      }),
+    ),
+  }),
 });
diff --git a/segundas-vias/src/core/schemas/NascimentoFormInputSchema.ts b/segundas-vias/src/core/schemas/NascimentoFormInputSchema.ts
index fc699c3..dacd055 100644
--- a/segundas-vias/src/core/schemas/NascimentoFormInputSchema.ts
+++ b/segundas-vias/src/core/schemas/NascimentoFormInputSchema.ts
@@ -1,4 +1,4 @@
-import { z } from "zod";
+import { z } from 'zod';
 
 export const NascimentoFormInputSchema = z.object({
   certidao: z.object({
@@ -11,7 +11,7 @@ export const NascimentoFormInputSchema = z.object({
     cod_selo: z.string(),
     modalidade: z.string(),
     cota_emolumentos: z.string(),
-    cota_emolumentos_isento: z.boolean()
+    cota_emolumentos_isento: z.boolean(),
   }),
   registro: z.object({
     nome_completo: z.string(),
@@ -32,22 +32,26 @@ export const NascimentoFormInputSchema = z.object({
     sexo_outros: z.string().optional(),
     gemeos: z.object({
       quantidade: z.string(),
-      irmao: z.array(z.object({ nome: z.string(), matricula: z.string() }))
+      irmao: z.array(z.object({ nome: z.string(), matricula: z.string() })),
     }),
-    filiacao: z.array(z.object({
-      nome: z.string(),
-      municipio_nascimento: z.string(),
-      uf_nascimento: z.string(),
-      avos: z.string()
-    })),
+    filiacao: z.array(
+      z.object({
+        nome: z.string(),
+        municipio_nascimento: z.string(),
+        uf_nascimento: z.string(),
+        avos: z.string(),
+      }),
+    ),
     numero_dnv: z.string(),
     averbacao_anotacao: z.string(),
-    anotacoes_cadastro: z.array(z.object({
-      tipo: z.string(),
-      documento: z.string(),
-      orgao_emissor: z.string(),
-      uf_emissao: z.string(),
-      data_emissao: z.string()
-    }))
-  })
+    anotacoes_cadastro: z.array(
+      z.object({
+        tipo: z.string(),
+        documento: z.string(),
+        orgao_emissor: z.string(),
+        uf_emissao: z.string(),
+        data_emissao: z.string(),
+      }),
+    ),
+  }),
 });
diff --git a/segundas-vias/src/core/schemas/ObitoDomainSchema.ts b/segundas-vias/src/core/schemas/ObitoDomainSchema.ts
index 67a31f8..4b64a7f 100644
--- a/segundas-vias/src/core/schemas/ObitoDomainSchema.ts
+++ b/segundas-vias/src/core/schemas/ObitoDomainSchema.ts
@@ -1,4 +1,4 @@
-import { z } from "zod";
+import { z } from 'zod';
 
 export const ObitoDomainSchema = z.object({
   version: z.string(),
@@ -12,7 +12,7 @@ export const ObitoDomainSchema = z.object({
     cod_selo: z.string(),
     modalidade: z.string(),
     cota_emolumentos: z.string(),
-    cota_emolumentos_isento: z.boolean()
+    cota_emolumentos_isento: z.boolean(),
   }),
   registro: z.object({
     nome_completo: z.string(),
@@ -45,20 +45,26 @@ export const ObitoDomainSchema = z.object({
     existencia_bens: z.string(),
     existencia_filhos_ignorada: z.boolean().optional(),
     existencia_filhos_opcao: z.string().optional(),
-    existencia_filhos: z.object({
-      quantidade: z.number().optional(),
-      filhos: z.array(z.union([
-        z.object({ nome: z.string(), idade: z.string(), falecido: z.boolean().optional() }),
-        z.object({ texto: z.string() })
-      ]))
-    }).optional(),
+    existencia_filhos: z
+      .object({
+        quantidade: z.number().optional(),
+        filhos: z.array(
+          z.union([
+            z.object({ nome: z.string(), idade: z.string(), falecido: z.boolean().optional() }),
+            z.object({ texto: z.string() }),
+          ]),
+        ),
+      })
+      .optional(),
     averbacao_anotacao: z.string(),
-    anotacoes_cadastro: z.array(z.object({
-      tipo: z.string(),
-      documento: z.string(),
-      orgao_emissor: z.string(),
-      uf_emissao: z.string(),
-      data_emissao: z.string()
-    }))
-  })
+    anotacoes_cadastro: z.array(
+      z.object({
+        tipo: z.string(),
+        documento: z.string(),
+        orgao_emissor: z.string(),
+        uf_emissao: z.string(),
+        data_emissao: z.string(),
+      }),
+    ),
+  }),
 });
diff --git a/segundas-vias/src/core/schemas/ObitoFormInputSchema.ts b/segundas-vias/src/core/schemas/ObitoFormInputSchema.ts
index 7ac2d36..dd451cb 100644
--- a/segundas-vias/src/core/schemas/ObitoFormInputSchema.ts
+++ b/segundas-vias/src/core/schemas/ObitoFormInputSchema.ts
@@ -1,4 +1,4 @@
-import { z } from "zod";
+import { z } from 'zod';
 
 export const ObitoFormInputSchema = z.object({
   certidao: z.object({
@@ -11,7 +11,7 @@ export const ObitoFormInputSchema = z.object({
     cod_selo: z.string(),
     modalidade: z.string(),
     cota_emolumentos: z.string(),
-    cota_emolumentos_isento: z.boolean()
+    cota_emolumentos_isento: z.boolean(),
   }),
   registro: z.object({
     nome_completo: z.string(),
@@ -44,20 +44,26 @@ export const ObitoFormInputSchema = z.object({
     existencia_bens: z.string(),
     existencia_filhos_ignorada: z.boolean().optional(),
     existencia_filhos_opcao: z.string().optional(),
-    existencia_filhos: z.object({
-      quantidade: z.number().optional(),
-      filhos: z.array(z.union([
-        z.object({ nome: z.string(), idade: z.string(), falecido: z.boolean().optional() }),
-        z.object({ texto: z.string() })
-      ]))
-    }).optional(),
+    existencia_filhos: z
+      .object({
+        quantidade: z.number().optional(),
+        filhos: z.array(
+          z.union([
+            z.object({ nome: z.string(), idade: z.string(), falecido: z.boolean().optional() }),
+            z.object({ texto: z.string() }),
+          ]),
+        ),
+      })
+      .optional(),
     averbacao_anotacao: z.string(),
-    anotacoes_cadastro: z.array(z.object({
-      tipo: z.string(),
-      documento: z.string(),
-      orgao_emissor: z.string(),
-      uf_emissao: z.string(),
-      data_emissao: z.string()
-    }))
-  })
+    anotacoes_cadastro: z.array(
+      z.object({
+        tipo: z.string(),
+        documento: z.string(),
+        orgao_emissor: z.string(),
+        uf_emissao: z.string(),
+        data_emissao: z.string(),
+      }),
+    ),
+  }),
 });
diff --git a/segundas-vias/src/core/version/contractVersion.ts b/segundas-vias/src/core/version/contractVersion.ts
index 59943f5..f60e7ed 100644
--- a/segundas-vias/src/core/version/contractVersion.ts
+++ b/segundas-vias/src/core/version/contractVersion.ts
@@ -1 +1 @@
-export const CONTRACT_VERSION = "v1";
+export const CONTRACT_VERSION = 'v1';
diff --git a/segundas-vias/src/db.ts b/segundas-vias/src/db.ts
index cb799ad..46320d9 100644
--- a/segundas-vias/src/db.ts
+++ b/segundas-vias/src/db.ts
@@ -1,7 +1,7 @@
-// @ts-nocheck
-const fs = require('fs');
-const path = require('path');
-const crypto = require('crypto');
+
+import fs from 'fs';
+import path from 'path';
+import crypto from 'crypto';
 
 const DB_VERSION = 1;
 let dbFile = '';
@@ -29,7 +29,7 @@ function ensureDb() {
     version: DB_VERSION,
     createdAt: nowIso(),
     updatedAt: nowIso(),
-    certidoes: []
+    certidoes: [],
   };
   fs.writeFileSync(dbFile, JSON.stringify(seed, null, 2), 'utf8');
 }
@@ -42,12 +42,12 @@ function readDb() {
     if (parsed && parsed.version === DB_VERSION && Array.isArray(parsed.certidoes)) {
       return parsed;
     }
-  } catch {}
+  } catch (e) { void e;}
   return {
     version: DB_VERSION,
     createdAt: nowIso(),
     updatedAt: nowIso(),
-    certidoes: []
+    certidoes: [],
   };
 }
 
@@ -60,7 +60,7 @@ function saveDraft(payload) {
   const db = readDb();
   const now = nowIso();
   const id = payload && payload.id ? String(payload.id) : '';
-  let record = id ? db.certidoes.find(r => r.id === id) : null;
+  let record = id ? db.certidoes.find((r) => r.id === id) : null;
   if (!record) {
     record = {
       id: makeId(),
@@ -70,7 +70,7 @@ function saveDraft(payload) {
       data: payload && payload.data ? payload.data : {},
       status: 'draft',
       createdAt: now,
-      updatedAt: now
+      updatedAt: now,
     };
     db.certidoes.push(record);
   } else {
@@ -96,7 +96,7 @@ function ingest(payload) {
     data: payload && payload.data ? payload.data : {},
     status: (payload && payload.status) || 'new',
     createdAt: now,
-    updatedAt: now
+    updatedAt: now,
   };
   db.certidoes.push(record);
   writeDb(db);
@@ -107,18 +107,18 @@ function list(payload) {
   const db = readDb();
   const limit = payload && payload.limit ? Number(payload.limit) : 50;
   const offset = payload && payload.offset ? Number(payload.offset) : 0;
-  return db.certidoes.slice(offset, offset + limit).map(r => ({
+  return db.certidoes.slice(offset, offset + limit).map((r) => ({
     id: r.id,
     kind: r.kind,
     status: r.status,
     createdAt: r.createdAt,
-    updatedAt: r.updatedAt
+    updatedAt: r.updatedAt,
   }));
 }
 
 function getById(id) {
   const db = readDb();
-  return db.certidoes.find(r => r.id === id) || null;
+  return db.certidoes.find((r) => r.id === id) || null;
 }
 
 function updateStatus(payload) {
@@ -126,7 +126,7 @@ function updateStatus(payload) {
   const id = payload && payload.id ? String(payload.id) : '';
   const status = payload && payload.status ? String(payload.status) : '';
   if (!id || !status) return null;
-  const record = db.certidoes.find(r => r.id === id);
+  const record = db.certidoes.find((r) => r.id === id);
   if (!record) return null;
   record.status = status;
   record.updatedAt = nowIso();
@@ -140,5 +140,5 @@ module.exports = {
   ingest,
   list,
   getById,
-  updateStatus
+  updateStatus,
 };
diff --git a/segundas-vias/src/main.ts b/segundas-vias/src/main.ts
index 51dcef3..17debfb 100644
--- a/segundas-vias/src/main.ts
+++ b/segundas-vias/src/main.ts
@@ -1,47 +1,56 @@
-// @ts-nocheck
-const path = require('path');
-const fs = require('fs');
+
+import path from 'path';
+import fs from 'fs';
 const { spawn } = require('child_process');
-const db = require('./db');
+import db from './db';
 
 function ensureElectron() {
-    const mod = require('electron');
-    const isElectronRuntime = !!(process.versions && process.versions.electron);
-    const procType = process.type || 'node';
-    console.log('[segundas-vias] electron?', typeof mod, 'versions.electron=', process.versions.electron, 'type=', procType, 'runAsNode=', process.env.ELECTRON_RUN_AS_NODE);
-    const appCandidate = mod && mod.app;
-    const hasApp = appCandidate && typeof appCandidate.getPath === 'function';
-    if (hasApp) return mod;
-
-    if (isElectronRuntime) {
-        try {
-            const mainMod = require('electron/main');
-            if (mainMod && mainMod.app) return mainMod;
-        } catch (err) {
-            console.error('[segundas-vias] falha ao carregar electron/main:', err?.message || err);
-        }
-        console.error('[segundas-vias] Electron API indisponivel no runtime Electron.');
-        process.exit(1);
-    }
-
-    const alreadyRetry = !!process.env.SEGUNDAS_ELECTRON_OK;
-    if (alreadyRetry) {
-        console.error('[segundas-vias] Electron API indisponivel mesmo apos relancar.');
-        process.exit(1);
+  import mod from 'electron';
+  const isElectronRuntime = !!(process.versions && process.versions.electron);
+  const procType = process.type || 'node';
+  console.log(
+    '[segundas-vias] electron?',
+    typeof mod,
+    'versions.electron=',
+    process.versions.electron,
+    'type=',
+    procType,
+    'runAsNode=',
+    process.env.ELECTRON_RUN_AS_NODE,
+  );
+  const appCandidate = mod && mod.app;
+  const hasApp = appCandidate && typeof appCandidate.getPath === 'function';
+  if (hasApp) return mod;
+
+  if (isElectronRuntime) {
+    try {
+      import mainMod from 'electron/main';
+      if (mainMod && mainMod.app) return mainMod;
+    } catch (err) {
+      console.error('[segundas-vias] falha ao carregar electron/main:', err?.message || err);
     }
-
-    const electronBin = typeof mod === 'string' ? mod : require('electron');
-    const env = { ...process.env, SEGUNDAS_ELECTRON_OK: '1' };
-    delete env.ELECTRON_RUN_AS_NODE;
-    const child = spawn(electronBin, process.argv.slice(1), {
-        stdio: 'inherit',
-        env
-    });
-    child.on('error', (err) => {
-        console.error('[segundas-vias] falha ao relancar Electron:', err?.message || err);
-    });
-    child.on('exit', (code) => process.exit(code || 0));
-    process.exit(0);
+    console.error('[segundas-vias] Electron API indisponivel no runtime Electron.');
+    process.exit(1);
+  }
+
+  const alreadyRetry = !!process.env.SEGUNDAS_ELECTRON_OK;
+  if (alreadyRetry) {
+    console.error('[segundas-vias] Electron API indisponivel mesmo apos relancar.');
+    process.exit(1);
+  }
+
+  const electronBin = typeof mod === 'string' ? mod : require('electron');
+  const env = { ...process.env, SEGUNDAS_ELECTRON_OK: '1' };
+  delete env.ELECTRON_RUN_AS_NODE;
+  const child = spawn(electronBin, process.argv.slice(1), {
+    stdio: 'inherit',
+    env,
+  });
+  child.on('error', (err) => {
+    console.error('[segundas-vias] falha ao relancar Electron:', err?.message || err);
+  });
+  child.on('exit', (code) => process.exit(code || 0));
+  process.exit(0);
 }
 
 const electronMod = ensureElectron();
@@ -50,100 +59,107 @@ const { app, BrowserWindow, Tray, Menu, nativeImage, ipcMain, dialog, shell } =
 
 // Identidade clara para nao conflitar com o app da maternidade
 try {
-    app.setName('2 Via');
-    if (app.setAppUserModelId) app.setAppUserModelId('com.local.2via');
-    try { process.title = '2 Via'; } catch {}
-} catch {}
+  app.setName('2 Via');
+  if (app.setAppUserModelId) app.setAppUserModelId('com.local.2via');
+  try {
+    process.title = '2 Via';
+  } catch (e) { void e;}
+} catch (e) { void e;}
 
 // ========================================
 // CONFIG SIMPLES
 // ========================================
 function getConfigFile() {
-    return path.join(app.getPath('userData'), 'segundas-vias.json');
+  return path.join(app.getPath('userData'), 'segundas-vias.json');
 }
 function readConfig() {
-    try {
-        const file = getConfigFile();
-        if (fs.existsSync(file)) {
-            return JSON.parse(fs.readFileSync(file, 'utf8') || '{}');
-        }
-    } catch (e) {
-        console.warn('Erro lendo config:', e.message);
+  try {
+    const file = getConfigFile();
+    if (fs.existsSync(file)) {
+      return JSON.parse(fs.readFileSync(file, 'utf8') || '{}');
     }
-    return {};
+  } catch (e) {
+    console.warn('Erro lendo config:', e.message);
+  }
+  return {};
 }
 function writeConfig(cfg) {
-    try { fs.writeFileSync(getConfigFile(), JSON.stringify(cfg, null, 2), 'utf8'); } catch (e) { console.warn('Erro escrevendo config:', e.message); }
+  try {
+    fs.writeFileSync(getConfigFile(), JSON.stringify(cfg, null, 2), 'utf8');
+  } catch (e) {
+    console.warn('Erro escrevendo config:', e.message);
+  }
 }
 function getOutputDir() {
-    const cfg = readConfig();
-    if (cfg.outputDir) return cfg.outputDir;
-    const fallback = path.join(app.getPath('documents'), 'SegundasVias');
-    ensureDir(fallback);
-    return fallback;
+  const cfg = readConfig();
+  if (cfg.outputDir) return cfg.outputDir;
+  const fallback = path.join(app.getPath('documents'), 'SegundasVias');
+  ensureDir(fallback);
+  return fallback;
 }
 function setOutputDir(dir) {
-    const cfg = readConfig();
-    cfg.outputDir = dir;
-    writeConfig(cfg);
+  const cfg = readConfig();
+  cfg.outputDir = dir;
+  writeConfig(cfg);
 }
 function getJsonDir() {
-    const cfg = readConfig();
-    if (cfg.jsonDir) return cfg.jsonDir;
-    const fallback = path.join(app.getPath('documents'), 'SegundasVias', 'JSON');
-    ensureDir(fallback);
-    return fallback;
+  const cfg = readConfig();
+  if (cfg.jsonDir) return cfg.jsonDir;
+  const fallback = path.join(app.getPath('documents'), 'SegundasVias', 'JSON');
+  ensureDir(fallback);
+  return fallback;
 }
 function setJsonDir(dir) {
-    const cfg = readConfig();
-    cfg.jsonDir = dir;
-    writeConfig(cfg);
+  const cfg = readConfig();
+  cfg.jsonDir = dir;
+  writeConfig(cfg);
 }
 function getXmlDir() {
-    const cfg = readConfig();
-    if (cfg.xmlDir) return cfg.xmlDir;
-    const fallback = path.join(app.getPath('documents'), 'SegundasVias', 'XML');
-    ensureDir(fallback);
-    return fallback;
+  const cfg = readConfig();
+  if (cfg.xmlDir) return cfg.xmlDir;
+  const fallback = path.join(app.getPath('documents'), 'SegundasVias', 'XML');
+  ensureDir(fallback);
+  return fallback;
 }
 function setXmlDir(dir) {
-    const cfg = readConfig();
-    cfg.xmlDir = dir;
-    writeConfig(cfg);
+  const cfg = readConfig();
+  cfg.xmlDir = dir;
+  writeConfig(cfg);
 }
 function getAlwaysOnTop() {
-    const cfg = readConfig();
-    return !!cfg.alwaysOnTop;
+  const cfg = readConfig();
+  return !!cfg.alwaysOnTop;
 }
 function setAlwaysOnTop(flag) {
-    const cfg = readConfig();
-    cfg.alwaysOnTop = !!flag;
-    writeConfig(cfg);
+  const cfg = readConfig();
+  cfg.alwaysOnTop = !!flag;
+  writeConfig(cfg);
 }
 function ensureDir(dir) {
-    if (!dir) return;
-    if (!fs.existsSync(dir)) fs.mkdirSync(dir, { recursive: true });
+  if (!dir) return;
+  if (!fs.existsSync(dir)) fs.mkdirSync(dir, { recursive: true });
 }
 
 // ========================================
 // TRAY ICON (inline png)
 // ========================================
 const TRAY_ICON = (() => {
-    const ico = path.join(process.cwd(), 'icons', 'logo.ico');
-    const icoAlt = path.join(__dirname, '..', 'icons', 'logo.ico');
-    const candidate = path.join(process.cwd(), 'icons', 'tray.png');
-    const alt = path.join(__dirname, '..', 'icons', 'tray.png');
-    const paths = [ico, icoAlt, candidate, alt];
-    for (const p of paths) {
-        try {
-            if (fs.existsSync(p)) {
-                const img = nativeImage.createFromPath(p);
-                if (!img.isEmpty()) return img;
-            }
-        } catch {}
-    }
-    const base64 = 'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABE0lEQVR4nO3XwQnCMBBA0Y8URqVE0iEcyPHff4O89ByiDubKXZOr79ouW4HGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYKDTx2gWQCMIJBCIIQQiCMEIgjBCIIwQgCMIIQgiiAEEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMCIRFgBrz5b2M6iWRtxkbSZZGlpZvWoN1qDbqvu4d3lPvId7mXvId5i7yHeZr/8fyR/7P12uwYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBl4AbA0X9WZCGl8AAAAASUVORK5CYII=';
-    return nativeImage.createFromDataURL(`data:image/png;base64,${base64}`);
+  const ico = path.join(process.cwd(), 'icons', 'logo.ico');
+  const icoAlt = path.join(__dirname, '..', 'icons', 'logo.ico');
+  const candidate = path.join(process.cwd(), 'icons', 'tray.png');
+  const alt = path.join(__dirname, '..', 'icons', 'tray.png');
+  const paths = [ico, icoAlt, candidate, alt];
+  for (const p of paths) {
+    try {
+      if (fs.existsSync(p)) {
+        const img = nativeImage.createFromPath(p);
+        if (!img.isEmpty()) return img;
+      }
+    } catch (e) { void e;}
+  }
+  const base64 =
+    'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABE0lEQVR4nO3XwQnCMBBA0Y8URqVE0iEcyPHff4O89ByiDubKXZOr79ouW4HGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYKDTx2gWQCMIJBCIIQQiCMEIgjBCIIwQgCMIIQgiiAEEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMEIgjBCIIwQiCMCIRFgBrz5b2M6iWRtxkbSZZGlpZvWoN1qDbqvu4d3lPvId7mXvId5i7yHeZr/8fyR/7P12uwYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBl4AbA0X9WZCGl8AAAAASUVORK5CYII=';
+  return nativeImage.createFromDataURL(`data:image/png;base64,${base64}`);
 })();
 
 // ========================================
@@ -156,224 +172,246 @@ let tray = null;
 // MAIN WINDOW
 // ========================================
 function createMainWindow() {
-    console.log('[segundas-vias] criando janela...');
-    const win = new BrowserWindow({
-        width: 1150,
-        height: 740,
-        minWidth: 960,
-        minHeight: 620,
-        show: false,
-        title: '2 Via',
-        alwaysOnTop: getAlwaysOnTop(),
-        webPreferences: {
-            preload: path.join(__dirname, 'preload.js'),
-            contextIsolation: true,
-            nodeIntegration: false
-        }
-    });
-
-    const uiPath = path.join(__dirname, '..', 'ui', 'pages', 'Nascimento2Via.html');
-    win.loadFile(uiPath).catch((err: any) => console.error('[segundas-vias] erro ao carregar UI:', err));
-    try { win.center(); } catch {}
-    win.on('ready-to-show', () => {
-        try { console.log('[segundas-vias] ready-to-show'); } catch (err) { console.error('[segundas-vias] ready-to-show erro', err); }
-    });
-
-    win.on('close', (e) => {
-        // manter na bandeja
-        if (!app.isQuiting) {
-            e.preventDefault();
-            win.hide();
-        }
-    });
+  console.log('[segundas-vias] criando janela...');
+  const win = new BrowserWindow({
+    width: 1150,
+    height: 740,
+    minWidth: 960,
+    minHeight: 620,
+    show: false,
+    title: '2 Via',
+    alwaysOnTop: getAlwaysOnTop(),
+    webPreferences: {
+      preload: path.join(__dirname, 'preload.js'),
+      contextIsolation: true,
+      nodeIntegration: false,
+    },
+  });
+
+  const uiPath = path.join(__dirname, '..', 'ui', 'pages', 'Nascimento2Via.html');
+  win
+    .loadFile(uiPath)
+    .catch((err: any) => console.error('[segundas-vias] erro ao carregar UI:', err));
+  try {
+    win.center();
+  } catch (e) { void e;}
+  win.on('ready-to-show', () => {
+    try {
+      console.log('[segundas-vias] ready-to-show');
+    } catch (err) {
+      console.error('[segundas-vias] ready-to-show erro', err);
+    }
+  });
+
+  win.on('close', (e) => {
+    // manter na bandeja
+    if (!app.isQuiting) {
+      e.preventDefault();
+      win.hide();
+    }
+  });
 
-    return win;
+  return win;
 }
 
 // ========================================
 // TRAY
 // ========================================
 function updateTrayMenu() {
-    if (!tray) return;
-    const alwaysOnTop = getAlwaysOnTop();
-    const menu = Menu.buildFromTemplate([
-        { label: '2 Via (painel)', enabled: false },
-        { type: 'separator' },
-        { label: 'Abrir painel', click: () => showWindow() },
-        {
-            label: `Sempre no topo: ${alwaysOnTop ? 'On' : 'Off'}`,
-            click: () => {
-                const next = !getAlwaysOnTop();
-                setAlwaysOnTop(next);
-                if (mainWindow && !mainWindow.isDestroyed()) {
-                    mainWindow.setAlwaysOnTop(next);
-                }
-                updateTrayMenu();
-            }
-        },
-        {
-            label: 'Pasta de saida',
-            click: async () => {
-                const res = await dialog.showOpenDialog({ properties: ['openDirectory', 'createDirectory'] });
-                if (!res.canceled && res.filePaths && res.filePaths[0]) {
-                    setOutputDir(res.filePaths[0]);
-                }
-            }
-        },
-        { label: 'Abrir pasta de saida', click: () => shell.openPath(getOutputDir()) },
-        { type: 'separator' },
-        { label: 'Sair', click: () => { app.isQuiting = true; app.quit(); } }
-    ]);
-    tray.setContextMenu(menu);
+  if (!tray) return;
+  const alwaysOnTop = getAlwaysOnTop();
+  const menu = Menu.buildFromTemplate([
+    { label: '2 Via (painel)', enabled: false },
+    { type: 'separator' },
+    { label: 'Abrir painel', click: () => showWindow() },
+    {
+      label: `Sempre no topo: ${alwaysOnTop ? 'On' : 'Off'}`,
+      click: () => {
+        const next = !getAlwaysOnTop();
+        setAlwaysOnTop(next);
+        if (mainWindow && !mainWindow.isDestroyed()) {
+          mainWindow.setAlwaysOnTop(next);
+        }
+        updateTrayMenu();
+      },
+    },
+    {
+      label: 'Pasta de saida',
+      click: async () => {
+        const res = await dialog.showOpenDialog({
+          properties: ['openDirectory', 'createDirectory'],
+        });
+        if (!res.canceled && res.filePaths && res.filePaths[0]) {
+          setOutputDir(res.filePaths[0]);
+        }
+      },
+    },
+    { label: 'Abrir pasta de saida', click: () => shell.openPath(getOutputDir()) },
+    { type: 'separator' },
+    {
+      label: 'Sair',
+      click: () => {
+        app.isQuiting = true;
+        app.quit();
+      },
+    },
+  ]);
+  tray.setContextMenu(menu);
 }
 
 function showWindow() {
-    if (!mainWindow || mainWindow.isDestroyed()) {
-        mainWindow = createMainWindow();
-    }
-    mainWindow.show();
-    mainWindow.focus();
+  if (!mainWindow || mainWindow.isDestroyed()) {
+    mainWindow = createMainWindow();
+  }
+  mainWindow.show();
+  mainWindow.focus();
 }
 
 // ========================================
 // IPC
 // ========================================
 ipcMain.handle('app:get-config', async () => {
-    return {
-        outputDir: getOutputDir(),
-        jsonDir: getJsonDir(),
-        xmlDir: getXmlDir(),
-        alwaysOnTop: getAlwaysOnTop()
-    };
+  return {
+    outputDir: getOutputDir(),
+    jsonDir: getJsonDir(),
+    xmlDir: getXmlDir(),
+    alwaysOnTop: getAlwaysOnTop(),
+  };
 });
 
 ipcMain.handle('app:set-output-dir', async () => {
-    const res = await dialog.showOpenDialog({ properties: ['openDirectory', 'createDirectory'] });
-    if (!res.canceled && res.filePaths && res.filePaths[0]) {
-        const dir = res.filePaths[0];
-        ensureDir(dir);
-        setOutputDir(dir);
-        return dir;
-    }
-    return getOutputDir();
+  const res = await dialog.showOpenDialog({ properties: ['openDirectory', 'createDirectory'] });
+  if (!res.canceled && res.filePaths && res.filePaths[0]) {
+    const dir = res.filePaths[0];
+    ensureDir(dir);
+    setOutputDir(dir);
+    return dir;
+  }
+  return getOutputDir();
 });
 
 ipcMain.handle('app:set-json-dir', async () => {
-    const res = await dialog.showOpenDialog({ properties: ['openDirectory', 'createDirectory'] });
-    if (!res.canceled && res.filePaths && res.filePaths[0]) {
-        const dir = res.filePaths[0];
-        ensureDir(dir);
-        setJsonDir(dir);
-        return dir;
-    }
-    return getJsonDir();
+  const res = await dialog.showOpenDialog({ properties: ['openDirectory', 'createDirectory'] });
+  if (!res.canceled && res.filePaths && res.filePaths[0]) {
+    const dir = res.filePaths[0];
+    ensureDir(dir);
+    setJsonDir(dir);
+    return dir;
+  }
+  return getJsonDir();
 });
 
 ipcMain.handle('app:set-xml-dir', async () => {
-    const res = await dialog.showOpenDialog({ properties: ['openDirectory', 'createDirectory'] });
-    if (!res.canceled && res.filePaths && res.filePaths[0]) {
-        const dir = res.filePaths[0];
-        ensureDir(dir);
-        setXmlDir(dir);
-        return dir;
-    }
-    return getXmlDir();
+  const res = await dialog.showOpenDialog({ properties: ['openDirectory', 'createDirectory'] });
+  if (!res.canceled && res.filePaths && res.filePaths[0]) {
+    const dir = res.filePaths[0];
+    ensureDir(dir);
+    setXmlDir(dir);
+    return dir;
+  }
+  return getXmlDir();
 });
 
 ipcMain.handle('app:save-file', async (_event, payload) => {
-    const outputDir = getOutputDir();
-    ensureDir(outputDir);
-    const safeName = sanitizeFilename(payload?.name || `saida-${Date.now()}.txt`);
-    const content = payload?.content || '';
-    const fullPath = path.join(outputDir, safeName);
-    fs.writeFileSync(fullPath, content, 'utf8');
-    return fullPath;
+  const outputDir = getOutputDir();
+  ensureDir(outputDir);
+  const safeName = sanitizeFilename(payload?.name || `saida-${Date.now()}.txt`);
+  const content = payload?.content || '';
+  const fullPath = path.join(outputDir, safeName);
+  fs.writeFileSync(fullPath, content, 'utf8');
+  return fullPath;
 });
 
 ipcMain.handle('app:save-json', async (_event, payload) => {
-    const outputDir = getJsonDir();
-    ensureDir(outputDir);
-    const safeName = sanitizeFilename(payload?.name || `certidao-${Date.now()}.json`);
-    const content = payload?.content || '';
-    const fullPath = path.join(outputDir, safeName);
-    fs.writeFileSync(fullPath, content, 'utf8');
-    return fullPath;
+  const outputDir = getJsonDir();
+  ensureDir(outputDir);
+  const safeName = sanitizeFilename(payload?.name || `certidao-${Date.now()}.json`);
+  const content = payload?.content || '';
+  const fullPath = path.join(outputDir, safeName);
+  fs.writeFileSync(fullPath, content, 'utf8');
+  return fullPath;
 });
 
 ipcMain.handle('app:save-xml', async (_event, payload) => {
-    const outputDir = getXmlDir();
-    ensureDir(outputDir);
-    const safeName = sanitizeFilename(payload?.name || `certidao-${Date.now()}.xml`);
-    const content = payload?.content || '';
-    const fullPath = path.join(outputDir, safeName);
-    fs.writeFileSync(fullPath, content, 'utf8');
-    return fullPath;
+  const outputDir = getXmlDir();
+  ensureDir(outputDir);
+  const safeName = sanitizeFilename(payload?.name || `certidao-${Date.now()}.xml`);
+  const content = payload?.content || '';
+  const fullPath = path.join(outputDir, safeName);
+  fs.writeFileSync(fullPath, content, 'utf8');
+  return fullPath;
 });
 
 ipcMain.handle('app:set-always-on-top', async (_event, flag) => {
-    const enabled = !!flag;
-    setAlwaysOnTop(enabled);
-    if (mainWindow && !mainWindow.isDestroyed()) {
-        mainWindow.setAlwaysOnTop(enabled);
-    }
-    updateTrayMenu();
-    return enabled;
+  const enabled = !!flag;
+  setAlwaysOnTop(enabled);
+  if (mainWindow && !mainWindow.isDestroyed()) {
+    mainWindow.setAlwaysOnTop(enabled);
+  }
+  updateTrayMenu();
+  return enabled;
 });
 
 ipcMain.handle('app:open-output-dir', async () => {
-    const dir = getOutputDir();
-    ensureDir(dir);
-    await shell.openPath(dir);
-    return dir;
+  const dir = getOutputDir();
+  ensureDir(dir);
+  await shell.openPath(dir);
+  return dir;
 });
 
 ipcMain.handle('app:open-json-dir', async () => {
-    const dir = getJsonDir();
-    ensureDir(dir);
-    await shell.openPath(dir);
-    return dir;
+  const dir = getJsonDir();
+  ensureDir(dir);
+  await shell.openPath(dir);
+  return dir;
 });
 
 ipcMain.handle('app:open-xml-dir', async () => {
-    const dir = getXmlDir();
-    ensureDir(dir);
-    await shell.openPath(dir);
-    return dir;
+  const dir = getXmlDir();
+  ensureDir(dir);
+  await shell.openPath(dir);
+  return dir;
 });
 
 // ========================================
 // DB IPC
 // ========================================
 ipcMain.handle('db:save-draft', async (_event, payload) => {
-    return db.saveDraft(payload || {});
+  return db.saveDraft(payload || {});
 });
 
 ipcMain.handle('db:ingest', async (_event, payload) => {
-    return db.ingest(payload || {});
+  return db.ingest(payload || {});
 });
 
 ipcMain.handle('db:list', async (_event, payload) => {
-    return db.list(payload || {});
+  return db.list(payload || {});
 });
 
 ipcMain.handle('db:get', async (_event, id) => {
-    return db.getById(id);
+  return db.getById(id);
 });
 
 ipcMain.handle('db:update-status', async (_event, payload) => {
-    return db.updateStatus(payload || {});
+  return db.updateStatus(payload || {});
 });
 
 function sanitizeFilename(name) {
-    return (name || '').replace(/[\\/:*?"<>|]+/g, '_').trim() || `saida-${Date.now()}.txt`;
+  return (name || '').replace(/[\\/:*?"<>|]+/g, '_').trim() || `saida-${Date.now()}.txt`;
 }
 
 // ========================================
 // APP
 // ========================================
-app.whenReady().then(() => {
+app
+  .whenReady()
+  .then(() => {
     console.log('[segundas-vias] app ready, criando tray e janela');
-    try { db.initDb(app.getPath('userData')); } catch (err) { console.warn('db init falhou', err?.message || err); }
+    try {
+      db.initDb(app.getPath('userData'));
+    } catch (err) {
+      console.warn('db init falhou', err?.message || err);
+    }
     mainWindow = createMainWindow();
     tray = new Tray(TRAY_ICON);
     tray.setToolTip('2 Via');
@@ -382,15 +420,16 @@ app.whenReady().then(() => {
     tray.on('click', () => showWindow());
     tray.on('double-click', () => showWindow());
     console.log('[segundas-vias] iniciado');
-}).catch(err => {
+  })
+  .catch((err) => {
     console.error('[segundas-vias] erro ao iniciar', err);
-});
+  });
 
 app.on('window-all-closed', (e) => {
-    // Mant??m em bandeja
-    e.preventDefault();
+  // Mant??m em bandeja
+  e.preventDefault();
 });
 
 app.on('activate', () => {
-    showWindow();
+  showWindow();
 });
diff --git a/segundas-vias/src/preload.ts b/segundas-vias/src/preload.ts
index aa8d5c3..9cbe0b4 100644
--- a/segundas-vias/src/preload.ts
+++ b/segundas-vias/src/preload.ts
@@ -1,21 +1,21 @@
-// @ts-nocheck
+
 const { contextBridge, ipcRenderer } = require('electron');
 
 contextBridge.exposeInMainWorld('api', {
-    getConfig: () => ipcRenderer.invoke('app:get-config'),
-    pickOutputDir: () => ipcRenderer.invoke('app:set-output-dir'),
-    pickJsonDir: () => ipcRenderer.invoke('app:set-json-dir'),
-    pickXmlDir: () => ipcRenderer.invoke('app:set-xml-dir'),
-    saveFile: (payload) => ipcRenderer.invoke('app:save-file', payload),
-    saveJson: (payload) => ipcRenderer.invoke('app:save-json', payload),
-    saveXml: (payload) => ipcRenderer.invoke('app:save-xml', payload),
-    setAlwaysOnTop: (flag) => ipcRenderer.invoke('app:set-always-on-top', flag),
-    openOutputDir: () => ipcRenderer.invoke('app:open-output-dir'),
-    openJsonDir: () => ipcRenderer.invoke('app:open-json-dir'),
-    openXmlDir: () => ipcRenderer.invoke('app:open-xml-dir'),
-    dbSaveDraft: (payload) => ipcRenderer.invoke('db:save-draft', payload),
-    dbIngest: (payload) => ipcRenderer.invoke('db:ingest', payload),
-    dbList: (payload) => ipcRenderer.invoke('db:list', payload),
-    dbGet: (id) => ipcRenderer.invoke('db:get', id),
-    dbUpdateStatus: (payload) => ipcRenderer.invoke('db:update-status', payload)
+  getConfig: () => ipcRenderer.invoke('app:get-config'),
+  pickOutputDir: () => ipcRenderer.invoke('app:set-output-dir'),
+  pickJsonDir: () => ipcRenderer.invoke('app:set-json-dir'),
+  pickXmlDir: () => ipcRenderer.invoke('app:set-xml-dir'),
+  saveFile: (payload) => ipcRenderer.invoke('app:save-file', payload),
+  saveJson: (payload) => ipcRenderer.invoke('app:save-json', payload),
+  saveXml: (payload) => ipcRenderer.invoke('app:save-xml', payload),
+  setAlwaysOnTop: (flag) => ipcRenderer.invoke('app:set-always-on-top', flag),
+  openOutputDir: () => ipcRenderer.invoke('app:open-output-dir'),
+  openJsonDir: () => ipcRenderer.invoke('app:open-json-dir'),
+  openXmlDir: () => ipcRenderer.invoke('app:open-xml-dir'),
+  dbSaveDraft: (payload) => ipcRenderer.invoke('db:save-draft', payload),
+  dbIngest: (payload) => ipcRenderer.invoke('db:ingest', payload),
+  dbList: (payload) => ipcRenderer.invoke('db:list', payload),
+  dbGet: (id) => ipcRenderer.invoke('db:get', id),
+  dbUpdateStatus: (payload) => ipcRenderer.invoke('db:update-status', payload),
 });
diff --git a/segundas-vias/src/shared/matricula.js b/segundas-vias/src/shared/matricula.js
index 3c3cab9..e150456 100644
--- a/segundas-vias/src/shared/matricula.js
+++ b/segundas-vias/src/shared/matricula.js
@@ -1,42 +1,42 @@
 export function digitsOnly(value) {
-  return String(value || "").replace(/\D/g, "");
+  return String(value || '').replace(/\D/g, '');
 }
 export function padLeft(value, size) {
   const digits = digitsOnly(value);
-  if (!digits) return "";
-  return digits.padStart(size, "0").slice(-size);
+  if (!digits) return '';
+  return digits.padStart(size, '0').slice(-size);
 }
 export function buildMatriculaBase30(args) {
-  const cns = digitsOnly(args.cns6 || "");
-  const ano = digitsOnly(args.ano || "");
-  const tipoAto = digitsOnly(args.tipoAto || "");
-  const acervo = digitsOnly(args.acervo || "01").padStart(2, "0");
-  const servico = digitsOnly(args.servico || "55").padStart(2, "0");
+  const cns = digitsOnly(args.cns6 || '');
+  const ano = digitsOnly(args.ano || '');
+  const tipoAto = digitsOnly(args.tipoAto || '');
+  const acervo = digitsOnly(args.acervo || '01').padStart(2, '0');
+  const servico = digitsOnly(args.servico || '55').padStart(2, '0');
   const livro = padLeft(args.livro, 5);
   const folha = padLeft(args.folha, 3);
   const termo = padLeft(args.termo, 7);
-  if (cns.length !== 6 || ano.length !== 4 || !tipoAto || !livro || !folha || !termo) return "";
+  if (cns.length !== 6 || ano.length !== 4 || !tipoAto || !livro || !folha || !termo) return '';
   const base = `${cns}${acervo}${servico}${ano}${tipoAto}${livro}${folha}${termo}`;
-  return base.length === 30 ? base : "";
+  return base.length === 30 ? base : '';
 }
 export function calcDv2Digits(base30) {
-  if (!base30 || base30.length !== 30) return "";
+  if (!base30 || base30.length !== 30) return '';
   let s1 = 0;
   for (let i = 0; i < 30; i++) s1 += Number(base30[i]) * (31 - i);
-  let d1 = 11 - s1 % 11;
+  let d1 = 11 - (s1 % 11);
   d1 = d1 === 11 ? 0 : d1 === 10 ? 1 : d1;
   const seq31 = base30 + String(d1);
   let s2 = 0;
   for (let i = 0; i < 31; i++) s2 += Number(seq31[i]) * (32 - i);
-  let d2 = 11 - s2 % 11;
+  let d2 = 11 - (s2 % 11);
   d2 = d2 === 11 ? 0 : d2 === 10 ? 1 : d2;
   return `${d1}${d2}`;
 }
 export function buildMatriculaFinal(args) {
   const base30 = buildMatriculaBase30(args);
-  if (!base30) return "";
+  if (!base30) return '';
   const dv = calcDv2Digits(base30);
-  return dv ? base30 + dv : "";
+  return dv ? base30 + dv : '';
 }
 
 export function dvMatricula(base30) {
diff --git a/segundas-vias/src/shared/ui/mask.js b/segundas-vias/src/shared/ui/mask.js
index 3fd1faf..7be16a8 100644
--- a/segundas-vias/src/shared/ui/mask.js
+++ b/segundas-vias/src/shared/ui/mask.js
@@ -1,13 +1,13 @@
 export function digitsOnly(value) {
-  return String(value || "").replace(/\D/g, "");
+  return String(value || '').replace(/\D/g, '');
 }
 export function applyDateMask(input) {
   if (!input) return;
   const digits = digitsOnly(input.value).slice(0, 8);
-  let out = "";
+  let out = '';
   if (digits.length >= 1) out += digits.slice(0, 2);
-  if (digits.length >= 3) out += "/" + digits.slice(2, 4);
-  else if (digits.length > 2) out += "/" + digits.slice(2);
-  if (digits.length >= 5) out += "/" + digits.slice(4, 8);
+  if (digits.length >= 3) out += '/' + digits.slice(2, 4);
+  else if (digits.length > 2) out += '/' + digits.slice(2);
+  if (digits.length >= 5) out += '/' + digits.slice(4, 8);
   input.value = out;
 }
diff --git a/segundas-vias/src/shared/validators/cpf.js b/segundas-vias/src/shared/validators/cpf.js
index a1a9425..08a6175 100644
--- a/segundas-vias/src/shared/validators/cpf.js
+++ b/segundas-vias/src/shared/validators/cpf.js
@@ -1,11 +1,11 @@
 import { cpf } from 'cpf-cnpj-validator';
 
 export function normalizeCpf(raw) {
-  return String(raw || "").replace(/\D/g, "");
+  return String(raw || '').replace(/\D/g, '');
 }
 export function formatCpf(digits) {
   const v = normalizeCpf(digits);
-  if (v.length !== 11) return "";
+  if (v.length !== 11) return '';
   return `${v.slice(0, 3)}.${v.slice(3, 6)}.${v.slice(6, 9)}-${v.slice(9)}`;
 }
 export function isValidCpf(raw) {
@@ -15,7 +15,7 @@ export function isValidCpf(raw) {
 
 export function formatCpfInput(value) {
   const digits = normalizeCpf(value).slice(0, 11);
-  if (!digits) return "";
+  if (!digits) return '';
   const p1 = digits.slice(0, 3);
   const p2 = digits.slice(3, 6);
   const p3 = digits.slice(6, 9);
diff --git a/segundas-vias/src/shared/validators/date.js b/segundas-vias/src/shared/validators/date.js
index 795ca19..77f4c58 100644
--- a/segundas-vias/src/shared/validators/date.js
+++ b/segundas-vias/src/shared/validators/date.js
@@ -1,5 +1,5 @@
 export function pad2(value) {
-  return String(value).padStart(2, "0");
+  return String(value).padStart(2, '0');
 }
 export function toYear(yearRaw) {
   const y = Number(yearRaw);
@@ -17,18 +17,18 @@ export function isValidDateParts(day, month, year) {
 }
 
 export function normalizeDate(raw) {
-  const input = String(raw || "").trim();
-  if (!input) return "";
-  const m = /^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})$/.exec(input);
-  let day = "";
-  let month = "";
-  let year = "";
+  const input = String(raw || '').trim();
+  if (!input) return '';
+  const m = /^(\d{1,2})[/-](\d{1,2})[/-](\d{2,4})$/.exec(input);
+  let day = '';
+  let month = '';
+  let year = '';
   if (m) {
     day = m[1];
     month = m[2];
     year = m[3];
   } else {
-    const digits = input.replace(/\D/g, "");
+    const digits = input.replace(/\D/g, '');
     if (digits.length === 8) {
       day = digits.slice(0, 2);
       month = digits.slice(2, 4);
@@ -39,27 +39,27 @@ export function normalizeDate(raw) {
       year = digits.slice(4, 6);
     }
   }
-  if (!day || !month || !year) return "";
+  if (!day || !month || !year) return '';
   const yyyy = toYear(year);
   const dd = Number(day);
   const mm = Number(month);
-  if (!isValidDateParts(dd, mm, yyyy)) return "";
+  if (!isValidDateParts(dd, mm, yyyy)) return '';
   return `${pad2(dd)}/${pad2(mm)}/${yyyy}`;
 }
 
 export function validateDateDetailed(raw) {
-  const input = String(raw || "").trim();
-  if (!input) return { ok: false, code: "EMPTY", message: "Campo vazio" };
-  const m = /^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})$/.exec(input);
-  let day = "";
-  let month = "";
-  let year = "";
+  const input = String(raw || '').trim();
+  if (!input) return { ok: false, code: 'EMPTY', message: 'Campo vazio' };
+  const m = /^(\d{1,2})[/-](\d{1,2})[/-](\d{2,4})$/.exec(input);
+  let day = '';
+  let month = '';
+  let year = '';
   if (m) {
     day = m[1];
     month = m[2];
     year = m[3];
   } else {
-    const digits = input.replace(/\D/g, "");
+    const digits = input.replace(/\D/g, '');
     if (digits.length === 8) {
       day = digits.slice(0, 2);
       month = digits.slice(2, 4);
@@ -69,23 +69,37 @@ export function validateDateDetailed(raw) {
       month = digits.slice(2, 4);
       year = digits.slice(4, 6);
     } else {
-      return { ok: false, code: "FORMAT", message: "Formato inválido — use DD/MM/AAAA (ex.: 31/12/2024)" };
+      return {
+        ok: false,
+        code: 'FORMAT',
+        message: 'Formato inválido — use DD/MM/AAAA (ex.: 31/12/2024)',
+      };
     }
   }
   const dd = Number(day);
   const mm = Number(month);
   const yyyy = toYear(year);
-  if (isNaN(mm) || mm < 1 || mm > 12) return { ok: false, code: "MONTH", message: "Mês inválido (01–12)" };
-  if (isNaN(dd) || dd < 1 || dd > 31) return { ok: false, code: "DAY", message: "Dia inválido (1–31)" };
+  if (isNaN(mm) || mm < 1 || mm > 12)
+    return { ok: false, code: 'MONTH', message: 'Mês inválido (01–12)' };
+  if (isNaN(dd) || dd < 1 || dd > 31)
+    return { ok: false, code: 'DAY', message: 'Dia inválido (1–31)' };
   const d = new Date(yyyy, mm - 1, dd);
   if (!(d.getFullYear() === yyyy && d.getMonth() === mm - 1 && d.getDate() === dd)) {
-    return { ok: false, code: "NONEXISTENT", message: "Data inexistente — verifique dia e mês (ex.: 31/02/2024 não existe)" };
+    return {
+      ok: false,
+      code: 'NONEXISTENT',
+      message: 'Data inexistente — verifique dia e mês (ex.: 31/02/2024 não existe)',
+    };
   }
-  return { ok: true, code: "OK", message: `${String(dd).padStart(2, "0")}/${String(mm).padStart(2, "0")}/${yyyy}` };
+  return {
+    ok: true,
+    code: 'OK',
+    message: `${String(dd).padStart(2, '0')}/${String(mm).padStart(2, '0')}/${yyyy}`,
+  };
 }
 
 export function yearFromDate(value) {
   const normalized = normalizeDate(value);
-  const match = (normalized || "").match(/^(\d{2})\/(\d{2})\/(\d{4})$/);
-  return match ? match[3] : "";
+  const match = (normalized || '').match(/^(\d{2})\/(\d{2})\/(\d{4})$/);
+  return match ? match[3] : '';
 }
diff --git a/segundas-vias/src/shared/validators/name.js b/segundas-vias/src/shared/validators/name.js
index d879a90..2700838 100644
--- a/segundas-vias/src/shared/validators/name.js
+++ b/segundas-vias/src/shared/validators/name.js
@@ -1,13 +1,15 @@
 // Validação e normalização de nomes
 
 export function normalizeName(raw) {
-  return String(raw || "").replace(/\s+/g, " ").trim();
+  return String(raw || '')
+    .replace(/\s+/g, ' ')
+    .trim();
 }
 
 export function isValidName(name) {
   // Nome deve ter pelo menos 2 palavras e cada uma com pelo menos 2 letras
   const n = normalizeName(name);
-  const parts = n.split(" ").filter(Boolean);
+  const parts = n.split(' ').filter(Boolean);
   if (parts.length < 2) return false;
-  return parts.every(p => p.length >= 2 && /^[A-Za-zÀ-ÿ'\- ]+$/.test(p));
+  return parts.every((p) => p.length >= 2 && /^[A-Za-zÀ-ÿ'\- ]+$/.test(p));
 }
diff --git a/segundas-vias/src/state.js b/segundas-vias/src/state.js
index 3cd1f6f..4b8902a 100644
--- a/segundas-vias/src/state.js
+++ b/segundas-vias/src/state.js
@@ -12,4 +12,4 @@ export function updateState(key, value) {
 
 export function getState(key) {
   return state[key];
-}
\ No newline at end of file
+}
diff --git a/segundas-vias/src/ui.css b/segundas-vias/src/ui.css
index 608a684..d229186 100644
--- a/segundas-vias/src/ui.css
+++ b/segundas-vias/src/ui.css
@@ -1,4 +1,4 @@
-:root{
+:root {
   --gap: 8px;
   --radius: 8px;
   --border: #d6dde8;
@@ -14,19 +14,21 @@
   --font: 12px;
   --labelFont: 11px;
 }
-*{ box-sizing: border-box; }
-body{
+* {
+  box-sizing: border-box;
+}
+body {
   margin: 0;
   background: #eef2f7;
   color: var(--text);
-  font-family: "Trebuchet MS", Tahoma, sans-serif;
+  font-family: 'Trebuchet MS', Tahoma, sans-serif;
 }
-.container{
+.container {
   max-width: 820px;
   margin: 0 auto;
   padding: 12px;
 }
-.toolbar{
+.toolbar {
   position: sticky;
   top: 0;
   background: var(--bg);
@@ -39,9 +41,18 @@ body{
   justify-content: space-between;
   z-index: 10;
 }
-.toolbar-left{ display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
-.toolbar-right{ display: flex; gap: 8px; align-items: center; }
-.badge{
+.toolbar-left {
+  display: flex;
+  gap: 8px;
+  align-items: center;
+  flex-wrap: wrap;
+}
+.toolbar-right {
+  display: flex;
+  gap: 8px;
+  align-items: center;
+}
+.badge {
   display: inline-flex;
   align-items: center;
   padding: 4px 8px;
@@ -51,8 +62,11 @@ body{
   font-size: 11px;
   color: #334155;
 }
-.status{ font-size: 11px; color: #64748b; }
-.btn{
+.status {
+  font-size: 11px;
+  color: #64748b;
+}
+.btn {
   border: 1px solid var(--border);
   background: linear-gradient(180deg, #3b82f6, #2563eb);
   color: #fff;
@@ -63,13 +77,27 @@ body{
   font-size: 10px;
   transition: transform 0.08s ease;
 }
-.btn.secondary{ background: #ffffff; color: var(--text); }
-.btn.save{ background: var(--ok); border-color: #15803d; }
-.btn.save.dirty{ background: var(--danger); border-color: #b91c1c; }
-.btn:hover{ transform: translateY(-1px); }
+.btn.secondary {
+  background: #ffffff;
+  color: var(--text);
+}
+.btn.save {
+  background: var(--ok);
+  border-color: #15803d;
+}
+.btn.save.dirty {
+  background: var(--danger);
+  border-color: #b91c1c;
+}
+.btn:hover {
+  transform: translateY(-1px);
+}
 
-.type-group{ display: flex; gap: 6px; }
-.type-btn{
+.type-group {
+  display: flex;
+  gap: 6px;
+}
+.type-btn {
   border: 1px solid var(--border);
   background: #fff;
   color: var(--text);
@@ -79,54 +107,64 @@ body{
   font-weight: 700;
   font-size: 11px;
 }
-.type-btn.active{ background: var(--accent); color: #fff; border-color: var(--accent2); }
+.type-btn.active {
+  background: var(--accent);
+  color: #fff;
+  border-color: var(--accent2);
+}
 
-.card{
+.card {
   margin-top: 10px;
   border: 1px solid #e2e8f0;
   border-radius: var(--radius);
   background: #ffffff;
-  box-shadow: 0 8px 18px rgba(15,23,42,0.05);
+  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.05);
   padding: 12px;
 }
-.cardTitle{
+.cardTitle {
   font-weight: 700;
   font-size: 13px;
   margin-bottom: 6px;
 }
 
-.grid{
+.grid {
   display: grid;
   grid-template-columns: repeat(12, 1fr);
   gap: var(--gap);
   align-items: end;
 }
-.field{
+.field {
   display: flex;
   flex-direction: column;
   gap: 4px;
   min-width: 0;
 }
-.field label{
+.field label {
   font-size: var(--labelFont);
   color: var(--label);
   line-height: 1.1;
 }
-.label-row{
+.label-row {
   display: flex;
   align-items: center;
   justify-content: space-between;
   gap: 8px;
 }
-.inline-check{
+.inline-check {
   display: inline-flex;
   align-items: center;
   gap: 4px;
   font-size: 10px;
   color: var(--label);
 }
-.inline-check input{ width: 12px; height: 12px; transform: scale(0.8); }
-.field input, .field select, .field textarea{
+.inline-check input {
+  width: 12px;
+  height: 12px;
+  transform: scale(0.8);
+}
+.field input,
+.field select,
+.field textarea {
   height: var(--h);
   border: 1px solid var(--border);
   border-radius: 8px;
@@ -136,82 +174,170 @@ body{
   width: 100%;
   background: #fff;
 }
-.field input:focus, .field select:focus, .field textarea:focus{
+.field input:focus,
+.field select:focus,
+.field textarea:focus {
   border-color: #3b82f6;
   box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.25);
 }
-.field textarea{ height: auto; min-height: 64px; resize: vertical; }
-.field input.invalid, .field select.invalid, .field textarea.invalid{ border-color: var(--danger); }
+.field textarea {
+  height: auto;
+  min-height: 64px;
+  resize: vertical;
+}
+.field input.invalid,
+.field select.invalid,
+.field textarea.invalid {
+  border-color: var(--danger);
+}
 
-.checkboxField{
+.checkboxField {
   flex-direction: row;
   align-items: center;
   gap: 6px;
   padding-top: 16px;
 }
-.checkboxField input{ width: 14px; height: 14px; }
+.checkboxField input {
+  width: 14px;
+  height: 14px;
+}
 
-.field.fixed{ align-items: flex-start; }
-.w-cpf{ max-width: 110px; }
-.w-date{ max-width: 96px; }
-.w-time{ max-width: 58px; }
-.w-uf{ max-width: 60px; }
-.w-sexo{ max-width: 100px; }
-.w-cartorio{ max-width: 56px; }
-.w-num{ max-width: 140px; }
-.w-livro{ max-width: 65px; }
-.w-folha{ max-width: 40px; }
-.w-termo{ max-width: 80px; }
-.w-local{ max-width: 200px; }
-.w-nome{ max-width: 240px; }
-.w-cidade{ max-width: 140px; }
-.spacer{ visibility: hidden; height: 0; }
+.field.fixed {
+  align-items: flex-start;
+}
+.w-cpf {
+  max-width: 110px;
+}
+.w-date {
+  max-width: 96px;
+}
+.w-time {
+  max-width: 58px;
+}
+.w-uf {
+  max-width: 60px;
+}
+.w-sexo {
+  max-width: 100px;
+}
+.w-cartorio {
+  max-width: 56px;
+}
+.w-num {
+  max-width: 140px;
+}
+.w-livro {
+  max-width: 65px;
+}
+.w-folha {
+  max-width: 40px;
+}
+.w-termo {
+  max-width: 80px;
+}
+.w-local {
+  max-width: 200px;
+}
+.w-nome {
+  max-width: 240px;
+}
+.w-cidade {
+  max-width: 140px;
+}
+.spacer {
+  visibility: hidden;
+  height: 0;
+}
 
-.span-1{ grid-column: span 1; }
-.span-2{ grid-column: span 2; }
-.span-3{ grid-column: span 3; }
-.span-4{ grid-column: span 4; }
-.span-5{ grid-column: span 5; }
-.span-6{ grid-column: span 6; }
-.span-7{ grid-column: span 7; }
-.span-8{ grid-column: span 8; }
-.span-9{ grid-column: span 9; }
-.span-12{ grid-column: 1 / -1; }
+.span-1 {
+  grid-column: span 1;
+}
+.span-2 {
+  grid-column: span 2;
+}
+.span-3 {
+  grid-column: span 3;
+}
+.span-4 {
+  grid-column: span 4;
+}
+.span-5 {
+  grid-column: span 5;
+}
+.span-6 {
+  grid-column: span 6;
+}
+.span-7 {
+  grid-column: span 7;
+}
+.span-8 {
+  grid-column: span 8;
+}
+.span-9 {
+  grid-column: span 9;
+}
+.span-12 {
+  grid-column: 1 / -1;
+}
 
-details.collapse{
+details.collapse {
   margin-top: 10px;
   background: var(--bg2);
   border: 1px dashed var(--border);
   border-radius: var(--radius);
   padding: 10px;
 }
-details.collapse summary{
+details.collapse summary {
   cursor: pointer;
   font-weight: 700;
   font-size: 12px;
   color: #334155;
 }
 
-.subcard{
+.subcard {
   margin-top: 10px;
   border: 1px solid var(--border);
   border-radius: 10px;
   background: #fff;
   padding: 10px;
 }
-.subTitle{
+.subTitle {
   font-weight: 700;
   font-size: 12px;
   margin-bottom: 8px;
   color: #334155;
 }
 
-.modal{ position: fixed; inset: 0; background: rgba(15, 23, 42, 0.45); display: flex; align-items: center; justify-content: center; z-index: 50; }
-.modal.hidden{ display: none; }
-.modal-card{ width: min(560px, 92vw); background: #fff; border: 1px solid var(--border); border-radius: 10px; padding: 12px; }
-.modal-title{ font-size: 13px; font-weight: 700; margin-bottom: 8px; }
-.tabbar{ display: flex; gap: 6px; margin-bottom: 8px; }
-.tab-btn{
+.modal {
+  position: fixed;
+  inset: 0;
+  background: rgba(15, 23, 42, 0.45);
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  z-index: 50;
+}
+.modal.hidden {
+  display: none;
+}
+.modal-card {
+  width: min(560px, 92vw);
+  background: #fff;
+  border: 1px solid var(--border);
+  border-radius: 10px;
+  padding: 12px;
+}
+.modal-title {
+  font-size: 13px;
+  font-weight: 700;
+  margin-bottom: 8px;
+}
+.tabbar {
+  display: flex;
+  gap: 6px;
+  margin-bottom: 8px;
+}
+.tab-btn {
   border: 1px solid var(--border);
   background: var(--bg2);
   color: var(--text);
@@ -221,6 +347,14 @@ details.collapse summary{
   font-size: 11px;
   font-weight: 700;
 }
-.tab-btn.active{ background: var(--accent); color: #fff; border-color: var(--accent2); }
-.tab-pane{ display: none; }
-.tab-pane.active{ display: block; }
+.tab-btn.active {
+  background: var(--accent);
+  color: #fff;
+  border-color: var(--accent2);
+}
+.tab-pane {
+  display: none;
+}
+.tab-pane.active {
+  display: block;
+}
diff --git a/segundas-vias/src/ui.js b/segundas-vias/src/ui.js
index ecabf88..242de6c 100644
--- a/segundas-vias/src/ui.js
+++ b/segundas-vias/src/ui.js
@@ -1,21 +1,21 @@
 // Funções relacionadas à interface do usuário
 
 export function showToast(message) {
-  let container = document.getElementById("toast-container");
+  let container = document.getElementById('toast-container');
   if (!container) {
-    container = document.createElement("div");
-    container.id = "toast-container";
+    container = document.createElement('div');
+    container.id = 'toast-container';
     document.body.appendChild(container);
   }
-  const toast = document.createElement("div");
-  toast.className = "toast";
+  const toast = document.createElement('div');
+  toast.className = 'toast';
   toast.textContent = message;
   container.appendChild(toast);
   setTimeout(() => {
-    toast.classList.add("show");
+    toast.classList.add('show');
   }, 10);
   setTimeout(() => {
-    toast.classList.remove("show");
+    toast.classList.remove('show');
     setTimeout(() => toast.remove(), 200);
   }, 2000);
 }
@@ -26,44 +26,44 @@ export function setupConfigPanel() {
 
 export function setFieldHint(field, message) {
   if (!field) return;
-  let hint = field.querySelector(".hint");
+  let hint = field.querySelector('.hint');
   if (!hint) {
-    hint = document.createElement("div");
-    hint.className = "hint";
+    hint = document.createElement('div');
+    hint.className = 'hint';
     field.appendChild(hint);
   }
   if (message) {
-    hint.innerHTML = "";
-    const icon = document.createElement("span");
-    icon.className = "icon";
-    icon.textContent = "⚠";
-    icon.setAttribute("aria-hidden", "true");
+    hint.innerHTML = '';
+    const icon = document.createElement('span');
+    icon.className = 'icon';
+    icon.textContent = '⚠';
+    icon.setAttribute('aria-hidden', 'true');
     hint.appendChild(icon);
-    const txt = document.createElement("span");
-    txt.className = "hint-text";
+    const txt = document.createElement('span');
+    txt.className = 'hint-text';
     txt.textContent = message;
     hint.appendChild(txt);
-    hint.classList.add("visible");
-    let aria = document.getElementById("aria-live-errors");
+    hint.classList.add('visible');
+    let aria = document.getElementById('aria-live-errors');
     if (!aria) {
-      aria = document.createElement("div");
-      aria.id = "aria-live-errors";
-      aria.className = "sr-only";
-      aria.setAttribute("aria-live", "assertive");
-      aria.setAttribute("role", "status");
+      aria = document.createElement('div');
+      aria.id = 'aria-live-errors';
+      aria.className = 'sr-only';
+      aria.setAttribute('aria-live', 'assertive');
+      aria.setAttribute('role', 'status');
       document.body.appendChild(aria);
     }
     aria.textContent = message;
   } else {
-    hint.innerHTML = "";
-    hint.classList.remove("visible");
+    hint.innerHTML = '';
+    hint.classList.remove('visible');
   }
 }
 
 export function clearFieldHint(field) {
-  setFieldHint(field, "");
+  setFieldHint(field, '');
 }
 
 export function updateActionButtons() {
   // Atualiza os botões de ação com base no estado dos campos
-}
\ No newline at end of file
+}
diff --git a/segundas-vias/src/ui.ts b/segundas-vias/src/ui.ts
index 2971417..7ae8a61 100644
--- a/segundas-vias/src/ui.ts
+++ b/segundas-vias/src/ui.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 'use strict';
 
 declare global {
@@ -80,7 +80,7 @@ const state: AppState = {
     cod_selo: '',
     modalidade: 'eletronica',
     cota_emolumentos: '',
-    cota_emolumentos_isento: false
+    cota_emolumentos_isento: false,
   },
   registro: {
     nome_completo: '',
@@ -101,7 +101,7 @@ const state: AppState = {
     sexo_outros: '',
     gemeos: { quantidade: '' },
     numero_dnv: '',
-    averbacao_anotacao: ''
+    averbacao_anotacao: '',
   },
   ui: {
     gemeos_irmao_raw: '',
@@ -121,8 +121,8 @@ const state: AppState = {
     pai_uf: '',
     pai_cidade: '',
     pai_avo_paterna: '',
-    pai_avo_paterno: ''
-  }
+    pai_avo_paterno: '',
+  },
 };
 
 let lastSavedSnapshot = '';
@@ -212,14 +212,22 @@ function bindInputs() {
         setByPath(state, path, input.value);
       }
       if (path === 'registro.sexo') updateSexoOutros();
-      if (path === 'registro.data_nascimento_ignorada' || path === 'registro.hora_nascimento_ignorada') {
+      if (
+        path === 'registro.data_nascimento_ignorada' ||
+        path === 'registro.hora_nascimento_ignorada'
+      ) {
         updateIgnoreFields();
       }
       if (path === 'registro.cpf') updateCpfState();
       if (path === 'registro.cpf_sem_inscricao') updateCpfFromToggle();
       if (path === 'ui.cartorio_oficio') applyCartorioChange();
       if (path === 'registro.data_registro') updateMatricula();
-      if (path === 'ui.casamento_tipo' || path === 'ui.matricula_livro' || path === 'ui.matricula_folha' || path === 'ui.matricula_termo') {
+      if (
+        path === 'ui.casamento_tipo' ||
+        path === 'ui.matricula_livro' ||
+        path === 'ui.matricula_folha' ||
+        path === 'ui.matricula_termo'
+      ) {
         updateMatricula();
       }
       if (path === 'ui.naturalidade_diferente') updateNaturalidadeVisibility(true);
@@ -245,7 +253,9 @@ function updateTipoButtons() {
   if (btnN) btnN.classList.toggle('active', tipo === 'nascimento');
   if (btnC) btnC.classList.toggle('active', tipo === 'casamento');
   if (btnO) btnO.classList.toggle('active', tipo === 'obito');
-  const input = document.querySelector('[data-bind=\"certidao.tipo_registro\"]') as HTMLInputElement | null;
+  const input = document.querySelector(
+    '[data-bind="certidao.tipo_registro"]',
+  ) as HTMLInputElement | null;
   if (input) input.value = tipo;
   const casamentoWrap = document.getElementById('casamento-tipo-wrap');
   if (casamentoWrap) casamentoWrap.style.display = tipo === 'casamento' ? 'flex' : 'none';
@@ -297,7 +307,10 @@ let naturalidadeEdited = false;
 
 function setBoundValue(path: string, value: any) {
   setByPath(state, path, value);
-  const el = document.querySelector(`[data-bind="${path}"]`) as HTMLInputElement | HTMLSelectElement | null;
+  const el = document.querySelector(`[data-bind="${path}"]`) as
+    | HTMLInputElement
+    | HTMLSelectElement
+    | null;
   if (!el) return;
   if ((el as HTMLInputElement).type === 'checkbox') (el as HTMLInputElement).checked = !!value;
   else el.value = value !== undefined && value !== null ? String(value) : '';
@@ -308,7 +321,7 @@ function rememberNaturalidadeEdit() {
   naturalidadeEdited = true;
   naturalidadeMemo = {
     city: trimValue(state.registro.municipio_naturalidade),
-    uf: trimValue(state.registro.uf_naturalidade)
+    uf: trimValue(state.registro.uf_naturalidade),
   };
 }
 
@@ -342,7 +355,9 @@ function updateNaturalidadeVisibility(fromToggle: boolean) {
   const labelCity = document.getElementById('label-municipio-principal');
   const labelUf = document.getElementById('label-uf-principal');
   if (labelCity) {
-    labelCity.textContent = isDifferent ? 'Municipio de nascimento' : 'Municipio (nascimento e naturalidade)';
+    labelCity.textContent = isDifferent
+      ? 'Municipio de nascimento'
+      : 'Municipio (nascimento e naturalidade)';
   }
   if (labelUf) {
     labelUf.textContent = isDifferent ? 'UF de nascimento' : 'UF (nascimento e naturalidade)';
@@ -358,7 +373,7 @@ function updateNaturalidadeVisibility(fromToggle: boolean) {
   } else {
     naturalidadeMemo = {
       city: trimValue(state.registro.municipio_naturalidade),
-      uf: trimValue(state.registro.uf_naturalidade)
+      uf: trimValue(state.registro.uf_naturalidade),
     };
     syncNaturalidadeLockedToBirth();
   }
@@ -410,7 +425,7 @@ const CNS_CARTORIOS: Record<string, string> = {
   '12': '110064',
   '13': '109736',
   '14': '110635',
-  '15': '110072'
+  '15': '110072',
 };
 
 function dvMatricula(base30: string) {
@@ -546,7 +561,9 @@ function applyCartorioChange() {
   const cns = CNS_CARTORIOS[oficio];
   if (cns) {
     state.certidao.cartorio_cns = cns;
-    const cnsInput = document.querySelector('[data-bind="certidao.cartorio_cns"]') as HTMLInputElement | null;
+    const cnsInput = document.querySelector(
+      '[data-bind="certidao.cartorio_cns"]',
+    ) as HTMLInputElement | null;
     if (cnsInput) cnsInput.value = cns;
   }
   updateMatricula();
@@ -558,7 +575,11 @@ function trimValue(value: any) {
 
 function parseLines(raw: string, mapper: (line: string) => any) {
   if (!raw) return [];
-  return raw.split(/\r?\n/).map((l) => l.trim()).filter(Boolean).map(mapper);
+  return raw
+    .split(/\r?\n/)
+    .map((l) => l.trim())
+    .filter(Boolean)
+    .map(mapper);
 }
 
 function parseIrmaos(raw: string) {
@@ -566,7 +587,7 @@ function parseIrmaos(raw: string) {
     const parts = line.split('|');
     return {
       nome: trimValue(parts[0]),
-      matricula: trimValue(parts[1])
+      matricula: trimValue(parts[1]),
     };
   });
 }
@@ -579,7 +600,7 @@ function parseAnotacoes(raw: string) {
       documento: trimValue(parts[1]),
       orgao_emissor: trimValue(parts[2]),
       uf_emissao: trimValue(parts[3]),
-      data_emissao: trimValue(parts[4])
+      data_emissao: trimValue(parts[4]),
     };
   });
 }
@@ -596,7 +617,7 @@ function buildFiliacaoItem(nome: string, cidade: string, uf: string, avo1: strin
     nome: n,
     municipio_nascimento: c,
     uf_nascimento: u,
-    avos
+    avos,
   };
 }
 
@@ -628,13 +649,25 @@ function normalizeData() {
     cod_selo: trimValue(cert.cod_selo),
     modalidade: trimValue(cert.modalidade),
     cota_emolumentos: trimValue(cert.cota_emolumentos),
-    cota_emolumentos_isento: !!cert.cota_emolumentos_isento
+    cota_emolumentos_isento: !!cert.cota_emolumentos_isento,
   };
 
   const filiacao: any[] = [];
-  const mae = buildFiliacaoItem(state.ui.mae_nome, state.ui.mae_cidade, state.ui.mae_uf, state.ui.mae_avo_materna, state.ui.mae_avo_materno);
+  const mae = buildFiliacaoItem(
+    state.ui.mae_nome,
+    state.ui.mae_cidade,
+    state.ui.mae_uf,
+    state.ui.mae_avo_materna,
+    state.ui.mae_avo_materno,
+  );
   if (mae) filiacao.push(mae);
-  const pai = buildFiliacaoItem(state.ui.pai_nome, state.ui.pai_cidade, state.ui.pai_uf, state.ui.pai_avo_paterna, state.ui.pai_avo_paterno);
+  const pai = buildFiliacaoItem(
+    state.ui.pai_nome,
+    state.ui.pai_cidade,
+    state.ui.pai_uf,
+    state.ui.pai_avo_paterna,
+    state.ui.pai_avo_paterno,
+  );
   if (pai) filiacao.push(pai);
 
   const matriculaFull = trimValue(reg.matricula);
@@ -667,12 +700,12 @@ function normalizeData() {
     sexo: trimValue(reg.sexo),
     gemeos: {
       quantidade: trimValue(reg.gemeos.quantidade),
-      irmao: parseIrmaos(state.ui.gemeos_irmao_raw)
+      irmao: parseIrmaos(state.ui.gemeos_irmao_raw),
     },
     filiacao,
     numero_dnv: trimValue(reg.numero_dnv),
     averbacao_anotacao: trimValue(reg.averbacao_anotacao),
-    anotacoes_cadastro: parseAnotacoes(state.ui.anotacoes_raw)
+    anotacoes_cadastro: parseAnotacoes(state.ui.anotacoes_raw),
   };
 
   if (registro.sexo === 'outros') {
@@ -729,18 +762,39 @@ function isValidTime(value: string) {
 function validateData(data: any) {
   clearInvalid();
   let ok = true;
-  if (!data.registro.nome_completo) { markInvalid('registro.nome_completo'); ok = false; }
-  if (!data.registro.sexo) { markInvalid('registro.sexo'); ok = false; }
-  if (!data.registro.uf_nascimento) { markInvalid('registro.uf_nascimento'); ok = false; }
-  if (!data.registro.local_nascimento) { markInvalid('registro.local_nascimento'); ok = false; }
-  if (!data.registro.municipio_nascimento) { markInvalid('registro.municipio_nascimento'); ok = false; }
-  if (!data.certidao.modalidade) { markInvalid('certidao.modalidade'); ok = false; }
+  if (!data.registro.nome_completo) {
+    markInvalid('registro.nome_completo');
+    ok = false;
+  }
+  if (!data.registro.sexo) {
+    markInvalid('registro.sexo');
+    ok = false;
+  }
+  if (!data.registro.uf_nascimento) {
+    markInvalid('registro.uf_nascimento');
+    ok = false;
+  }
+  if (!data.registro.local_nascimento) {
+    markInvalid('registro.local_nascimento');
+    ok = false;
+  }
+  if (!data.registro.municipio_nascimento) {
+    markInvalid('registro.municipio_nascimento');
+    ok = false;
+  }
+  if (!data.certidao.modalidade) {
+    markInvalid('certidao.modalidade');
+    ok = false;
+  }
   if (data.registro.sexo === 'outros' && !data.registro.sexo_outros) {
     markInvalid('registro.sexo_outros');
     ok = false;
   }
   const tipo = (data.certidao.tipo_registro || '').toLowerCase();
-  if ((tipo === 'nascimento' || tipo === 'casamento') && !normalizeDateValue(data.registro.data_registro)) {
+  if (
+    (tipo === 'nascimento' || tipo === 'casamento') &&
+    !normalizeDateValue(data.registro.data_registro)
+  ) {
     markInvalid('registro.data_registro');
     ok = false;
   }
@@ -748,9 +802,18 @@ function validateData(data: any) {
     markInvalid('ui.casamento_tipo');
     ok = false;
   }
-  if (!isValidDate(data.registro.data_registro)) { markInvalid('registro.data_registro'); ok = false; }
-  if (!isValidDate(data.registro.data_nascimento)) { markInvalid('registro.data_nascimento'); ok = false; }
-  if (!isValidTime(data.registro.hora_nascimento)) { markInvalid('registro.hora_nascimento'); ok = false; }
+  if (!isValidDate(data.registro.data_registro)) {
+    markInvalid('registro.data_registro');
+    ok = false;
+  }
+  if (!isValidDate(data.registro.data_nascimento)) {
+    markInvalid('registro.data_nascimento');
+    ok = false;
+  }
+  if (!isValidTime(data.registro.hora_nascimento)) {
+    markInvalid('registro.hora_nascimento');
+    ok = false;
+  }
   if (!ok) setStatus('Campos obrigatorios pendentes', true);
   return ok;
 }
@@ -816,11 +879,17 @@ function validateTimeInputValue(value: string) {
 
 function validateLiveField(path: string, input: HTMLInputElement | HTMLSelectElement) {
   if (path === 'registro.data_registro' || path === 'registro.data_nascimento') {
-    setFieldError(input as HTMLInputElement, validateDateInputValue((input as HTMLInputElement).value));
+    setFieldError(
+      input as HTMLInputElement,
+      validateDateInputValue((input as HTMLInputElement).value),
+    );
     return;
   }
   if (path === 'registro.hora_nascimento') {
-    setFieldError(input as HTMLInputElement, validateTimeInputValue((input as HTMLInputElement).value));
+    setFieldError(
+      input as HTMLInputElement,
+      validateTimeInputValue((input as HTMLInputElement).value),
+    );
     return;
   }
   if (path === 'registro.cpf') {
@@ -847,14 +916,19 @@ function stripAccents(value: string) {
 }
 
 function normalizeFilePart(value: string, fallback: string) {
-  const clean = stripAccents(value || '').toUpperCase().replace(/[^A-Z0-9]+/g, '_').replace(/^_+|_+$/g, '');
+  const clean = stripAccents(value || '')
+    .toUpperCase()
+    .replace(/[^A-Z0-9]+/g, '_')
+    .replace(/^_+|_+$/g, '');
   return clean || fallback;
 }
 
 function makeTimestamp() {
   const d = new Date();
   const pad = (n: number) => String(n).padStart(2, '0');
-  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;
+  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(
+    d.getMinutes(),
+  )}${pad(d.getSeconds())}`;
 }
 
 function buildFileName(data: any, ext: string) {
@@ -880,7 +954,9 @@ function toXml(obj: any, nodeName: string, indent?: number) {
   if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
   if (typeof obj !== 'object') return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
   if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
-  const children = Object.keys(obj).map((key) => toXml(obj[key], key, (indent || 0) + 1)).join('\n');
+  const children = Object.keys(obj)
+    .map((key) => toXml(obj[key], key, (indent || 0) + 1))
+    .join('\n');
   return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
 }
 
@@ -896,7 +972,7 @@ function downloadFile(name: string, content: string, mime: string) {
     a.remove();
     URL.revokeObjectURL(url);
     return true;
-  } catch {
+  } catch (e) { void e;
     return false;
   }
 }
@@ -911,7 +987,7 @@ async function saveDraft() {
         id: lastSavedId || null,
         data,
         sourceFormat: 'manual',
-        kind: data.certidao.tipo_registro || 'nascimento'
+        kind: data.certidao.tipo_registro || 'nascimento',
       });
       if (res && res.id) lastSavedId = res.id;
     } else {
@@ -994,15 +1070,19 @@ function setupConfigModal() {
     updateBadge();
     close();
   });
-  modal.addEventListener('click', (e) => { if (e.target === modal) close(); });
+  modal.addEventListener('click', (e) => {
+    if (e.target === modal) close();
+  });
 
   const tabs = Array.from(document.querySelectorAll('.tab-btn')) as HTMLElement[];
   const panes = Array.from(document.querySelectorAll('.tab-pane')) as HTMLElement[];
   const activateTab = (id: string) => {
-    tabs.forEach(btn => btn.classList.toggle('active', btn.dataset.tab === id));
-    panes.forEach(pane => pane.classList.toggle('active', pane.id === id));
+    tabs.forEach((btn) => btn.classList.toggle('active', btn.dataset.tab === id));
+    panes.forEach((pane) => pane.classList.toggle('active', pane.id === id));
   };
-  tabs.forEach(btn => btn.addEventListener('click', () => activateTab(btn.dataset.tab || 'tab-pastas')));
+  tabs.forEach((btn) =>
+    btn.addEventListener('click', () => activateTab(btn.dataset.tab || 'tab-pastas')),
+  );
 
   document.getElementById('pick-json')?.addEventListener('click', async () => {
     if (!window.api || !window.api.pickJsonDir) return;
@@ -1026,8 +1106,12 @@ function setupActions() {
   document.getElementById('btn-save')?.addEventListener('click', saveDraft);
   document.getElementById('btn-json')?.addEventListener('click', () => generateFile('json'));
   document.getElementById('btn-xml')?.addEventListener('click', () => generateFile('xml'));
-  document.getElementById('btn-nascimento')?.addEventListener('click', () => setTipoRegistro('nascimento'));
-  document.getElementById('btn-casamento')?.addEventListener('click', () => setTipoRegistro('casamento'));
+  document
+    .getElementById('btn-nascimento')
+    ?.addEventListener('click', () => setTipoRegistro('nascimento'));
+  document
+    .getElementById('btn-casamento')
+    ?.addEventListener('click', () => setTipoRegistro('casamento'));
   document.getElementById('btn-obito')?.addEventListener('click', () => setTipoRegistro('obito'));
 }
 
@@ -1053,7 +1137,7 @@ function getSafeStorage() {
     window.localStorage.setItem(key, '1');
     window.localStorage.removeItem(key);
     return window.localStorage;
-  } catch {
+  } catch (e) { void e;
     return null;
   }
 }
@@ -1085,7 +1169,7 @@ class PlaceAutoFillCache {
     const patterns = [
       /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s*\/\s*([A-Za-z]{2})\s*$/u,
       /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s*-\s*([A-Za-z]{2})\s*$/u,
-      /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s+([A-Za-z]{2})\s*$/u
+      /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s+([A-Za-z]{2})\s*$/u,
     ];
     for (const re of patterns) {
       const match = trimmed.match(re);
@@ -1108,7 +1192,9 @@ class PlaceAutoFillCache {
         const entryKey = entry.key || '';
         const contains = entryKey.includes(key) || key.includes(entryKey);
         const intersect = queryTokens.filter((t) => entry.tokens.includes(t)).length;
-        const tokenScore = queryTokens.length ? intersect / Math.max(queryTokens.length, entry.tokens.length) : 0;
+        const tokenScore = queryTokens.length
+          ? intersect / Math.max(queryTokens.length, entry.tokens.length)
+          : 0;
         let score = tokenScore + (contains ? 0.6 : 0);
         if (entryKey === key) score += 0.4;
         return { entry, score };
@@ -1132,7 +1218,8 @@ class PlaceAutoFillCache {
     const ufBirth = trimValue(args.ufBirth).toUpperCase();
     if (!placeText || !cityBirth || !ufBirth) return;
     const extracted = this.extractCityUfFromText(placeText);
-    const normalizedPlaceText = trimValue(args.normalizedPlaceText) || this.normalizePlaceText(placeText, extracted);
+    const normalizedPlaceText =
+      trimValue(args.normalizedPlaceText) || this.normalizePlaceText(placeText, extracted);
     const keyBase = this.stripCityUfSuffix(placeText);
     const key = this.normalize(keyBase || placeText);
     if (!key) return;
@@ -1142,7 +1229,7 @@ class PlaceAutoFillCache {
       cityBirth,
       ufBirth,
       updatedAt: Date.now(),
-      tokens: this.tokenize(key)
+      tokens: this.tokenize(key),
     };
     const cityNatural = trimValue(args.cityNatural);
     const ufNatural = trimValue(args.ufNatural).toUpperCase();
@@ -1174,11 +1261,14 @@ class PlaceAutoFillCache {
     const patterns = [
       /\s*[,;]?\s*[\p{L}][\p{L}\s.'-]{1,}\s*\/\s*[A-Za-z]{2}\s*$/u,
       /\s*[,;]?\s*[\p{L}][\p{L}\s.'-]{1,}\s*-\s*[A-Za-z]{2}\s*$/u,
-      /\s*[,;]?\s*[\p{L}][\p{L}\s.'-]{1,}\s+[A-Za-z]{2}\s*$/u
+      /\s*[,;]?\s*[\p{L}][\p{L}\s.'-]{1,}\s+[A-Za-z]{2}\s*$/u,
     ];
     for (const re of patterns) {
       if (re.test(clean)) {
-        return clean.replace(re, '').replace(/[,;\s-]+$/, '').trim();
+        return clean
+          .replace(re, '')
+          .replace(/[,;\s-]+$/, '')
+          .trim();
       }
     }
     return clean;
@@ -1201,7 +1291,7 @@ class PlaceAutoFillCache {
       const parsed = JSON.parse(raw);
       if (!parsed || parsed.v !== 1 || !parsed.entries) return { v: 1, entries: {} };
       return parsed;
-    } catch {
+    } catch (e) { void e;
       return { v: 1, entries: {} };
     }
   }
@@ -1211,7 +1301,7 @@ class PlaceAutoFillCache {
       try {
         this.storage.setItem(this.storageKey, JSON.stringify(data));
         return;
-      } catch {
+      } catch (e) { void e;
         this.memoryData = data;
         return;
       }
@@ -1220,25 +1310,35 @@ class PlaceAutoFillCache {
   }
 }
 
-const placeCache = new PlaceAutoFillCache({ storageKey: 'certidao.placeCache.v1', maxEntries: 200 });
+const placeCache = new PlaceAutoFillCache({
+  storageKey: 'certidao.placeCache.v1',
+  maxEntries: 200,
+});
 
 function recordPlaceMappingFromState(placeTextOverride?: string) {
   const placeText = trimValue(placeTextOverride || state.registro.local_nascimento);
   const cityBirth = trimValue(state.registro.municipio_nascimento);
   const ufBirth = trimValue(state.registro.uf_nascimento).toUpperCase();
   if (!placeText || !cityBirth || !ufBirth) return;
-  const cityNatural = state.ui.naturalidade_diferente ? trimValue(state.registro.municipio_naturalidade) : '';
-  const ufNatural = state.ui.naturalidade_diferente ? trimValue(state.registro.uf_naturalidade).toUpperCase() : '';
+  const cityNatural = state.ui.naturalidade_diferente
+    ? trimValue(state.registro.municipio_naturalidade)
+    : '';
+  const ufNatural = state.ui.naturalidade_diferente
+    ? trimValue(state.registro.uf_naturalidade).toUpperCase()
+    : '';
   placeCache.recordMapping({
     placeText,
     cityBirth,
     ufBirth,
     cityNatural,
-    ufNatural
+    ufNatural,
   });
 }
 
-function applyPlaceEntry(entry: PlaceCacheEntry, opts: { force?: boolean; setLocal?: boolean; allowNatural?: boolean } = {}) {
+function applyPlaceEntry(
+  entry: PlaceCacheEntry,
+  opts: { force?: boolean; setLocal?: boolean; allowNatural?: boolean } = {},
+) {
   if (!entry) return;
   if (opts.setLocal && entry.normalizedPlaceText) {
     setBoundValue('registro.local_nascimento', entry.normalizedPlaceText);
@@ -1252,7 +1352,7 @@ function applyPlaceEntry(entry: PlaceCacheEntry, opts: { force?: boolean; setLoc
     if (cityNatural || ufNatural) {
       naturalidadeMemo = {
         city: trimValue(state.registro.municipio_naturalidade),
-        uf: trimValue(state.registro.uf_naturalidade)
+        uf: trimValue(state.registro.uf_naturalidade),
       };
       naturalidadeEdited = true;
     }
@@ -1262,11 +1362,15 @@ function applyPlaceEntry(entry: PlaceCacheEntry, opts: { force?: boolean; setLoc
 
 function setupCache() {
   document.getElementById('cache-save')?.addEventListener('click', () => {
-    const desc = (document.getElementById('cache-desc') as HTMLInputElement | null)?.value.trim() || '';
-    const local = (document.getElementById('cache-local') as HTMLInputElement | null)?.value.trim() || '';
-    const cidade = (document.getElementById('cache-cidade') as HTMLInputElement | null)?.value.trim() || '';
+    const desc =
+      (document.getElementById('cache-desc') as HTMLInputElement | null)?.value.trim() || '';
+    const local =
+      (document.getElementById('cache-local') as HTMLInputElement | null)?.value.trim() || '';
+    const cidade =
+      (document.getElementById('cache-cidade') as HTMLInputElement | null)?.value.trim() || '';
     const uf = (document.getElementById('cache-uf') as HTMLInputElement | null)?.value.trim() || '';
-    const naturalidade = (document.getElementById('cache-nat') as HTMLInputElement | null)?.value.trim() || '';
+    const naturalidade =
+      (document.getElementById('cache-nat') as HTMLInputElement | null)?.value.trim() || '';
     const placeText = local || desc;
     if (!placeText || !cidade || !uf) return;
     placeCache.recordMapping({
@@ -1274,12 +1378,13 @@ function setupCache() {
       normalizedPlaceText: local || placeText,
       cityBirth: cidade,
       ufBirth: uf,
-      cityNatural: naturalidade
+      cityNatural: naturalidade,
     });
     setStatus('Padrao salvo');
   });
   document.getElementById('cache-apply')?.addEventListener('click', () => {
-    const desc = (document.getElementById('cache-desc') as HTMLInputElement | null)?.value.trim() || '';
+    const desc =
+      (document.getElementById('cache-desc') as HTMLInputElement | null)?.value.trim() || '';
     if (!desc) return;
     const entry = placeCache.getSuggestions(desc, 1)[0];
     if (!entry) {
@@ -1300,11 +1405,21 @@ function debounce<T extends (...args: any[]) => void>(fn: T, delay: number) {
 }
 
 function setupLocalAutofill() {
-  const localEl = document.querySelector('[data-bind="registro.local_nascimento"]') as HTMLInputElement | null;
-  const cityEl = document.querySelector('[data-bind="registro.municipio_nascimento"]') as HTMLInputElement | null;
-  const ufEl = document.querySelector('[data-bind="registro.uf_nascimento"]') as HTMLSelectElement | null;
-  const natCityEl = document.querySelector('[data-bind="registro.municipio_naturalidade"]') as HTMLInputElement | null;
-  const natUfEl = document.querySelector('[data-bind="registro.uf_naturalidade"]') as HTMLSelectElement | null;
+  const localEl = document.querySelector(
+    '[data-bind="registro.local_nascimento"]',
+  ) as HTMLInputElement | null;
+  const cityEl = document.querySelector(
+    '[data-bind="registro.municipio_nascimento"]',
+  ) as HTMLInputElement | null;
+  const ufEl = document.querySelector(
+    '[data-bind="registro.uf_nascimento"]',
+  ) as HTMLSelectElement | null;
+  const natCityEl = document.querySelector(
+    '[data-bind="registro.municipio_naturalidade"]',
+  ) as HTMLInputElement | null;
+  const natUfEl = document.querySelector(
+    '[data-bind="registro.uf_naturalidade"]',
+  ) as HTMLSelectElement | null;
   const suggestionWrap = document.getElementById('local-suggestion');
   const suggestionText = document.getElementById('local-suggestion-text');
   const suggestionApply = document.getElementById('local-suggestion-apply');
@@ -1470,7 +1585,9 @@ function setupCartorioTyping() {
       e.preventDefault();
       buffer += key;
       if (timer) window.clearTimeout(timer);
-      timer = window.setTimeout(() => { buffer = ''; }, 700);
+      timer = window.setTimeout(() => {
+        buffer = '';
+      }, 700);
 
       const match = Array.from(select.options).find((opt) => opt.value === buffer);
       if (match) {
@@ -1490,8 +1607,9 @@ function setupCartorioTyping() {
 }
 
 // --- Máscaras simples de data e hora (só números) ---
-function digitsOnly(v: string) { return (v || '').replace(/\D/g, ''); }
-
+function digitsOnly(v: string) {
+  return (v || '').replace(/\D/g, '');
+}
 
 function setupBeforeUnload() {
   window.addEventListener('beforeunload', (e) => {
@@ -1504,7 +1622,7 @@ function setupBeforeUnload() {
 async function bootstrap() {
   syncInputsFromState();
   bindInputs();
-//  setupMasks();
+  //  setupMasks();
   setupActions();
   setupConfigModal();
   setupCache();
@@ -1516,7 +1634,9 @@ async function bootstrap() {
   await refreshConfig();
   const cpfEl = document.getElementById('cpf') as HTMLInputElement | null;
   if (cpfEl) validateLiveField('registro.cpf', cpfEl);
-  const cartorioEl = document.querySelector('[data-bind="ui.cartorio_oficio"]') as HTMLSelectElement | null;
+  const cartorioEl = document.querySelector(
+    '[data-bind="ui.cartorio_oficio"]',
+  ) as HTMLSelectElement | null;
   if (cartorioEl) validateLiveField('ui.cartorio_oficio', cartorioEl);
   updateDirty();
 }
diff --git a/segundas-vias/src/ui/setup-ui.js b/segundas-vias/src/ui/setup-ui.js
index bfecb03..2285a9f 100644
--- a/segundas-vias/src/ui/setup-ui.js
+++ b/segundas-vias/src/ui/setup-ui.js
@@ -2,111 +2,117 @@
 // These functions are exported but NOT invoked automatically to avoid double-binding while the original bundle is still injected.
 
 export function setStatus(text, isError) {
-  const el = document.getElementById("statusText");
+  const el = document.getElementById('statusText');
   if (!el) return;
   el.textContent = text;
-  el.style.color = isError ? "#dc2626" : "#64748b";
+  el.style.color = isError ? '#dc2626' : '#64748b';
   clearTimeout(el._timer);
   el._timer = setTimeout(() => {
-    el.textContent = "Pronto";
-    el.style.color = "#64748b";
+    el.textContent = 'Pronto';
+    el.style.color = '#64748b';
   }, 2000);
 }
 
 export function setDirty(flag) {
   try {
-    const btn = document.getElementById("btn-save");
+    const btn = document.getElementById('btn-save');
     if (!btn) return;
-    btn.classList.toggle("dirty", !!flag);
-  } catch (e) {
-  }
+    btn.classList.toggle('dirty', !!flag);
+  } catch (e) { /* ignore */ }
 }
 
 export function updateTipoButtons(state) {
-  const tipo = (state && state.certidao && state.certidao.tipo_registro) || "nascimento";
+  const tipo = (state && state.certidao && state.certidao.tipo_registro) || 'nascimento';
   const input = document.querySelector('[data-bind="certidao.tipo_registro"]');
   if (input) input.value = tipo;
-  const casamentoWrap = document.getElementById("casamento-tipo-wrap");
-  if (casamentoWrap) casamentoWrap.style.display = tipo === "casamento" ? "flex" : "none";
+  const casamentoWrap = document.getElementById('casamento-tipo-wrap');
+  if (casamentoWrap) casamentoWrap.style.display = tipo === 'casamento' ? 'flex' : 'none';
 }
 
 export function updateSexoOutros(state) {
   const sexo = state && state.registro && state.registro.sexo;
-  const wrap = document.getElementById("sexo-outros-wrap");
-  const input = document.getElementById("sexo-outros");
+  const wrap = document.getElementById('sexo-outros-wrap');
+  const input = document.getElementById('sexo-outros');
   if (!wrap || !input) return;
-  const enabled = sexo === "outros";
-  wrap.style.display = enabled ? "flex" : "none";
+  const enabled = sexo === 'outros';
+  wrap.style.display = enabled ? 'flex' : 'none';
   if (!enabled) {
-    input.value = "";
-    if (state && state.registro) state.registro.sexo_outros = "";
+    input.value = '';
+    if (state && state.registro) state.registro.sexo_outros = '';
   }
 }
 
 export function updateIgnoreFields(state) {
   const dnIgn = !!(state && state.registro && state.registro.data_nascimento_ignorada);
   const hnIgn = !!(state && state.registro && state.registro.hora_nascimento_ignorada);
-  const dn = document.getElementById("dn");
-  const hn = document.getElementById("hn");
+  const dn = document.getElementById('dn');
+  const hn = document.getElementById('hn');
   if (dn) {
     dn.disabled = dnIgn;
     if (dnIgn) {
-      dn.value = "";
-      if (state && state.registro) state.registro.data_nascimento = "";
+      dn.value = '';
+      if (state && state.registro) state.registro.data_nascimento = '';
     }
   }
   if (hn) {
     hn.disabled = hnIgn;
     if (hnIgn) {
-      hn.value = "";
-      if (state && state.registro) state.registro.hora_nascimento = "";
+      hn.value = '';
+      if (state && state.registro) state.registro.hora_nascimento = '';
     }
   }
 }
 
 export function setupConfigPanel(registerHandlers) {
   // registerHandlers: { onPickJson?, onPickXml?, onSave? }
-  const NAME_MODE_KEY = "ui.nameValidationMode";
-  const NAME_MODE = localStorage.getItem(NAME_MODE_KEY) || "input";
+  const NAME_MODE_KEY = 'ui.nameValidationMode';
+  const NAME_MODE = localStorage.getItem(NAME_MODE_KEY) || 'input';
   const radios = Array.from(document.querySelectorAll('input[name="name-validation-mode"]'));
   radios.forEach((radio) => {
     radio.checked = radio.value === NAME_MODE;
   });
-  const saveBtn = document.getElementById("config-save");
-  if (saveBtn) saveBtn.addEventListener("click", () => {
-    const selected = document.querySelector('input[name="name-validation-mode"]:checked');
-    if (selected && selected.value) {
-      localStorage.setItem(NAME_MODE_KEY, selected.value);
-    }
-    if (registerHandlers && typeof registerHandlers.onSave === 'function') registerHandlers.onSave();
-  });
-  const pickJson = document.getElementById("pick-json");
-  if (pickJson && registerHandlers && typeof registerHandlers.onPickJson === 'function') pickJson.addEventListener('click', registerHandlers.onPickJson);
-  const pickXml = document.getElementById("pick-xml");
-  if (pickXml && registerHandlers && typeof registerHandlers.onPickXml === 'function') pickXml.addEventListener('click', registerHandlers.onPickXml);
+  const saveBtn = document.getElementById('config-save');
+  if (saveBtn)
+    saveBtn.addEventListener('click', () => {
+      const selected = document.querySelector('input[name="name-validation-mode"]:checked');
+      if (selected && selected.value) {
+        localStorage.setItem(NAME_MODE_KEY, selected.value);
+      }
+      if (registerHandlers && typeof registerHandlers.onSave === 'function')
+        registerHandlers.onSave();
+    });
+  const pickJson = document.getElementById('pick-json');
+  if (pickJson && registerHandlers && typeof registerHandlers.onPickJson === 'function')
+    pickJson.addEventListener('click', registerHandlers.onPickJson);
+  const pickXml = document.getElementById('pick-xml');
+  if (pickXml && registerHandlers && typeof registerHandlers.onPickXml === 'function')
+    pickXml.addEventListener('click', registerHandlers.onPickXml);
 }
 
 export function setupActions(handlers = {}) {
-  const btnSave = document.getElementById("btn-save");
-  const btnJson = document.getElementById("btn-json");
-  const btnXml = document.getElementById("btn-xml");
-  if (btnSave && typeof handlers.onSave === 'function') btnSave.addEventListener('click', handlers.onSave);
-  if (btnJson && typeof handlers.onJson === 'function') btnJson.addEventListener('click', handlers.onJson);
-  if (btnXml && typeof handlers.onXml === 'function') btnXml.addEventListener('click', handlers.onXml);
+  const btnSave = document.getElementById('btn-save');
+  const btnJson = document.getElementById('btn-json');
+  const btnXml = document.getElementById('btn-xml');
+  if (btnSave && typeof handlers.onSave === 'function')
+    btnSave.addEventListener('click', handlers.onSave);
+  if (btnJson && typeof handlers.onJson === 'function')
+    btnJson.addEventListener('click', handlers.onJson);
+  if (btnXml && typeof handlers.onXml === 'function')
+    btnXml.addEventListener('click', handlers.onXml);
 }
 
 export function setupNaturalidadeToggle(state, onChange) {
-  const toggle = document.getElementById("naturalidade-diferente");
+  const toggle = document.getElementById('naturalidade-diferente');
   if (!toggle) return;
-  toggle.addEventListener("change", () => {
+  toggle.addEventListener('change', () => {
     if (state && state.ui) state.ui.naturalidade_diferente = !!toggle.checked;
     if (typeof onChange === 'function') onChange(true);
   });
 }
 
 export function setupShortcuts(saveHandler) {
-  window.addEventListener("keydown", (e) => {
-    if (e.ctrlKey && e.key.toLowerCase() === "b") {
+  window.addEventListener('keydown', (e) => {
+    if (e.ctrlKey && e.key.toLowerCase() === 'b') {
       e.preventDefault();
       if (typeof saveHandler === 'function') saveHandler();
     }
@@ -114,15 +120,15 @@ export function setupShortcuts(saveHandler) {
 }
 
 export function setupActSelect() {
-  const select = document.getElementById("ato-select");
+  const select = document.getElementById('ato-select');
   if (!select) return;
-  select.value = select.value || "nascimento";
-  select.addEventListener("change", () => {
+  select.value = select.value || 'nascimento';
+  select.addEventListener('change', () => {
     const value = select.value;
     const map = {
-      nascimento: "./Nascimento2Via.html",
-      casamento: "./Casamento2Via.html",
-      obito: "./Obito2Via.html"
+      nascimento: './Nascimento2Via.html',
+      casamento: './Casamento2Via.html',
+      obito: './Obito2Via.html',
     };
     const next = map[value];
     if (next) window.location.href = next;
@@ -130,35 +136,35 @@ export function setupActSelect() {
 }
 
 export function setupCartorioTyping() {
-  const select = document.getElementById("cartorio-oficio");
+  const select = document.getElementById('cartorio-oficio');
   if (!select) return;
-  let buffer = "";
+  let buffer = '';
   let timer = null;
   const clearBuffer = () => {
-    buffer = "";
+    buffer = '';
     if (timer) clearTimeout(timer);
     timer = null;
   };
-  select.addEventListener("keydown", (e) => {
+  select.addEventListener('keydown', (e) => {
     if (e.altKey || e.ctrlKey || e.metaKey) return;
     const key = e.key;
-    if (key >= "0" && key <= "9") {
+    if (key >= '0' && key <= '9') {
       e.preventDefault();
       buffer += key;
       if (timer) clearTimeout(timer);
       timer = setTimeout(() => {
-        buffer = "";
+        buffer = '';
       }, 700);
       const match = Array.from(select.options).find((opt) => opt.value === buffer);
       if (match) {
         select.value = buffer;
-        select.dispatchEvent(new Event("input", { bubbles: true }));
-        select.dispatchEvent(new Event("change", { bubbles: true }));
+        select.dispatchEvent(new Event('input', { bubbles: true }));
+        select.dispatchEvent(new Event('change', { bubbles: true }));
         clearBuffer();
       }
       return;
     }
-    if (key === "Backspace") {
+    if (key === 'Backspace') {
       e.preventDefault();
       buffer = buffer.slice(0, -1);
       return;
@@ -203,7 +209,10 @@ export function setupNameValidation(validator, opts = {}) {
       input.classList.toggle('invalid', suspect);
       if (field) field.classList.toggle('name-suspect', suspect);
       if (suspect) {
-        const toastFn = typeof window.showToast === 'function' ? window.showToast : (m) => console.warn('toast:', m);
+        const toastFn =
+          typeof window.showToast === 'function'
+            ? window.showToast
+            : (m) => console.warn('toast:', m);
         toastFn('Nome possivelmente incorreto');
         if (!timers.has(input)) {
           const id = setInterval(() => {
@@ -227,19 +236,21 @@ export function setupNameValidation(validator, opts = {}) {
     });
   });
   if (validator && validator.ready && typeof validator.ready.then === 'function') {
-    validator.ready.then(() => {
-      fields.forEach((input) => {
-        const field = input.closest('.field');
-        if (field) field.classList.remove('name-suspect');
-        const value = input.value || '';
-        if (value) {
-          const result = validator.check(value);
-          const suspect = !!result.suspicious;
-          input.classList.toggle('invalid', suspect);
-          if (field) field.classList.toggle('name-suspect', suspect);
-        }
-      });
-    }).catch(() => {});
+    validator.ready
+      .then(() => {
+        fields.forEach((input) => {
+          const field = input.closest('.field');
+          if (field) field.classList.remove('name-suspect');
+          const value = input.value || '';
+          if (value) {
+            const result = validator.check(value);
+            const suspect = !!result.suspicious;
+            input.classList.toggle('invalid', suspect);
+            if (field) field.classList.toggle('name-suspect', suspect);
+          }
+        });
+      })
+      .catch(() => {});
   }
 }
 
@@ -249,7 +260,6 @@ export function setupBeforeUnload(isDirtyFn) {
       if (!isDirtyFn || !isDirtyFn()) return;
       e.preventDefault();
       e.returnValue = '';
-    } catch (err) {
-    }
+    } catch (err) { /* ignore */ }
   });
 }
diff --git a/segundas-vias/src/utils.js b/segundas-vias/src/utils.js
index 9b51697..cd521f6 100644
--- a/segundas-vias/src/utils.js
+++ b/segundas-vias/src/utils.js
@@ -1,15 +1,22 @@
 // Funções utilitárias
 
 export function escapeXml(str) {
-  return String(str || "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
+  return String(str || '')
+    .replace(/&/g, '&amp;')
+    .replace(/</g, '&lt;')
+    .replace(/>/g, '&gt;')
+    .replace(/"/g, '&quot;')
+    .replace(/'/g, '&apos;');
 }
 
 export function toXml(obj, nodeName, indent = 0) {
-  const pad = "  ".repeat(indent);
+  const pad = '  '.repeat(indent);
   if (obj === null || obj === void 0) return `${pad}<${nodeName}></${nodeName}>`;
-  if (typeof obj !== "object") return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
-  if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join("\n");
-  const children = Object.keys(obj).map((key) => toXml(obj[key], key, indent + 1)).join("\n");
+  if (typeof obj !== 'object') return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
+  if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
+  const children = Object.keys(obj)
+    .map((key) => toXml(obj[key], key, indent + 1))
+    .join('\n');
   return `${pad}<${nodeName}>
 ${children}
 ${pad}</${nodeName}>`;
@@ -17,10 +24,12 @@ ${pad}</${nodeName}>`;
 
 export function makeTimestamp() {
   const d = new Date();
-  const pad = (n) => String(n).padStart(2, "0");
-  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;
+  const pad = (n) => String(n).padStart(2, '0');
+  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(
+    d.getMinutes(),
+  )}${pad(d.getSeconds())}`;
 }
 
 export function buildFileName(ext) {
   return `CASAMENTO_${makeTimestamp()}.${ext}`;
-}
\ No newline at end of file
+}
diff --git a/segundas-vias/tests/MANUAL-TESTS.md b/segundas-vias/tests/MANUAL-TESTS.md
index e4d7ebd..299d824 100644
--- a/segundas-vias/tests/MANUAL-TESTS.md
+++ b/segundas-vias/tests/MANUAL-TESTS.md
@@ -1,21 +1,25 @@
 Manual equivalence test checklist
 
-1) Antes - versão atual
+1. Antes - versão atual
+
 - Abra a página (local) que carrega `ui/js/casamento.bundle.js`.
 - Preencha o formulário com os três cenários: nascimento, casamento, obito (salvar 3 estados JSON usando botão JSON).
 - Salve os três JSONs em `tests/baseline/`
 
-2) Depois - versão modular/empacotada
+2. Depois - versão modular/empacotada
+
 - Execute `npm run build` para gerar `dist/app.bundle.js`.
 - Substitua (temporariamente) o script na página para apontar para `dist/app.bundle.js` (ou atualize servidor para servir `dist/app.bundle.js`).
 - Abra a mesma página, repita os mesmos preenchimentos e exporte os 3 JSONs.
 - Compare `diff -u` (ou deepEqual via Node script) entre `tests/baseline` e `tests/after`.
 
 Critérios de aceite:
+
 - JSONs estritamente idênticos (ou apenas diferenças de espaçamento/ordem de chaves).
 - Matrícula (matricula, matricula_dv) idênticos.
 - Máscaras/validadores: comportamento idêntico.
 - Importação CSV via papaparse: ainda funciona.
 
 Notas:
+
 - Este é um teste manual guiado. Posteriormente podemos automatizar com Playwright ou Puppeteer.
diff --git a/segundas-vias/tools/import_names.js b/segundas-vias/tools/import_names.js
index 6907d0b..d98b4af 100644
--- a/segundas-vias/tools/import_names.js
+++ b/segundas-vias/tools/import_names.js
@@ -32,9 +32,20 @@ function extractNamesFromRow(row) {
   const keys = Object.keys(row || {});
   for (const k of keys) {
     const lk = k.toLowerCase();
-    if (lk.includes('nome') || lk.includes('name') || lk.includes('nome_completo') || lk.includes('full_name')) {
+    if (
+      lk.includes('nome') ||
+      lk.includes('name') ||
+      lk.includes('nome_completo') ||
+      lk.includes('full_name')
+    ) {
       const v = row[k];
-      if (v) names.push(...String(v).split(/[,;|\t\/\\]+/).map(s=>s.trim()).filter(Boolean));
+      if (v)
+        names.push(
+          ...String(v)
+            .split(/[,;|\t\/\\]+/)
+            .map((s) => s.trim())
+            .filter(Boolean),
+        );
     }
   }
   return names;
@@ -74,27 +85,30 @@ function main() {
     fs.mkdirSync(path.join(__dirname, '..', 'public', 'data'), { recursive: true });
   }
 
-  const outNames = Array.from(nameSet).sort((a,b)=>a.localeCompare(b,'pt'));
-  const outCsv = outNames.map(n => ({ first_name: n })).map(r => Papa.unparse([r], { header: false })).join('\n');
+  const outNames = Array.from(nameSet).sort((a, b) => a.localeCompare(b, 'pt'));
+  const outCsv = outNames
+    .map((n) => ({ first_name: n }))
+    .map((r) => Papa.unparse([r], { header: false }))
+    .join('\n');
   // produce a simple CSV header
-  const final = 'first_name\nalternative_names\ngroup_name\n'.split('\n').slice(0,1).join('\n');
+  const final = 'first_name\nalternative_names\ngroup_name\n'.split('\n').slice(0, 1).join('\n');
   // We'll write a simple one-column CSV (first_name)
   const csvText = 'first_name\n' + outNames.join('\n') + '\n';
-    const outDir = path.join(__dirname, '..', 'public', 'data');
-    const csvPath = path.join(outDir, 'nomes.csv');
-    fs.writeFileSync(csvPath, csvText, 'utf8');
-    console.log('Wrote', csvPath, 'with', outNames.length, 'entries');
+  const outDir = path.join(__dirname, '..', 'public', 'data');
+  const csvPath = path.join(outDir, 'nomes.csv');
+  fs.writeFileSync(csvPath, csvText, 'utf8');
+  console.log('Wrote', csvPath, 'with', outNames.length, 'entries');
 
-    // generate gz compressed version
-    try {
-      const zlib = require('zlib');
-      const gz = zlib.gzipSync(Buffer.from(csvText, 'utf8'));
-      const gzPath = path.join(outDir, 'nomes.csv.gz');
-      fs.writeFileSync(gzPath, gz);
-      console.log('Wrote compressed', gzPath);
-    } catch (e) {
-      console.warn('Failed to compress nomes.csv:', e.message);
-    }
+  // generate gz compressed version
+  try {
+    const zlib = require('zlib');
+    const gz = zlib.gzipSync(Buffer.from(csvText, 'utf8'));
+    const gzPath = path.join(outDir, 'nomes.csv.gz');
+    fs.writeFileSync(gzPath, gz);
+    console.log('Wrote compressed', gzPath);
+  } catch (e) {
+    console.warn('Failed to compress nomes.csv:', e.message);
+  }
 }
 
 main();
diff --git a/segundas-vias/tsconfig.json b/segundas-vias/tsconfig.json
index 8599486..41a89a5 100644
--- a/segundas-vias/tsconfig.json
+++ b/segundas-vias/tsconfig.json
@@ -11,6 +11,6 @@
     "noEmitOnError": false,
     "strict": false
   },
-  "include": ["src/ui.ts", "src/ui.css", "src/ui.html"],
-  "exclude": ["src/main.ts", "src/preload.ts", "src/db.ts", "node_modules", "dist-src"]
+  "include": ["src/**/*"],
+  "exclude": ["node_modules", "dist-src"]
 }
diff --git a/segundas-vias/ui/index.html b/segundas-vias/ui/index.html
index b0d8c2c..aafcd86 100644
--- a/segundas-vias/ui/index.html
+++ b/segundas-vias/ui/index.html
@@ -1,89 +1,129 @@
 <!DOCTYPE html>
 <html lang="pt-BR">
-<head>
-  <meta charset="UTF-8" />
-  <meta name="viewport" content="width=device-width, initial-scale=1" />
-  <title>2 via - atos</title>
-  <link rel="stylesheet" href="./styles/base.css" />
-  <link rel="stylesheet" href="./styles/layout.css" />
-  <link rel="stylesheet" href="./styles/components.css" />
-</head>
-<body>
-  <div class="container">
-    <div class="toolbar">
-      <div class="toolbar-left">
-        <div class="app-title">2ª Via de Certidão</div>
-      </div>
-      <div class="toolbar-right">
-        <span class="status">Escolha o ato</span>
-        <a id="btn-config" class="btn secondary" href="#" onclick="openConfig();return false;">Config</a>
-      </div>
-    </div>
-
-    <div class="card">
-      <div class="subTitle">Atos</div>
-      <div class="grid">
-        <div class="campo span-4">
-          <label class="label">Nascimento</label>
-          <button class="btn secondary" type="button" onclick="openPage('./pages/Nascimento2Via.html')">Abrir</button>
+  <head>
+    <meta charset="UTF-8" />
+    <meta name="viewport" content="width=device-width, initial-scale=1" />
+    <title>2 via - atos</title>
+    <link rel="stylesheet" href="./styles/base.css" />
+    <link rel="stylesheet" href="./styles/layout.css" />
+    <link rel="stylesheet" href="./styles/components.css" />
+  </head>
+  <body>
+    <div class="container">
+      <div class="toolbar">
+        <div class="toolbar-left">
+          <div class="app-title">2ª Via de Certidão</div>
         </div>
-        <div class="campo span-4">
-          <label class="label">Casamento</label>
-          <button class="btn secondary" type="button" onclick="openPage('./pages/Casamento2Via.html')">Abrir</button>
+        <div class="toolbar-right">
+          <span class="status">Escolha o ato</span>
+          <a id="btn-config" class="btn secondary" href="#" onclick="openConfig();return false;"
+            >Config</a
+          >
         </div>
-        <div class="campo span-4">
-          <label class="label">Obito</label>
-          <button class="btn secondary" type="button" onclick="openPage('./pages/Obito2Via.html')">Abrir</button>
+      </div>
+
+      <div class="card">
+        <div class="subTitle">Atos</div>
+        <div class="grid">
+          <div class="campo span-4">
+            <label class="label">Nascimento</label>
+            <button
+              class="btn secondary"
+              type="button"
+              onclick="openPage('./pages/Nascimento2Via.html')"
+            >
+              Abrir
+            </button>
+          </div>
+          <div class="campo span-4">
+            <label class="label">Casamento</label>
+            <button
+              class="btn secondary"
+              type="button"
+              onclick="openPage('./pages/Casamento2Via.html')"
+            >
+              Abrir
+            </button>
+          </div>
+          <div class="campo span-4">
+            <label class="label">Obito</label>
+            <button
+              class="btn secondary"
+              type="button"
+              onclick="openPage('./pages/Obito2Via.html')"
+            >
+              Abrir
+            </button>
+          </div>
         </div>
       </div>
     </div>
-  </div>
 
-  <!-- Config Modal -->
-  <div id="config-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.4); align-items:center; justify-content:center;">
-    <div style="background:#fff; padding:18px; width:320px; margin:auto; border-radius:6px; box-shadow:0 6px 24px rgba(0,0,0,0.2);">
-      <h3 style="margin-top:0">Configurações</h3>
-      <div style="margin:10px 0">
-        <label><input type="checkbox" id="open-new-tab"/> Abrir páginas em nova aba</label>
-      </div>
-      <div style="text-align:right; margin-top:12px">
-        <button class="btn secondary" type="button" onclick="closeConfig()">Fechar</button>
-        <button class="btn" type="button" onclick="saveConfig()" style="margin-left:8px">Salvar</button>
+    <!-- Config Modal -->
+    <div
+      id="config-modal"
+      style="
+        display: none;
+        position: fixed;
+        inset: 0;
+        background: rgba(0, 0, 0, 0.4);
+        align-items: center;
+        justify-content: center;
+      "
+    >
+      <div
+        style="
+          background: #fff;
+          padding: 18px;
+          width: 320px;
+          margin: auto;
+          border-radius: 6px;
+          box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2);
+        "
+      >
+        <h3 style="margin-top: 0">Configurações</h3>
+        <div style="margin: 10px 0">
+          <label><input type="checkbox" id="open-new-tab" /> Abrir páginas em nova aba</label>
+        </div>
+        <div style="text-align: right; margin-top: 12px">
+          <button class="btn secondary" type="button" onclick="closeConfig()">Fechar</button>
+          <button class="btn" type="button" onclick="saveConfig()" style="margin-left: 8px">
+            Salvar
+          </button>
+        </div>
       </div>
     </div>
-  </div>
 
-  <script>
-    (function(){
-      const key = 'ui.openInNewTab';
-      function openPage(path){
-        const openInNewTab = localStorage.getItem(key) === 'true';
-        if(openInNewTab){
-          window.open(path, '_blank');
-        } else {
-          window.location.href = path;
+    <script>
+      (function () {
+        const key = 'ui.openInNewTab';
+        function openPage(path) {
+          const openInNewTab = localStorage.getItem(key) === 'true';
+          if (openInNewTab) {
+            window.open(path, '_blank');
+          } else {
+            window.location.href = path;
+          }
         }
-      }
-      window.openPage = openPage;
-
-      window.openConfig = function(){
-        const modal = document.getElementById('config-modal');
-        const cb = document.getElementById('open-new-tab');
-        cb.checked = localStorage.getItem(key) === 'true';
-        modal.style.display = 'flex';
-      };
+        window.openPage = openPage;
 
-      window.closeConfig = function(){
-        document.getElementById('config-modal').style.display = 'none';
-      };
+        window.openConfig = function () {
+          const modal = document.getElementById('config-modal');
+          const cb = document.getElementById('open-new-tab');
+          cb.checked = localStorage.getItem(key) === 'true';
+          modal.style.display = 'flex';
+        };
 
-      window.saveConfig = function(){
-        const cb = document.getElementById('open-new-tab');
-        localStorage.setItem(key, cb.checked ? 'true' : 'false');
-        closeConfig();
-      };
-    })();
-  </script>
+        window.closeConfig = function () {
+          document.getElementById('config-modal').style.display = 'none';
+        };
 
-</body>
+        window.saveConfig = function () {
+          const cb = document.getElementById('open-new-tab');
+          localStorage.setItem(key, cb.checked ? 'true' : 'false');
+          closeConfig();
+        };
+      })();
+    </script>
+  </body>
 </html>
diff --git a/segundas-vias/ui/pages/Base2ViaLayout.html b/segundas-vias/ui/pages/Base2ViaLayout.html
index 593c93e..c4d74ba 100644
--- a/segundas-vias/ui/pages/Base2ViaLayout.html
+++ b/segundas-vias/ui/pages/Base2ViaLayout.html
@@ -1,63 +1,63 @@
 <!DOCTYPE html>
 <html lang="pt-BR">
-<head>
-  <meta charset="UTF-8" />
-  <meta name="viewport" content="width=device-width, initial-scale=1" />
-  <title>Base 2 via</title>
-  <link rel="stylesheet" href="../styles/base.css" />
-  <link rel="stylesheet" href="../styles/layout.css" />
-  <link rel="stylesheet" href="../styles/components.css" />
-</head>
-<body>
-  <div class="container">
-    <div class="toolbar">
-      <div class="toolbar-left">
-        <div class="app-title">2ª Via de Certidão</div>
-        <div class="ato-picker">
-          <label class="label" for="ato-select">Ato</label>
-          <select id="ato-select" class="ato-select">
-            <option value="nascimento">Nascimento</option>
-            <option value="casamento">Casamento</option>
-            <option value="obito">Obito</option>
-          </select>
+  <head>
+    <meta charset="UTF-8" />
+    <meta name="viewport" content="width=device-width, initial-scale=1" />
+    <title>Base 2 via</title>
+    <link rel="stylesheet" href="../styles/base.css" />
+    <link rel="stylesheet" href="../styles/layout.css" />
+    <link rel="stylesheet" href="../styles/components.css" />
+  </head>
+  <body>
+    <div class="container">
+      <div class="toolbar">
+        <div class="toolbar-left">
+          <div class="app-title">2ª Via de Certidão</div>
+          <div class="ato-picker">
+            <label class="label" for="ato-select">Ato</label>
+            <select id="ato-select" class="ato-select">
+              <option value="nascimento">Nascimento</option>
+              <option value="casamento">Casamento</option>
+              <option value="obito">Obito</option>
+            </select>
+          </div>
+        </div>
+        <div class="toolbar-right">
+          <button id="drawer-toggle" class="btn secondary">Painel</button>
+          <span id="statusText" class="status">Pronto</span>
         </div>
       </div>
-      <div class="toolbar-right">
-        <button id="drawer-toggle" class="btn secondary">Painel</button>
-        <span id="statusText" class="status">Pronto</span>
-      </div>
-    </div>
-
-    <!-- CONTEUDO DO ATO AQUI -->
-  </div>
 
-  <div id="drawer" class="drawer">
-    <div class="drawer-header">
-      <div class="drawer-title">Painel</div>
-      <button id="drawer-close" class="btn tiny secondary" type="button">Fechar</button>
+      <!-- CONTEUDO DO ATO AQUI -->
     </div>
-    <div class="drawer-body">
-      <div class="tabbar">
-        <button class="tab-btn active" data-tab="tab-config">Configuracoes</button>
-        <button class="tab-btn" data-tab="tab-json">JSON</button>
-        <button class="tab-btn" data-tab="tab-xml">XML</button>
-        <button class="tab-btn" data-tab="tab-debug">Debug</button>
-      </div>
-      <div id="tab-config" class="tab-pane active">
-        <!-- CONFIG AQUI -->
-      </div>
-      <div id="tab-json" class="tab-pane">
-        <!-- JSON AQUI -->
-      </div>
-      <div id="tab-xml" class="tab-pane">
-        <!-- XML AQUI -->
+
+    <div id="drawer" class="drawer">
+      <div class="drawer-header">
+        <div class="drawer-title">Painel</div>
+        <button id="drawer-close" class="btn tiny secondary" type="button">Fechar</button>
       </div>
-      <div id="tab-debug" class="tab-pane">
-        <!-- DEBUG AQUI -->
+      <div class="drawer-body">
+        <div class="tabbar">
+          <button class="tab-btn active" data-tab="tab-config">Configuracoes</button>
+          <button class="tab-btn" data-tab="tab-json">JSON</button>
+          <button class="tab-btn" data-tab="tab-xml">XML</button>
+          <button class="tab-btn" data-tab="tab-debug">Debug</button>
+        </div>
+        <div id="tab-config" class="tab-pane active">
+          <!-- CONFIG AQUI -->
+        </div>
+        <div id="tab-json" class="tab-pane">
+          <!-- JSON AQUI -->
+        </div>
+        <div id="tab-xml" class="tab-pane">
+          <!-- XML AQUI -->
+        </div>
+        <div id="tab-debug" class="tab-pane">
+          <!-- DEBUG AQUI -->
+        </div>
       </div>
     </div>
-  </div>
 
-  <!-- SCRIPT DO ATO AQUI -->
-</body>
+    <!-- SCRIPT DO ATO AQUI -->
+  </body>
 </html>
diff --git a/segundas-vias/ui/styles/base.css b/segundas-vias/ui/styles/base.css
index 08d360f..c96e639 100644
--- a/segundas-vias/ui/styles/base.css
+++ b/segundas-vias/ui/styles/base.css
@@ -1,4 +1,4 @@
-:root{
+:root {
   --gap: 8px;
   --radius: 10px;
   --border: #d6dde8;
@@ -15,12 +15,13 @@
   --labelFont: 11px;
 }
 
-*{ box-sizing: border-box; }
+* {
+  box-sizing: border-box;
+}
 
-body{
+body {
   margin: 0;
   background: #eef2f7;
   color: var(--text);
-  font-family: "Trebuchet MS", Tahoma, sans-serif;
+  font-family: 'Trebuchet MS', Tahoma, sans-serif;
 }
-
diff --git a/segundas-vias/ui/styles/components.css b/segundas-vias/ui/styles/components.css
index e5312a7..be0b5e4 100644
--- a/segundas-vias/ui/styles/components.css
+++ b/segundas-vias/ui/styles/components.css
@@ -1,4 +1,4 @@
-.toolbar{
+.toolbar {
   position: sticky;
   top: 0;
   background: var(--bg);
@@ -11,18 +11,18 @@
   justify-content: space-between;
   z-index: 10;
 }
-.app-title{
+.app-title {
   font-weight: 800;
   font-size: 13px;
   letter-spacing: 0.2px;
   color: #1f2937;
 }
-.ato-picker{
+.ato-picker {
   display: inline-flex;
   align-items: center;
   gap: 6px;
 }
-.ato-select{
+.ato-select {
   height: 28px;
   border: 1px solid var(--border);
   border-radius: 8px;
@@ -31,7 +31,7 @@
   background: #fff;
   color: var(--text);
 }
-.action-panel{
+.action-panel {
   margin-top: 10px;
   background: var(--bg);
   border: 1px solid var(--border);
@@ -44,7 +44,7 @@
   flex-wrap: wrap;
 }
 
-.drawer{
+.drawer {
   position: fixed;
   right: 12px;
   bottom: 12px;
@@ -62,12 +62,12 @@
   transition: transform 0.2s ease, opacity 0.2s ease;
   z-index: 60;
 }
-.drawer.open{
+.drawer.open {
   transform: translateY(0);
   opacity: 1;
   pointer-events: auto;
 }
-.drawer-header{
+.drawer-header {
   display: flex;
   align-items: center;
   justify-content: space-between;
@@ -75,19 +75,28 @@
   padding: 8px 10px;
   border-bottom: 1px solid var(--border);
 }
-.drawer-title{
+.drawer-title {
   font-weight: 700;
   font-size: 12px;
   color: #1f2937;
 }
-.drawer-body{
+.drawer-body {
   padding: 8px 10px;
   overflow: auto;
 }
-.toolbar-left{ display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
-.toolbar-right{ display: flex; gap: 8px; align-items: center; }
+.toolbar-left {
+  display: flex;
+  gap: 8px;
+  align-items: center;
+  flex-wrap: wrap;
+}
+.toolbar-right {
+  display: flex;
+  gap: 8px;
+  align-items: center;
+}
 
-.badge{
+.badge {
   display: inline-flex;
   align-items: center;
   padding: 4px 8px;
@@ -97,9 +106,12 @@
   font-size: 11px;
   color: #334155;
 }
-.status{ font-size: 11px; color: #64748b; }
+.status {
+  font-size: 11px;
+  color: #64748b;
+}
 
-.btn{
+.btn {
   border: 1px solid var(--border);
   background: linear-gradient(180deg, #3b82f6, #2563eb);
   color: #fff;
@@ -110,21 +122,37 @@
   font-size: 10px;
   transition: transform 0.08s ease;
 }
-a.btn{ text-decoration: none; }
-.btn.secondary{ background: #ffffff; color: var(--text); }
-.btn.save{ background: var(--ok); border-color: #15803d; }
-.btn.save.dirty{ background: var(--danger); border-color: #b91c1c; }
-.btn:hover{ transform: translateY(-1px); }
-.btn.tiny{ padding: 3px 6px; font-size: 10px; }
+a.btn {
+  text-decoration: none;
+}
+.btn.secondary {
+  background: #ffffff;
+  color: var(--text);
+}
+.btn.save {
+  background: var(--ok);
+  border-color: #15803d;
+}
+.btn.save.dirty {
+  background: var(--danger);
+  border-color: #b91c1c;
+}
+.btn:hover {
+  transform: translateY(-1px);
+}
+.btn.tiny {
+  padding: 3px 6px;
+  font-size: 10px;
+}
 /* disabled buttons */
-.btn[disabled]{
+.btn[disabled] {
   opacity: 0.6;
   cursor: not-allowed;
   transform: none;
 }
 
 /* hint error icon */
-.hint .icon{
+.hint .icon {
   display: inline-block;
   width: 14px;
   height: 14px;
@@ -135,20 +163,23 @@ a.btn{ text-decoration: none; }
 }
 
 /* screen-reader only (visually hidden but accessible) */
-.sr-only{
+.sr-only {
   position: absolute !important;
   width: 1px !important;
   height: 1px !important;
   padding: 0 !important;
   margin: -1px !important;
   overflow: hidden !important;
-  clip: rect(0,0,0,0) !important;
+  clip: rect(0, 0, 0, 0) !important;
   white-space: nowrap !important;
   border: 0 !important;
 }
 
-.type-group{ display: flex; gap: 6px; }
-.type-btn{
+.type-group {
+  display: flex;
+  gap: 6px;
+}
+.type-btn {
   border: 1px solid var(--border);
   background: #fff;
   color: var(--text);
@@ -158,47 +189,61 @@ a.btn{ text-decoration: none; }
   font-weight: 700;
   font-size: 11px;
 }
-.type-btn.active{ background: var(--accent); color: #fff; border-color: var(--accent2); }
-a.type-btn{ text-decoration: none; }
+.type-btn.active {
+  background: var(--accent);
+  color: #fff;
+  border-color: var(--accent2);
+}
+a.type-btn {
+  text-decoration: none;
+}
 
-.field label{
+.field label {
   font-size: var(--labelFont);
   color: var(--label);
   line-height: 1.1;
 }
-.campo{
+.campo {
   display: flex;
   flex-direction: column;
   gap: 4px;
 }
-.label{
+.label {
   font-size: var(--labelFont);
   color: var(--label);
   line-height: 1.1;
 }
-.subTitulo{
+.subTitulo {
   font-weight: 700;
   font-size: 12px;
   margin-bottom: 8px;
   color: #334155;
 }
-.obrigatorio{
+.obrigatorio {
   color: #ef4444;
   font-weight: 800;
   margin-left: 2px;
 }
 
-.field.name-field, .campo.name-field, .name-field{ position: relative; }
+.field.name-field,
+.campo.name-field,
+.name-field {
+  position: relative;
+}
 
-.label-row{
+.label-row {
   display: flex;
   align-items: center;
   justify-content: space-between;
   gap: 8px;
 }
 
-.field input, .field select, .field textarea,
-.campo input, .campo select, .campo textarea{
+.field input,
+.field select,
+.field textarea,
+.campo input,
+.campo select,
+.campo textarea {
   height: var(--h);
   border: 1px solid var(--border);
   border-radius: 8px;
@@ -208,18 +253,45 @@ a.type-btn{ text-decoration: none; }
   width: 100%;
   background: #fff;
 }
-.input-locked{
+.input-locked {
   background: #f1f5f9 !important;
   color: #94a3b8 !important;
 }
-.field textarea, .campo textarea{ height: auto; min-height: 70px; resize: vertical; }
-.field input.invalid, .field select.invalid, .field textarea.invalid,
-.campo input.invalid, .campo select.invalid, .campo textarea.invalid{ border-color: var(--danger); }
-.field--error input, .field--error select, .field--error textarea{ border-color: var(--danger); }
-.field--empty input, .field--empty select, .field--empty textarea{ border-color: #fca5a5; }
-.field--invalid input, .field--invalid select, .field--invalid textarea{ border-color: var(--danger); }
-.field--warn input, .field--warn select, .field--warn textarea{ border-color: #f59e0b; }
-.hint{
+.field textarea,
+.campo textarea {
+  height: auto;
+  min-height: 70px;
+  resize: vertical;
+}
+.field input.invalid,
+.field select.invalid,
+.field textarea.invalid,
+.campo input.invalid,
+.campo select.invalid,
+.campo textarea.invalid {
+  border-color: var(--danger);
+}
+.field--error input,
+.field--error select,
+.field--error textarea {
+  border-color: var(--danger);
+}
+.field--empty input,
+.field--empty select,
+.field--empty textarea {
+  border-color: #fca5a5;
+}
+.field--invalid input,
+.field--invalid select,
+.field--invalid textarea {
+  border-color: var(--danger);
+}
+.field--warn input,
+.field--warn select,
+.field--warn textarea {
+  border-color: #f59e0b;
+}
+.hint {
   display: none;
   font-size: 10px;
   color: #b91c1c;
@@ -230,9 +302,11 @@ a.type-btn{ text-decoration: none; }
   margin-top: 3px;
   align-self: flex-start;
 }
-.hint.visible{ display: inline-flex; }
+.hint.visible {
+  display: inline-flex;
+}
 
-.name-suggest{
+.name-suggest {
   position: absolute;
   right: 6px;
   top: 100%;
@@ -247,11 +321,11 @@ a.type-btn{ text-decoration: none; }
   display: none;
   z-index: 5;
 }
-.name-field.name-suspect .name-suggest{
+.name-field.name-suspect .name-suggest {
   display: inline-flex;
 }
 
-#toast-container{
+#toast-container {
   position: fixed;
   right: 12px;
   bottom: 12px;
@@ -260,7 +334,7 @@ a.type-btn{ text-decoration: none; }
   gap: 6px;
   z-index: 999;
 }
-.toast{
+.toast {
   background: rgba(15, 23, 42, 0.92);
   color: #fff;
   font-size: 11px;
@@ -270,37 +344,42 @@ a.type-btn{ text-decoration: none; }
   transform: translateY(6px);
   transition: opacity 0.2s ease, transform 0.2s ease;
 }
-.toast.show{
+.toast.show {
   opacity: 1;
   transform: translateY(0);
 }
 
-.checkboxField{
+.checkboxField {
   display: inline-flex;
   flex-direction: row;
   align-items: center;
   gap: 6px;
   padding-top: 16px;
 }
-.checkboxField input[type="checkbox"]{ width: 14px; height: 14px; }
+.checkboxField input[type='checkbox'] {
+  width: 14px;
+  height: 14px;
+}
 
-.row .field.nat-toggle{
+.row .field.nat-toggle {
   flex: 1 0 100%;
   padding-top: 0;
   margin-top: 2px;
 }
 
-.field.fixed{ align-items: flex-start; }
+.field.fixed {
+  align-items: flex-start;
+}
 
 /* trava checkbox contra regra global de input */
-#cpf-sem{
+#cpf-sem {
   width: 14px !important;
   height: 14px !important;
   display: inline-block !important;
   margin: 0 !important;
 }
 
-.inline-check{
+.inline-check {
   display: inline-flex;
   align-items: center;
   gap: 6px;
@@ -308,41 +387,67 @@ a.type-btn{ text-decoration: none; }
   font-size: 12px;
   color: var(--label);
 }
-.inline-check input[type="checkbox"]{
+.inline-check input[type='checkbox'] {
   width: 14px !important;
   height: 14px !important;
   display: inline-block !important;
   margin: 0 !important;
 }
 
-.field-line{
+.field-line {
   display: flex;
   align-items: center;
   gap: 10px;
 }
 
-.req{
+.req {
   color: #ef4444;
   font-weight: 800;
   margin-left: 2px;
 }
 
-.w-cpf{ max-width: 120px; }
-.w-date{ max-width: 90px; }
-.w-time{ max-width: 55px; }
-.w-uf{ max-width: 60px; }
-.w-sexo{ max-width: 110px; }
-.w-cartorio{ max-width: 60px; }
-.w-num{ max-width: 120px; }
-.w-livro{ max-width: 60px; }
-.w-folha{ max-width: 45px; }
-.w-termo{ max-width: 70px; }
-.w-matricula{ max-width: 240px; }
-.w-municipio{ max-width: 160px; }
+.w-cpf {
+  max-width: 120px;
+}
+.w-date {
+  max-width: 90px;
+}
+.w-time {
+  max-width: 55px;
+}
+.w-uf {
+  max-width: 60px;
+}
+.w-sexo {
+  max-width: 110px;
+}
+.w-cartorio {
+  max-width: 60px;
+}
+.w-num {
+  max-width: 120px;
+}
+.w-livro {
+  max-width: 60px;
+}
+.w-folha {
+  max-width: 45px;
+}
+.w-termo {
+  max-width: 70px;
+}
+.w-matricula {
+  max-width: 240px;
+}
+.w-municipio {
+  max-width: 160px;
+}
 
-.filiacao-grid .w-uf{ max-width: none; }
+.filiacao-grid .w-uf {
+  max-width: none;
+}
 
-.link-btn{
+.link-btn {
   border: 0;
   background: none;
   padding: 0;
@@ -351,9 +456,11 @@ a.type-btn{ text-decoration: none; }
   cursor: pointer;
   text-decoration: underline;
 }
-.link-btn:hover{ color: var(--accent2); }
+.link-btn:hover {
+  color: var(--accent2);
+}
 
-.suggestion-bar{
+.suggestion-bar {
   display: none;
   align-items: center;
   gap: 8px;
@@ -361,54 +468,88 @@ a.type-btn{ text-decoration: none; }
   font-size: 11px;
   color: #475569;
 }
-.suggestion-bar.visible{ display: flex; }
-.suggestion-text{
+.suggestion-bar.visible {
+  display: flex;
+}
+.suggestion-text {
   padding: 2px 6px;
   border-radius: 6px;
   border: 1px dashed var(--border);
   background: var(--bg2);
 }
 
-.naturalidade-extra{ display: none; }
-.naturalidade-extra.visible{ display: flex; }
+.naturalidade-extra {
+  display: none;
+}
+.naturalidade-extra.visible {
+  display: flex;
+}
 
-#sexo-outros-wrap{ display: none; }
+#sexo-outros-wrap {
+  display: none;
+}
 
-details.collapse{
+details.collapse {
   margin-top: 10px;
   background: var(--bg2);
   border: 1px dashed var(--border);
   border-radius: var(--radius);
   padding: 10px;
 }
-details.collapse summary{
+details.collapse summary {
   cursor: pointer;
   font-weight: 700;
   font-size: 12px;
   color: #334155;
 }
 
-.subcard{
+.subcard {
   margin-top: 10px;
   border: 1px solid var(--border);
   border-radius: 10px;
   background: #fff;
   padding: 10px;
 }
-.subTitle{
+.subTitle {
   font-weight: 700;
   font-size: 12px;
   margin-bottom: 8px;
   color: #334155;
 }
 
-.modal{ position: fixed; inset: 0; background: rgba(15, 23, 42, 0.45); display: flex; align-items: center; justify-content: center; z-index: 50; }
-.modal.hidden{ display: none; }
-.modal.hidden:target{ display: flex; }
-.modal-card{ width: min(560px, 92vw); background: #fff; border: 1px solid var(--border); border-radius: 10px; padding: 12px; }
-.modal-title{ font-size: 13px; font-weight: 700; margin-bottom: 8px; }
-.tabbar{ display: flex; gap: 6px; margin-bottom: 8px; }
-.tab-btn{
+.modal {
+  position: fixed;
+  inset: 0;
+  background: rgba(15, 23, 42, 0.45);
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  z-index: 50;
+}
+.modal.hidden {
+  display: none;
+}
+.modal.hidden:target {
+  display: flex;
+}
+.modal-card {
+  width: min(560px, 92vw);
+  background: #fff;
+  border: 1px solid var(--border);
+  border-radius: 10px;
+  padding: 12px;
+}
+.modal-title {
+  font-size: 13px;
+  font-weight: 700;
+  margin-bottom: 8px;
+}
+.tabbar {
+  display: flex;
+  gap: 6px;
+  margin-bottom: 8px;
+}
+.tab-btn {
   border: 1px solid var(--border);
   background: var(--bg2);
   color: var(--text);
@@ -418,80 +559,151 @@ details.collapse summary{
   font-size: 11px;
   font-weight: 700;
 }
-.tab-btn.active{ background: var(--accent); color: #fff; border-color: var(--accent2); }
-.tab-pane{ display: none; }
-.tab-pane.active{ display: block; }
+.tab-btn.active {
+  background: var(--accent);
+  color: #fff;
+  border-color: var(--accent2);
+}
+.tab-pane {
+  display: none;
+}
+.tab-pane.active {
+  display: block;
+}
 
-.muted{
-  color:#64748b;
-  font-size:12px;
+.muted {
+  color: #64748b;
+  font-size: 12px;
 }
 
-.admin-row{
-  display:flex;
-  align-items:center;
-  justify-content:space-between;
-  gap:8px;
-  padding:6px 0;
-  border-bottom:1px dashed #e2e8f0;
+.admin-row {
+  display: flex;
+  align-items: center;
+  justify-content: space-between;
+  gap: 8px;
+  padding: 6px 0;
+  border-bottom: 1px dashed #e2e8f0;
 }
 
-.admin-row:last-child{
-  border-bottom:none;
+.admin-row:last-child {
+  border-bottom: none;
 }
 
 /* Card style more rounded for visual parity across atos */
-.card{
+.card {
   background: #fff;
   border: 1px solid var(--border);
   border-radius: 14px;
   padding: 12px;
-  box-shadow: 0 6px 18px rgba(15,23,42,0.06);
+  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.06);
 }
 
 /* Make legacy table-based forms behave more like the grid-based forms
    Convert label cells to stack above inputs and make inputs full-width. */
-.card table{ width:100%; border-collapse: separate; border-spacing: 8px 6px; }
-.card table tr{ vertical-align: top; }
-.card table td{ padding: 2px 6px; vertical-align: top; }
-.card table td .label, .card table td.label{ display: block; margin-bottom: 6px; color: var(--label); font-size: 12px; }
-.card table input, .card table select, .card table textarea{ width: 100%; box-sizing: border-box; border-radius: 8px; padding: 6px 8px; font-size: 13px; }
-.card table textarea{ min-height: 70px; resize: vertical; }
-.card table .obrigatorio{ margin-left: 6px; }
+.card table {
+  width: 100%;
+  border-collapse: separate;
+  border-spacing: 8px 6px;
+}
+.card table tr {
+  vertical-align: top;
+}
+.card table td {
+  padding: 2px 6px;
+  vertical-align: top;
+}
+.card table td .label,
+.card table td.label {
+  display: block;
+  margin-bottom: 6px;
+  color: var(--label);
+  font-size: 12px;
+}
+.card table input,
+.card table select,
+.card table textarea {
+  width: 100%;
+  box-sizing: border-box;
+  border-radius: 8px;
+  padding: 6px 8px;
+  font-size: 13px;
+}
+.card table textarea {
+  min-height: 70px;
+  resize: vertical;
+}
+.card table .obrigatorio {
+  margin-left: 6px;
+}
 
 /* make compact rows behave well on small screens */
-@media (max-width: 880px){
-  .card table, .card table tbody, .card table tr{ display: block; width: 100%; }
-  .card table tr{ margin-bottom: 10px; }
-  .card table td{ display: block; width: 100%; }
+@media (max-width: 880px) {
+  .card table,
+  .card table tbody,
+  .card table tr {
+    display: block;
+    width: 100%;
+  }
+  .card table tr {
+    margin-bottom: 10px;
+  }
+  .card table td {
+    display: block;
+    width: 100%;
+  }
 }
 
 /* Drawer position variants */
-.drawer.position-top{ left: 50%; transform: translate(-50%, 0); top: 12px; right: auto; bottom: auto; width: min(900px, 96vw); }
-.drawer.position-bottom-right{ right: 12px; bottom: 12px; left: auto; top: auto; transform: translateY(110%); }
-.drawer.position-side{ right: 12px; top: 80px; bottom: 12px; width: min(520px, 38vw); transform: translateX(0); }
+.drawer.position-top {
+  left: 50%;
+  transform: translate(-50%, 0);
+  top: 12px;
+  right: auto;
+  bottom: auto;
+  width: min(900px, 96vw);
+}
+.drawer.position-bottom-right {
+  right: 12px;
+  bottom: 12px;
+  left: auto;
+  top: auto;
+  transform: translateY(110%);
+}
+.drawer.position-side {
+  right: 12px;
+  top: 80px;
+  bottom: 12px;
+  width: min(520px, 38vw);
+  transform: translateX(0);
+}
 
 /* Editable default inputs look locked but clickable */
-.input-locked{ background: #f1f5f9 !important; color: #94a3b8 !important; cursor: pointer; }
-.input-locked.editing{ background: #fff !important; color: var(--text) !important; cursor: text; }
-
+.input-locked {
+  background: #f1f5f9 !important;
+  color: #94a3b8 !important;
+  cursor: pointer;
+}
+.input-locked.editing {
+  background: #fff !important;
+  color: var(--text) !important;
+  cursor: text;
+}
 
 /* Section / divider used to create a continuous flow between blocks (like Nascimento)
    Use a thin, subtle line and modest spacing to avoid a 'heavy' look. */
-.section{
+.section {
   padding: 6px 0;
 }
-.section-divider{
+.section-divider {
   height: 0; /* no extra height, only the border line */
   border-bottom: 1px solid rgba(15, 23, 42, 0.06);
   margin: 10px 0;
 }
 
 /* keyboard focus emphasis for accessible keyboard navigation */
-.focus-emphasis{
-  box-shadow: 0 0 0 3px rgba(59,130,246,0.12) !important;
+.focus-emphasis {
+  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.12) !important;
   border-color: #2563eb !important;
   outline: none !important;
   transition: box-shadow 0.14s ease, border-color 0.14s ease;
 }
-
diff --git a/segundas-vias/ui/styles/layout.css b/segundas-vias/ui/styles/layout.css
index 026a567..b6a9ac0 100644
--- a/segundas-vias/ui/styles/layout.css
+++ b/segundas-vias/ui/styles/layout.css
@@ -1,10 +1,10 @@
-.container{
+.container {
   max-width: 600px;
   margin: 0 auto;
   padding: 12px;
 }
 
-.card{
+.card {
   margin-top: 10px;
   border: 1px solid var(--border);
   border-radius: var(--radius);
@@ -12,95 +12,128 @@
   padding: 10px;
 }
 
-.cardTitle{
+.cardTitle {
   font-weight: 700;
   font-size: 13px;
   margin-bottom: 8px;
 }
 
-.grid{
+.grid {
   display: grid;
   grid-template-columns: repeat(12, 1fr);
   gap: var(--gap);
   align-items: end;
 }
 
-.row{
+.row {
   display: flex;
   flex-wrap: wrap;
   gap: var(--gap);
   align-items: flex-end;
   margin-bottom: 8px;
 }
-.row:last-child{ margin-bottom: 0; }
+.row:last-child {
+  margin-bottom: 0;
+}
 
-.field{
+.field {
   display: flex;
   flex-direction: column;
   gap: 6px;
   min-width: 0;
 }
 
-.row .field{ flex: 0 0 auto; }
-.row .field.grow{ flex: 1 1 auto; min-width: 120px; }
+.row .field {
+  flex: 0 0 auto;
+}
+.row .field.grow {
+  flex: 1 1 auto;
+  min-width: 120px;
+}
 
-.span-1{ grid-column: span 1; }
-.span-2{ grid-column: span 2; }
-.span-3{ grid-column: span 3; }
-.span-4{ grid-column: span 4; }
-.span-5{ grid-column: span 5; }
-.span-6{ grid-column: span 6; }
-.span-7{ grid-column: span 7; }
-.span-8{ grid-column: span 8; }
-.span-9{ grid-column: span 9; }
-.span-12{ grid-column: 1 / -1; }
+.span-1 {
+  grid-column: span 1;
+}
+.span-2 {
+  grid-column: span 2;
+}
+.span-3 {
+  grid-column: span 3;
+}
+.span-4 {
+  grid-column: span 4;
+}
+.span-5 {
+  grid-column: span 5;
+}
+.span-6 {
+  grid-column: span 6;
+}
+.span-7 {
+  grid-column: span 7;
+}
+.span-8 {
+  grid-column: span 8;
+}
+.span-9 {
+  grid-column: span 9;
+}
+.span-12 {
+  grid-column: 1 / -1;
+}
 
-.section{
+.section {
   border: 0;
   padding: 0;
   margin: 12px 0;
 }
 
-.section-divider{
+.section-divider {
   height: 1px;
   background: rgba(15, 23, 42, 0.08);
   margin: 12px 0;
 }
 
 /* Filiação compacta (mãe/pai em 1 linha, avós em 1 linha) */
-.filiacao-grid{
+.filiacao-grid {
   display: grid;
   grid-template-columns: minmax(200px, 1fr) 60px minmax(180px, 1fr);
   gap: 6px;
   align-items: end;
 }
 
-.filiacao-avos{
+.filiacao-avos {
   display: grid;
   grid-template-columns: repeat(2, minmax(180px, 1fr));
   gap: 6px;
   margin-top: 4px;
 }
 
-.filiacao-split{
+.filiacao-split {
   height: 1px;
   background: rgba(15, 23, 42, 0.06);
   margin: 6px 0;
 }
 
 /* Local de nascimento "grande" */
-.w-local-wide{
+.w-local-wide {
   flex: 1 1 320px;
   min-width: 260px;
 }
 
-.row .field.w-local-wide{
+.row .field.w-local-wide {
   flex: 1 1 320px;
 }
 
-@media (max-width: 520px){
-  .filiacao-grid{ grid-template-columns: 1fr; }
-  .filiacao-avos{ grid-template-columns: 1fr; }
-  .w-local-wide{ flex-basis: 100%; min-width: 0; }
+@media (max-width: 520px) {
+  .filiacao-grid {
+    grid-template-columns: 1fr;
+  }
+  .filiacao-avos {
+    grid-template-columns: 1fr;
+  }
+  .w-local-wide {
+    flex-basis: 100%;
+    min-width: 0;
+  }
 }
-
diff --git a/segundas-vias/ui/ts/acts/casamento/casamento.ts b/segundas-vias/ui/ts/acts/casamento/casamento.ts
index da7bce7..5c54ee3 100644
--- a/segundas-vias/ui/ts/acts/casamento/casamento.ts
+++ b/segundas-vias/ui/ts/acts/casamento/casamento.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { mapperHtmlToJson } from './mapperHtmlToJson.js';
 import { normalizeDate, validateDateDetailed } from '../../shared/validators/date.js';
 import { normalizeCpf, isValidCpf } from '../../shared/validators/cpf.js';
@@ -7,8 +7,17 @@ import { getFieldState, applyFieldState } from '../../shared/ui/fieldState.js';
 import { applyDateMask } from '../../shared/ui/mask.js';
 import { setupDrawer } from '../../shared/ui/drawer.js';
 import { collectInvalidFields } from '../../shared/ui/debug.js';
-import { buildMatriculaBase30, calcDv2Digits, buildMatriculaFinal } from '../../shared/matricula/cnj.js';
-import { setupPrimaryShortcut, setupNameCopy, setupAutoNationality, setupCasamentoDates } from '../../shared/productivity/index.js';
+import {
+  buildMatriculaBase30,
+  calcDv2Digits,
+  buildMatriculaFinal,
+} from '../../shared/matricula/cnj.js';
+import {
+  setupPrimaryShortcut,
+  setupNameCopy,
+  setupAutoNationality,
+  setupCasamentoDates,
+} from '../../shared/productivity/index.js';
 import { setupAdminPanel } from '../../shared/ui/admin.js';
 import { createNameValidator } from '../../nameValidator.js';
 
@@ -36,7 +45,7 @@ function setupSettingsPanelCasamento() {
     const newPos = select?.value || 'bottom-right';
     const newCpf = cbCpf?.checked ? 'true' : 'false';
     const newName = cbName?.checked ? 'true' : 'false';
-    const newInline = (document.getElementById('settings-panel-inline')?.checked) ? 'true' : 'false';
+    const newInline = document.getElementById('settings-panel-inline')?.checked ? 'true' : 'false';
     localStorage.setItem('ui.drawerPosition', newPos);
     localStorage.setItem('ui.enableCpfValidation', newCpf);
     localStorage.setItem('ui.enableNameValidation', newName);
@@ -92,7 +101,9 @@ function toXml(obj, nodeName, indent = 0) {
   if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
   if (typeof obj !== 'object') return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
   if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
-  const children = Object.keys(obj).map((key) => toXml(obj[key], key, indent + 1)).join('\n');
+  const children = Object.keys(obj)
+    .map((key) => toXml(obj[key], key, indent + 1))
+    .join('\n');
   return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
 }
 
@@ -108,7 +119,7 @@ function downloadFile(name, content, mime) {
     a.remove();
     URL.revokeObjectURL(url);
     return true;
-  } catch {
+  } catch (e) { void e;
     return false;
   }
 }
@@ -116,7 +127,9 @@ function downloadFile(name, content, mime) {
 function makeTimestamp() {
   const d = new Date();
   const pad = (n) => String(n).padStart(2, '0');
-  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;
+  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(
+    d.getMinutes(),
+  )}${pad(d.getSeconds())}`;
 }
 
 function buildFileName(ext) {
@@ -154,7 +167,9 @@ function showToast(message) {
   toast.className = 'toast';
   toast.textContent = message;
   container.appendChild(toast);
-  setTimeout(() => { toast.classList.add('show'); }, 10);
+  setTimeout(() => {
+    toast.classList.add('show');
+  }, 10);
   setTimeout(() => {
     toast.classList.remove('show');
     setTimeout(() => toast.remove(), 200);
@@ -169,7 +184,8 @@ function setupConfigPanel() {
   const cbInline = document.getElementById('settings-panel-inline');
   const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
   // default: floating drawer is primary (unchecked)
-  if (cbInline) cbInline.checked = panelInlineStored === null ? false : panelInlineStored === 'true';
+  if (cbInline)
+    cbInline.checked = panelInlineStored === null ? false : panelInlineStored === 'true';
 
   document.getElementById('config-save')?.addEventListener('click', () => {
     const selected = document.querySelector('input[name="name-validation-mode"]:checked');
@@ -177,7 +193,7 @@ function setupConfigPanel() {
       nameValidationMode = selected.value;
       localStorage.setItem(NAME_MODE_KEY, nameValidationMode);
     }
-    const newInline = (document.getElementById('settings-panel-inline')?.checked) ? 'true' : 'false';
+    const newInline = document.getElementById('settings-panel-inline')?.checked ? 'true' : 'false';
     localStorage.setItem(PANEL_INLINE_KEY, newInline);
   });
   setupAdminPanel();
@@ -219,21 +235,25 @@ function setFieldHint(field, message) {
   }
 }
 
-function clearFieldHint(field) { setFieldHint(field, ''); }
+function clearFieldHint(field) {
+  setFieldHint(field, '');
+}
 
 function setupFocusEmphasis() {
   document.addEventListener('focusin', (e) => {
     const el = e.target;
     if (!(el instanceof HTMLElement)) return;
-    if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) {
-      try { el.scrollIntoView({behavior:'smooth', block:'center'}); } catch {}
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) {
+      try {
+        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
+      } catch (e) { void e;}
       el.classList.add('focus-emphasis');
     }
   });
   document.addEventListener('focusout', (e) => {
     const el = e.target;
     if (!(el instanceof HTMLElement)) return;
-    if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
   });
 }
 
@@ -245,7 +265,7 @@ function setupActSelect() {
     const map = {
       nascimento: './Nascimento2Via.html',
       casamento: './Casamento2Via.html',
-      obito: './Obito2Via.html'
+      obito: './Obito2Via.html',
     };
     const next = map[select.value];
     if (next) window.location.href = next;
@@ -286,10 +306,11 @@ function updateDebug(data) {
     servico: '55',
     livro,
     folha,
-    termo
+    termo,
   });
   const dv = base ? calcDv2Digits(base) : '';
-  const final = base && dv ? base + dv : buildMatriculaFinal({ cns6: cns, ano, tipoAto, livro, folha, termo });
+  const final =
+    base && dv ? base + dv : buildMatriculaFinal({ cns6: cns, ano, tipoAto, livro, folha, termo });
 
   const baseEl = document.getElementById('debug-matricula-base');
   if (baseEl) baseEl.value = base || '';
@@ -411,18 +432,23 @@ function setup() {
   function triggerMatricula() {
     try {
       if (typeof window.updateMatricula === 'function') window.updateMatricula();
-    } catch {}
+    } catch (e) { void e;}
   }
 
   // Fluxo inteligente para data do casamento
   const elTipo = document.querySelector('select[name="tipoCasamento"]') as HTMLSelectElement | null;
   const elDataTermo = document.querySelector('input[name="dataTermo"]') as HTMLInputElement | null;
-  const elDataCasamento = document.querySelector('input[name="dataCasamento"]') as HTMLInputElement | null;
-  const elRegimeBens = document.querySelector('select[name="regimeBens"]') as HTMLSelectElement | null;
+  const elDataCasamento = document.querySelector(
+    'input[name="dataCasamento"]',
+  ) as HTMLInputElement | null;
+  const elRegimeBens = document.querySelector(
+    'select[name="regimeBens"]',
+  ) as HTMLSelectElement | null;
 
   function syncDataCasamentoState() {
     if (!elTipo || !elDataTermo || !elDataCasamento) return;
-    if (elTipo.value === '3') { // Religioso
+    if (elTipo.value === '3') {
+      // Religioso
       // Força SEMPRE a remoção do readonly
       elDataCasamento.removeAttribute('readonly');
       elDataCasamento.style.background = '';
@@ -450,12 +476,15 @@ function setup() {
 
   elTipo?.addEventListener('change', syncDataCasamentoState);
   // make tipo selection required
-  try { if (elTipo) elTipo.required = true; } catch (e) {}
+  try {
+    if (elTipo) elTipo.required = true;
+  } catch (e) { /* ignore */ }
   elDataTermo?.addEventListener('input', () => {
     if (elTipo.value !== '3') {
       elDataCasamento.value = elDataTermo.value;
       // start/stop enforcement according to tipo
-      if (elTipo.value === '3') startEnforceUnlock(); else stopEnforceUnlock();
+      if (elTipo.value === '3') startEnforceUnlock();
+      else stopEnforceUnlock();
       triggerMatricula();
     }
   });
@@ -472,7 +501,11 @@ function setup() {
     const tipoVal = elTipo?.value || '';
     if (tipoVal === '3') {
       // ensure unlocked
-      if (elDataCasamento.hasAttribute('readonly') || elDataCasamento.tabIndex === -1 || elDataCasamento.classList.contains('input-locked')) {
+      if (
+        elDataCasamento.hasAttribute('readonly') ||
+        elDataCasamento.tabIndex === -1 ||
+        elDataCasamento.classList.contains('input-locked')
+      ) {
         unlockDataCasamento();
       }
     } else {
@@ -495,7 +528,10 @@ function setup() {
   }
 
   function stopEnforceUnlock() {
-    if (enforceInterval != null) { clearInterval(enforceInterval); enforceInterval = null; }
+    if (enforceInterval != null) {
+      clearInterval(enforceInterval);
+      enforceInterval = null;
+    }
   }
 
   function lockDataCasamento() {
@@ -503,8 +539,9 @@ function setup() {
       elDataCasamento.setAttribute('readonly', 'readonly');
       elDataCasamento.tabIndex = -1;
       elDataCasamento.style.background = '#ddd';
-      if (!elDataCasamento.classList.contains('input-locked')) elDataCasamento.classList.add('input-locked');
-    } catch (e) {}
+      if (!elDataCasamento.classList.contains('input-locked'))
+        elDataCasamento.classList.add('input-locked');
+    } catch (e) { /* ignore */ }
   }
 
   function unlockDataCasamento() {
@@ -513,16 +550,21 @@ function setup() {
       elDataCasamento.tabIndex = 0;
       elDataCasamento.style.background = '';
       elDataCasamento.classList.remove('input-locked');
-    } catch (e) {}
+    } catch (e) { /* ignore */ }
   }
 
   // Observe matrícula field and fix 15th digit (index 14)
   function findMatriculaFieldLocal(): HTMLInputElement | null {
     const byId = document.getElementById('matricula') as HTMLInputElement | null;
     if (byId) return byId;
-    const byName = document.querySelector<HTMLInputElement>('input[name*="matricula"], input[id*="matricula"]');
+    const byName = document.querySelector<HTMLInputElement>(
+      'input[name*="matricula"], input[id*="matricula"]',
+    );
     if (byName) return byName;
-    const byDataBind = Array.from(document.querySelectorAll<HTMLInputElement>('input[data-bind]')).find(i => (i.getAttribute('data-bind')||'').toLowerCase().includes('matricula')) || null;
+    const byDataBind =
+      Array.from(document.querySelectorAll<HTMLInputElement>('input[data-bind]')).find((i) =>
+        (i.getAttribute('data-bind') || '').toLowerCase().includes('matricula'),
+      ) || null;
     return byDataBind;
   }
 
@@ -535,9 +577,12 @@ function setup() {
     const desired = tipo === '3' ? '3' : tipo === '2' ? '2' : null;
     if (!desired) return;
     if (val[14] === desired) return;
-    const newVal = val.slice(0,14) + desired + val.slice(15);
+    const newVal = val.slice(0, 14) + desired + val.slice(15);
     mEl.value = newVal;
-    try { mEl.dispatchEvent(new Event('input', { bubbles: true })); mEl.dispatchEvent(new Event('change', { bubbles: true })); } catch(e){}
+    try {
+      mEl.dispatchEvent(new Event('input', { bubbles: true }));
+      mEl.dispatchEvent(new Event('change', { bubbles: true }));
+    } catch (e) { /* ignore */ }
   }
 
   function observeMatricula() {
@@ -548,7 +593,7 @@ function setup() {
     try {
       const mo = new MutationObserver(() => fixMatriculaField(mEl));
       mo.observe(mEl, { attributes: true, attributeFilter: ['value'] });
-    } catch(e) {}
+    } catch (e) { /* ignore */ }
     // polling fallback
     let last = mEl.value;
     // If tipo not chosen, actively clear matricula and keep it blank until tipo chosen
@@ -559,14 +604,21 @@ function setup() {
         if ((elTipo?.value || '').trim() === '') {
           if (mEl.value) {
             mEl.value = '';
-            try { mEl.dispatchEvent(new Event('input', { bubbles: true })); } catch(e){}
+            try {
+              mEl.dispatchEvent(new Event('input', { bubbles: true }));
+            } catch (e) { /* ignore */ }
           }
           mEl.setAttribute('readonly', 'readonly');
           mEl.placeholder = 'Selecione o tipo antes';
         } else {
           // tipo chosen: stop blocking, allow fixing
-          if (blockInterval != null) { clearInterval(blockInterval); blockInterval = null; }
-          try { mEl.removeAttribute('readonly'); } catch(e){}
+          if (blockInterval != null) {
+            clearInterval(blockInterval);
+            blockInterval = null;
+          }
+          try {
+            mEl.removeAttribute('readonly');
+          } catch (e) { /* ignore */ }
           mEl.placeholder = '';
           fixMatriculaField(mEl);
         }
@@ -576,12 +628,15 @@ function setup() {
     if ((elTipo?.value || '').trim() === '') startBlockingUntilTipo();
     // general watch to detect changes
     setInterval(() => {
-      if (mEl.value !== last) { last = mEl.value; fixMatriculaField(mEl); }
+      if (mEl.value !== last) {
+        last = mEl.value;
+        fixMatriculaField(mEl);
+      }
     }, 500);
   }
 
   // Gera matrícula ao mudar cartório/livro/folha/termo
-  ['cartorio-oficio','matricula-livro','matricula-folha','matricula-termo'].forEach(id => {
+  ['cartorio-oficio', 'matricula-livro', 'matricula-folha', 'matricula-termo'].forEach((id) => {
     const el = document.getElementById(id) as HTMLInputElement | HTMLSelectElement | null;
     if (el) el.addEventListener('input', triggerMatricula);
     if (el) el.addEventListener('change', triggerMatricula);
@@ -591,7 +646,12 @@ function setup() {
   setTimeout(() => {
     syncDataCasamentoState();
     // start observing and enforcement
-    try { dataCasamentoObserver.observe(elDataCasamento, { attributes: true, attributeFilter: ['readonly','class','tabindex','disabled','style'] }); } catch(e){}
+    try {
+      dataCasamentoObserver.observe(elDataCasamento, {
+        attributes: true,
+        attributeFilter: ['readonly', 'class', 'tabindex', 'disabled', 'style'],
+      });
+    } catch (e) { /* ignore */ }
     observeMatricula();
   }, 50);
   document.getElementById('btn-json')?.addEventListener('click', (e) => {
@@ -608,7 +668,7 @@ function setup() {
   setupDrawer({ defaultTab: 'tab-config' });
   setupSettingsPanelCasamento();
   // arrange the panel (inline vs drawer) according to saved preference
-  (function(){
+  (function () {
     const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
     // default to floating drawer as primary (false) unless user previously chose inline
     const useInline = panelInlineStored === null ? false : panelInlineStored === 'true';
@@ -618,19 +678,26 @@ function setup() {
     if (!inline) return;
     if (useInline) {
       if (body) while (body.firstChild) inline.appendChild(body.firstChild);
-      const toggle = document.getElementById('drawer-toggle'); if (toggle) toggle.style.display = 'none';
+      const toggle = document.getElementById('drawer-toggle');
+      if (toggle) toggle.style.display = 'none';
     } else {
       // ensure drawer has body area and toggle visible
-      const toggle = document.getElementById('drawer-toggle'); if (toggle) toggle.style.display = 'inline-flex';
+      const toggle = document.getElementById('drawer-toggle');
+      if (toggle) toggle.style.display = 'inline-flex';
     }
     // wire toggle button
     const btn = document.getElementById('drawer-toggle');
-    if (btn) btn.addEventListener('click', () => {
-      const d = document.getElementById('drawer'); if (!d) return; d.classList.toggle('open');
-    });
+    if (btn)
+      btn.addEventListener('click', () => {
+        const d = document.getElementById('drawer');
+        if (!d) return;
+        d.classList.toggle('open');
+      });
   })();
   setupActSelect();
-  setupPrimaryShortcut(() => document.getElementById('btn-json') || document.getElementById('btn-xml'));
+  setupPrimaryShortcut(
+    () => document.getElementById('btn-json') || document.getElementById('btn-xml'),
+  );
   setupNameCopy('input[name="nomeSolteiro"]', 'input[name="nomeCasado"]');
   setupNameCopy('input[name="nomeSolteira"]', 'input[name="nomeCasada"]');
   setupAutoNationality('input[name="nacionalidadeNoivo"]', 'BRASILEIRO');
@@ -642,7 +709,6 @@ function setup() {
   updateActionButtons();
   document.getElementById('form-casamento')?.addEventListener('input', updateActionButtons);
   document.getElementById('form-casamento')?.addEventListener('change', updateActionButtons);
-  
 }
 
 function setupValidation() {
@@ -681,7 +747,7 @@ function setupValidation() {
         required,
         value: input.value,
         isValid: !res.invalid,
-        warn: res.warn
+        warn: res.warn,
       });
       applyFieldState(field, state);
     };
@@ -725,9 +791,12 @@ function canProceed() {
 function updateActionButtons() {
   const invalids = collectInvalidFields(document);
   const disabled = !!(invalids && invalids.length > 0);
-  const btnJson = document.getElementById('btn-json'); if (btnJson) btnJson.disabled = disabled;
-  const btnXml = document.getElementById('btn-xml'); if (btnXml) btnXml.disabled = disabled;
-  const statusEl = document.getElementById('statusText'); if (statusEl && !disabled) statusEl.textContent = 'Pronto';
+  const btnJson = document.getElementById('btn-json');
+  if (btnJson) btnJson.disabled = disabled;
+  const btnXml = document.getElementById('btn-xml');
+  if (btnXml) btnXml.disabled = disabled;
+  const statusEl = document.getElementById('statusText');
+  if (statusEl && !disabled) statusEl.textContent = 'Pronto';
 
   let summary = document.getElementById('form-error-summary');
   if (!summary) {
@@ -760,7 +829,9 @@ function updateActionButtons() {
     aria.setAttribute('role', 'status');
     document.body.appendChild(aria);
   }
-  aria.textContent = disabled ? `Existem ${invalids.length} campos inválidos: ${invalids.join(', ')}` : '';
+  aria.textContent = disabled
+    ? `Existem ${invalids.length} campos inválidos: ${invalids.join(', ')}`
+    : '';
 }
 
 // update matricula preview when tipoCasamento changes
diff --git a/segundas-vias/ui/ts/acts/casamento/mapperHtmlToJson.ts b/segundas-vias/ui/ts/acts/casamento/mapperHtmlToJson.ts
index 6d21974..56889b7 100644
--- a/segundas-vias/ui/ts/acts/casamento/mapperHtmlToJson.ts
+++ b/segundas-vias/ui/ts/acts/casamento/mapperHtmlToJson.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { normalizeDate } from '../../shared/validators/date.js';
 import { normalizeCpf, formatCpf, isValidCpf } from '../../shared/validators/cpf.js';
 import { normalizeText } from '../../shared/formatters/text.js';
@@ -39,7 +39,7 @@ function mapRegimeBens(value) {
     P: 'Comunhao parcial de bens',
     U: 'Comunhao universal de bens',
     A: 'Participacao final de bens nos aquestos',
-    I: 'Ignorado'
+    I: 'Ignorado',
   };
   return map[value] || '';
 }
@@ -51,7 +51,7 @@ function mapEstadoCivil(value) {
     DI: 'Divorciado(a)',
     SO: 'Solteiro(a)',
     VI: 'Viuvo(a)',
-    IG: 'Ignorado'
+    IG: 'Ignorado',
   };
   return map[value] || '';
 }
@@ -76,7 +76,7 @@ function extractSelo(text) {
   const codMatch = /(COD|CODIGO|C[OÓ]DIGO)[^0-9]*([0-9]+)/i.exec(obs);
   return {
     selo: seloMatch ? seloMatch[1] : '',
-    cod_selo: codMatch ? codMatch[2] : ''
+    cod_selo: codMatch ? codMatch[2] : '',
   };
 }
 
@@ -88,7 +88,7 @@ function buildRgItem(numero, data, orgao) {
     documento: doc,
     orgao_emissor: normalizeText(orgao),
     uf_emissao: 'IG',
-    data_emissao: normalizeDate(data)
+    data_emissao: normalizeDate(data),
   };
 }
 
@@ -110,12 +110,12 @@ export function mapperHtmlToJson(root = document) {
   const noivoRg = buildRgItem(
     getInputValue('numeroRGNoivo', root),
     getInputValue('dataExpedicaoRGNoivo', root),
-    getSelectText('idOrgaoExpedidorRGNoivo', root)
+    getSelectText('idOrgaoExpedidorRGNoivo', root),
   );
   const noivaRg = buildRgItem(
     getInputValue('numeroRGNoiva', root),
     getInputValue('dataExpedicaoRGNoiva', root),
-    getSelectText('idOrgaoExpedidorRGNoiva', root)
+    getSelectText('idOrgaoExpedidorRGNoiva', root),
   );
 
   const conjuges = [
@@ -132,8 +132,8 @@ export function mapperHtmlToJson(root = document) {
       uf_naturalidade: normalizeUf(getInputValue('ufNascimentoNoivo', root), { forceIg: true }),
       genitores: buildGenitores(
         getInputValue('nomePaiNoivo', root),
-        getInputValue('nomeMaeNoivo', root)
-      )
+        getInputValue('nomeMaeNoivo', root),
+      ),
     },
     {
       nome_atual_habilitacao: normalizeText(getInputValue('nomeSolteira', root)),
@@ -148,14 +148,14 @@ export function mapperHtmlToJson(root = document) {
       uf_naturalidade: normalizeUf(getInputValue('ufNascimentoNoiva', root), { forceIg: true }),
       genitores: buildGenitores(
         getInputValue('nomePaiNoiva', root),
-        getInputValue('nomeMaeNoiva', root)
-      )
-    }
+        getInputValue('nomeMaeNoiva', root),
+      ),
+    },
   ];
 
   const anotacoes = {
     primeiro_conjuge: [],
-    segundo_conjuge: []
+    segundo_conjuge: [],
   };
   if (noivoRg) anotacoes.primeiro_conjuge.push(noivoRg);
   if (noivaRg) anotacoes.segundo_conjuge.push(noivaRg);
@@ -171,7 +171,7 @@ export function mapperHtmlToJson(root = document) {
       cod_selo: codInput || seloInfo.cod_selo,
       modalidade,
       cota_emolumentos: cotaEmolumentos,
-      cota_emolumentos_isento: false
+      cota_emolumentos_isento: false,
     },
     registro: {
       conjuges,
@@ -180,7 +180,7 @@ export function mapperHtmlToJson(root = document) {
       regime_bens: mapRegimeBens(getSelectValue('regimeBens', root)),
       data_registro: normalizeDate(getInputValue('dataTermo', root)),
       averbacao_anotacao: normalizeText(observacao),
-      anotacoes_cadastro: anotacoes
-    }
+      anotacoes_cadastro: anotacoes,
+    },
   };
 }
diff --git a/segundas-vias/ui/ts/acts/nascimento/nascimento.ts b/segundas-vias/ui/ts/acts/nascimento/nascimento.ts
index 33e1f57..5a8ae60 100644
--- a/segundas-vias/ui/ts/acts/nascimento/nascimento.ts
+++ b/segundas-vias/ui/ts/acts/nascimento/nascimento.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import '../../events.js';
 import { mapperHtmlToJson } from '../obito/mapperHtmlToJson.js';
 import { normalizeDate, validateDateDetailed } from '../../shared/validators/date.js';
@@ -8,8 +8,12 @@ import { validateName } from '../../shared/validators/name.js';
 import { getFieldState, applyFieldState } from '../../shared/ui/fieldState.js';
 import { applyDateMask, applyTimeMask } from '../../shared/ui/mask.js';
 import { collectInvalidFields } from '../../shared/ui/debug.js';
-import { buildMatriculaBase30, calcDv2Digits, buildMatriculaFinal } from '../../shared/matricula/cnj.js';
-import { setupPrimaryShortcut, setupNameCopy, setupAutoNationality } from '../../shared/productivity/index.js';
+import {
+  buildMatriculaBase30,
+  calcDv2Digits,
+  buildMatriculaFinal,
+} from '../../shared/matricula/cnj.js';
+import { setupNameCopy, setupAutoNationality } from '../../shared/productivity/index.js';
 import { setupAdminPanel } from '../../shared/ui/admin.js';
 
 const NAME_MODE_KEY = 'ui.nameValidationMode';
@@ -19,298 +23,430 @@ const ENABLE_NAME_KEY = 'ui.enableNameValidation';
 const PANEL_INLINE_KEY = 'ui.panelInline';
 
 function setStatus(text, isError) {
-	const el = document.getElementById('statusText');
-	if (!el) return;
-	el.textContent = text;
-	el.style.color = isError ? '#dc2626' : '#64748b';
-	clearTimeout(el._timer);
-	el._timer = setTimeout(() => {
-		el.textContent = 'Pronto';
-		el.style.color = '#64748b';
-	}, 2000);
+  const el = document.getElementById('statusText');
+  if (!el) return;
+  el.textContent = text;
+  el.style.color = isError ? '#dc2626' : '#64748b';
+  clearTimeout(el._timer);
+  el._timer = setTimeout(() => {
+    el.textContent = 'Pronto';
+    el.style.color = '#64748b';
+  }, 2000);
 }
 
 function showToast(message) {
-	let container = document.getElementById('toast-container');
-	if (!container) {
-		container = document.createElement('div');
-		container.id = 'toast-container';
-		document.body.appendChild(container);
-	}
-	const toast = document.createElement('div');
-	toast.className = 'toast';
-	toast.textContent = message;
-	container.appendChild(toast);
-	setTimeout(() => { toast.classList.add('show'); }, 10);
-	setTimeout(() => {
-		toast.classList.remove('show');
-		setTimeout(() => toast.remove(), 200);
-	}, 2000);
+  let container = document.getElementById('toast-container');
+  if (!container) {
+    container = document.createElement('div');
+    container.id = 'toast-container';
+    document.body.appendChild(container);
+  }
+  const toast = document.createElement('div');
+  toast.className = 'toast';
+  toast.textContent = message;
+  container.appendChild(toast);
+  setTimeout(() => {
+    toast.classList.add('show');
+  }, 10);
+  setTimeout(() => {
+    toast.classList.remove('show');
+    setTimeout(() => toast.remove(), 200);
+  }, 2000);
 }
 
 function resolveField(input) {
-	return input.closest('td') || input.closest('.campo') || input.closest('.field') || input.parentElement;
+  return (
+    input.closest('td') || input.closest('.campo') || input.closest('.field') || input.parentElement
+  );
 }
 
 function setFieldHint(field, message) {
-	if (!field) return;
-	let hint = field.querySelector('.hint');
-	if (!hint) {
-		hint = document.createElement('div');
-		hint.className = 'hint';
-		field.appendChild(hint);
-	}
-	if (message) {
-		hint.innerHTML = '';
-		const icon = document.createElement('span');
-		icon.className = 'icon';
-		icon.textContent = '⚠';
-		icon.setAttribute('aria-hidden', 'true');
-		hint.appendChild(icon);
-		const txt = document.createElement('span');
-		txt.className = 'hint-text';
-		txt.textContent = message;
-		hint.appendChild(txt);
-		hint.classList.add('visible');
-		let aria = document.getElementById('aria-live-errors');
-		if (!aria) {
-			aria = document.createElement('div');
-			aria.id = 'aria-live-errors';
-			aria.className = 'sr-only';
-			aria.setAttribute('aria-live', 'assertive');
-			aria.setAttribute('role', 'status');
-			document.body.appendChild(aria);
-		}
-		aria.textContent = message;
-	} else {
-		hint.innerHTML = '';
-		hint.classList.remove('visible');
-	}
+  if (!field) return;
+  let hint = field.querySelector('.hint');
+  if (!hint) {
+    hint = document.createElement('div');
+    hint.className = 'hint';
+    field.appendChild(hint);
+  }
+  if (message) {
+    hint.innerHTML = '';
+    const icon = document.createElement('span');
+    icon.className = 'icon';
+    icon.textContent = '⚠';
+    icon.setAttribute('aria-hidden', 'true');
+    hint.appendChild(icon);
+    const txt = document.createElement('span');
+    txt.className = 'hint-text';
+    txt.textContent = message;
+    hint.appendChild(txt);
+    hint.classList.add('visible');
+    let aria = document.getElementById('aria-live-errors');
+    if (!aria) {
+      aria = document.createElement('div');
+      aria.id = 'aria-live-errors';
+      aria.className = 'sr-only';
+      aria.setAttribute('aria-live', 'assertive');
+      aria.setAttribute('role', 'status');
+      document.body.appendChild(aria);
+    }
+    aria.textContent = message;
+  } else {
+    hint.innerHTML = '';
+    hint.classList.remove('visible');
+  }
 }
 
-function clearFieldHint(field) { setFieldHint(field, ''); }
+function clearFieldHint(field) {
+  setFieldHint(field, '');
+}
 
 function setupFocusEmphasis() {
-	document.addEventListener('focusin', (e) => {
-		const el = e.target;
-		if (!(el instanceof HTMLElement)) return;
-		if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) {
-			try { el.scrollIntoView({behavior:'smooth', block:'center'}); } catch {}
-			el.classList.add('focus-emphasis');
-		}
-	});
-	document.addEventListener('focusout', (e) => {
-		const el = e.target;
-		if (!(el instanceof HTMLElement)) return;
-		if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
-	});
+  document.addEventListener('focusin', (e) => {
+    const el = e.target;
+    if (!(el instanceof HTMLElement)) return;
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) {
+      try {
+        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
+      } catch (e) { void e;}
+      el.classList.add('focus-emphasis');
+    }
+  });
+  document.addEventListener('focusout', (e) => {
+    const el = e.target;
+    if (!(el instanceof HTMLElement)) return;
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
+  });
 }
 
 function formatCpfInput(value) {
-	const digits = normalizeCpf(value).slice(0, 11);
-	if (!digits) return '';
-	const p1 = digits.slice(0, 3);
-	const p2 = digits.slice(3, 6);
-	const p3 = digits.slice(6, 9);
-	const p4 = digits.slice(9, 11);
-	let out = p1;
-	if (p2) out += `.${p2}`;
-	if (p3) out += `.${p3}`;
-	if (p4) out += `-${p4}`;
-	return out;
+  const digits = normalizeCpf(value).slice(0, 11);
+  if (!digits) return '';
+  const p1 = digits.slice(0, 3);
+  const p2 = digits.slice(3, 6);
+  const p3 = digits.slice(6, 9);
+  const p4 = digits.slice(9, 11);
+  let out = p1;
+  if (p2) out += `.${p2}`;
+  if (p3) out += `.${p3}`;
+  if (p4) out += `-${p4}`;
+  return out;
 }
 
 function toXml(obj, nodeName, indent = 0) {
-	const pad = '  '.repeat(indent);
-	if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
-	if (typeof obj !== 'object') return `${pad}<${nodeName}>${String(obj || '')}</${nodeName}>`;
-	if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
-	const children = Object.keys(obj).map((key) => toXml(obj[key], key, indent + 1)).join('\n');
-	return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
+  const pad = '  '.repeat(indent);
+  if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
+  if (typeof obj !== 'object') return `${pad}<${nodeName}>${String(obj || '')}</${nodeName}>`;
+  if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
+  const children = Object.keys(obj)
+    .map((key) => toXml(obj[key], key, indent + 1))
+    .join('\n');
+  return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
 }
 
 function updateDebug(data) {
-	const cns = document.querySelector('input[data-bind="certidao.cartorio_cns"]')?.value || '';
-	const ano = (document.getElementById('data-reg')?.value || '').slice(-4);
-	const livro = document.getElementById('matricula-livro')?.value || '';
-	const folha = document.getElementById('matricula-folha')?.value || '';
-	const termo = document.getElementById('matricula-termo')?.value || '';
-	const base = buildMatriculaBase30({ cns6: cns, ano, tipoAto: '1', acervo: '01', servico: '55', livro, folha, termo });
-	const dv = base ? calcDv2Digits(base) : '';
-	const final = base && dv ? base + dv : buildMatriculaFinal({ cns6: cns, ano, tipoAto: '1', livro, folha, termo });
-	const baseEl = document.getElementById('debug-matricula-base'); if (baseEl) baseEl.value = base || '';
-	const dvEl = document.getElementById('debug-matricula-dv'); if (dvEl) dvEl.value = dv || '';
-	const finalEl = document.getElementById('debug-matricula-final'); if (finalEl) finalEl.value = final || '';
-	const invalids = collectInvalidFields(document);
-	const invalidEl = document.getElementById('debug-invalid'); if (invalidEl) invalidEl.value = invalids.join('\n');
+  const cns = document.querySelector('input[data-bind="certidao.cartorio_cns"]')?.value || '';
+  const ano = (document.getElementById('data-reg')?.value || '').slice(-4);
+  const livro = document.getElementById('matricula-livro')?.value || '';
+  const folha = document.getElementById('matricula-folha')?.value || '';
+  const termo = document.getElementById('matricula-termo')?.value || '';
+  const base = buildMatriculaBase30({
+    cns6: cns,
+    ano,
+    tipoAto: '1',
+    acervo: '01',
+    servico: '55',
+    livro,
+    folha,
+    termo,
+  });
+  const dv = base ? calcDv2Digits(base) : '';
+  const final =
+    base && dv
+      ? base + dv
+      : buildMatriculaFinal({ cns6: cns, ano, tipoAto: '1', livro, folha, termo });
+  const baseEl = document.getElementById('debug-matricula-base');
+  if (baseEl) baseEl.value = base || '';
+  const dvEl = document.getElementById('debug-matricula-dv');
+  if (dvEl) dvEl.value = dv || '';
+  const finalEl = document.getElementById('debug-matricula-final');
+  if (finalEl) finalEl.value = final || '';
+  const invalids = collectInvalidFields(document);
+  const invalidEl = document.getElementById('debug-invalid');
+  if (invalidEl) invalidEl.value = invalids.join('\n');
 }
 
 function updateOutputs() {
-	const data = mapperHtmlToJson(document);
-	const jsonEl = document.getElementById('json-output'); if (jsonEl) jsonEl.value = JSON.stringify(data, null, 2);
-	const xmlEl = document.getElementById('xml-output'); if (xmlEl) xmlEl.value = toXml(data, 'certidao_nascimento', 0);
-	updateDebug(data);
+  const data = mapperHtmlToJson(document);
+  const jsonEl = document.getElementById('json-output');
+  if (jsonEl) jsonEl.value = JSON.stringify(data, null, 2);
+  const xmlEl = document.getElementById('xml-output');
+  if (xmlEl) xmlEl.value = toXml(data, 'certidao_nascimento', 0);
+  updateDebug(data);
 }
 
 function canProceed() {
-	const invalids = collectInvalidFields(document);
-	if (!invalids || invalids.length === 0) return true;
-	setStatus(`${invalids.length} campo(s) inválido(s). Corrija antes de prosseguir.`, true);
-	showToast('Existem campos inválidos — corrija antes de prosseguir');
-	const invalidEl = document.getElementById('debug-invalid'); if (invalidEl) invalidEl.value = invalids.join('\n');
-	return false;
+  const invalids = collectInvalidFields(document);
+  if (!invalids || invalids.length === 0) return true;
+  setStatus(`${invalids.length} campo(s) inválido(s). Corrija antes de prosseguir.`, true);
+  showToast('Existem campos inválidos — corrija antes de prosseguir');
+  const invalidEl = document.getElementById('debug-invalid');
+  if (invalidEl) invalidEl.value = invalids.join('\n');
+  return false;
 }
 
 function updateActionButtons() {
   const invalids = collectInvalidFields(document);
   const disabled = !!(invalids && invalids.length > 0);
-  const btnJson = document.getElementById('btn-json'); if (btnJson) btnJson.disabled = disabled;
-  const btnXml = document.getElementById('btn-xml'); if (btnXml) btnXml.disabled = disabled;
-  const btnSave = document.getElementById('btn-save'); if (btnSave) btnSave.disabled = disabled;
-  const statusEl = document.getElementById('statusText'); if (statusEl && !disabled) statusEl.textContent = 'Pronto';
-
-	let summary = document.getElementById('form-error-summary');
-	if (!summary) {
-		summary = document.createElement('div');
-		summary.id = 'form-error-summary';
-		summary.style.margin = '6px 0 0 0';
-		summary.style.padding = '6px 8px';
-		summary.style.borderRadius = '6px';
-		summary.style.background = 'transparent';
-		summary.style.border = 'none';
-		summary.style.color = '#6b7280';
-		summary.style.fontSize = '12px';
-		summary.style.opacity = '0.85';
-		const container = document.querySelector('.container');
-		if (container) container.appendChild(summary);
-	}
-	if (disabled) {
-		summary.textContent = `Campos inválidos: ${invalids.join(', ')}`;
-		summary.style.display = 'block';
-	} else if (summary) {
-		summary.style.display = 'none';
-	}
-		// update aria-live for assistive tech
-		let aria = document.getElementById('aria-live-errors');
-		if (!aria) {
-			aria = document.createElement('div');
-			aria.id = 'aria-live-errors';
-			aria.className = 'sr-only';
-			aria.setAttribute('aria-live', 'assertive');
-			aria.setAttribute('role', 'status');
-			document.body.appendChild(aria);
-		}
-		aria.textContent = disabled ? `Existem ${invalids.length} campos inválidos: ${invalids.join(', ')}` : '';
+  const btnJson = document.getElementById('btn-json');
+  if (btnJson) btnJson.disabled = disabled;
+  const btnXml = document.getElementById('btn-xml');
+  if (btnXml) btnXml.disabled = disabled;
+  const btnSave = document.getElementById('btn-save');
+  if (btnSave) btnSave.disabled = disabled;
+  const statusEl = document.getElementById('statusText');
+  if (statusEl && !disabled) statusEl.textContent = 'Pronto';
+
+  let summary = document.getElementById('form-error-summary');
+  if (!summary) {
+    summary = document.createElement('div');
+    summary.id = 'form-error-summary';
+    summary.style.margin = '6px 0 0 0';
+    summary.style.padding = '6px 8px';
+    summary.style.borderRadius = '6px';
+    summary.style.background = 'transparent';
+    summary.style.border = 'none';
+    summary.style.color = '#6b7280';
+    summary.style.fontSize = '12px';
+    summary.style.opacity = '0.85';
+    const container = document.querySelector('.container');
+    if (container) container.appendChild(summary);
+  }
+  if (disabled) {
+    summary.textContent = `Campos inválidos: ${invalids.join(', ')}`;
+    summary.style.display = 'block';
+  } else if (summary) {
+    summary.style.display = 'none';
+  }
+  // update aria-live for assistive tech
+  let aria = document.getElementById('aria-live-errors');
+  if (!aria) {
+    aria = document.createElement('div');
+    aria.id = 'aria-live-errors';
+    aria.className = 'sr-only';
+    aria.setAttribute('aria-live', 'assertive');
+    aria.setAttribute('role', 'status');
+    document.body.appendChild(aria);
+  }
+  aria.textContent = disabled
+    ? `Existem ${invalids.length} campos inválidos: ${invalids.join(', ')}`
+    : '';
 }
 
 function generateJson() {
-	if (!canProceed()) return;
-	const data = mapperHtmlToJson(document);
-	const json = JSON.stringify(data, null, 2);
-	const out = document.getElementById('json-output'); if (out) out.value = json;
-	const name = `NASCIMENTO_${new Date().toISOString().slice(0,19).replace(/[:T]/g,'')}.json`;
-	try { const blob = new Blob([json], { type: 'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = name; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); setStatus(`JSON baixado: ${name}`); } catch { setStatus('Falha ao gerar JSON', true); }
+  if (!canProceed()) return;
+  const data = mapperHtmlToJson(document);
+  const json = JSON.stringify(data, null, 2);
+  const out = document.getElementById('json-output');
+  if (out) out.value = json;
+  const name = `NASCIMENTO_${new Date().toISOString().slice(0, 19).replace(/[:T]/g, '')}.json`;
+  try {
+    const blob = new Blob([json], { type: 'application/json' });
+    const url = URL.createObjectURL(blob);
+    const a = document.createElement('a');
+    a.href = url;
+    a.download = name;
+    document.body.appendChild(a);
+    a.click();
+    a.remove();
+    URL.revokeObjectURL(url);
+    setStatus(`JSON baixado: ${name}`);
+  } catch (e) { void e;
+    setStatus('Falha ao gerar JSON', true);
+  }
 }
 
 function generateXml() {
-	if (!canProceed()) return;
-	const data = mapperHtmlToJson(document);
-	const xml = toXml(data, 'certidao_nascimento', 0);
-	const out = document.getElementById('xml-output'); if (out) out.value = xml;
-	const name = `NASCIMENTO_${new Date().toISOString().slice(0,19).replace(/[:T]/g,'')}.xml`;
-	try { const blob = new Blob([xml], { type: 'application/xml' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = name; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); setStatus(`XML baixado: ${name}`); } catch { setStatus('Falha ao gerar XML', true); }
+  if (!canProceed()) return;
+  const data = mapperHtmlToJson(document);
+  const xml = toXml(data, 'certidao_nascimento', 0);
+  const out = document.getElementById('xml-output');
+  if (out) out.value = xml;
+  const name = `NASCIMENTO_${new Date().toISOString().slice(0, 19).replace(/[:T]/g, '')}.xml`;
+  try {
+    const blob = new Blob([xml], { type: 'application/xml' });
+    const url = URL.createObjectURL(blob);
+    const a = document.createElement('a');
+    a.href = url;
+    a.download = name;
+    document.body.appendChild(a);
+    a.click();
+    a.remove();
+    URL.revokeObjectURL(url);
+    setStatus(`XML baixado: ${name}`);
+  } catch (e) { void e;
+    setStatus('Falha ao gerar XML', true);
+  }
 }
 
 function setupValidation() {
-	// date fields (.w-date)
-	document.querySelectorAll('input.w-date').forEach((input) => {
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required') || input.classList.contains('required');
-		const onInput = () => { applyDateMask(input); clearFieldHint(field); const normalized = normalizeDate(input.value); const isValid = !input.value || !!normalized; const state = getFieldState({ required, value: input.value, isValid }); applyFieldState(field, state); };
-		const onBlur = () => { applyDateMask(input); const raw = input.value || ''; const res = validateDateDetailed(raw); const isValid = res.ok; const state = getFieldState({ required, value: raw, isValid }); applyFieldState(field, state); if (!isValid && raw) setFieldHint(field, res.message || 'Data inválida'); else clearFieldHint(field); };
-		input.addEventListener('input', onInput); input.addEventListener('blur', onBlur); onInput();
-	});
-
-	// time fields (.w-time)
-	document.querySelectorAll('input.w-time').forEach((input) => {
-		const field = resolveField(input);
-		const required = input.hasAttribute('data-required');
-		const handler = () => { applyTimeMask(input); const normalized = normalizeTime(input.value); const isValid = !input.value || !!normalized; const state = getFieldState({ required, value: input.value, isValid }); applyFieldState(field, state); };
-		input.addEventListener('input', handler); input.addEventListener('blur', handler); handler();
-	});
-
-	// CPF (id cpf)
-	const cpfInput = document.getElementById('cpf');
-	if (cpfInput) {
-		const field = resolveField(cpfInput);
-		const handler = () => { cpfInput.value = formatCpfInput(cpfInput.value); const digits = normalizeCpf(cpfInput.value); const isValid = !digits || isValidCpf(digits); const state = getFieldState({ required: false, value: digits ? cpfInput.value : '', isValid }); applyFieldState(field, state); };
-		cpfInput.addEventListener('input', handler);
-		cpfInput.addEventListener('blur', () => { handler(); const digits = normalizeCpf(cpfInput.value); if (cpfInput.value && (!digits || !isValidCpf(digits))) setFieldHint(field, 'CPF inválido'); else clearFieldHint(field); });
-		handler();
-	}
-
-	// name validation
-	const enableName = localStorage.getItem('ui.enableNameValidation') !== 'false';
-	if (enableName) {
-		document.querySelectorAll('[data-name-validate]').forEach((input) => {
-			const field = resolveField(input);
-			const required = input.hasAttribute('data-required');
-			const handler = () => { const res = validateName(input.value || '', { minWords: 2 }); const state = getFieldState({ required, value: input.value, isValid: !res.invalid, warn: res.warn }); applyFieldState(field, state); };
-			input.addEventListener('input', handler); input.addEventListener('blur', handler); handler();
-		});
-	}
+  // date fields (.w-date)
+  document.querySelectorAll('input.w-date').forEach((input) => {
+    const field = resolveField(input);
+    const required = input.hasAttribute('data-required') || input.classList.contains('required');
+    const onInput = () => {
+      applyDateMask(input);
+      clearFieldHint(field);
+      const normalized = normalizeDate(input.value);
+      const isValid = !input.value || !!normalized;
+      const state = getFieldState({ required, value: input.value, isValid });
+      applyFieldState(field, state);
+    };
+    const onBlur = () => {
+      applyDateMask(input);
+      const raw = input.value || '';
+      const res = validateDateDetailed(raw);
+      const isValid = res.ok;
+      const state = getFieldState({ required, value: raw, isValid });
+      applyFieldState(field, state);
+      if (!isValid && raw) setFieldHint(field, res.message || 'Data inválida');
+      else clearFieldHint(field);
+    };
+    input.addEventListener('input', onInput);
+    input.addEventListener('blur', onBlur);
+    onInput();
+  });
+
+  // time fields (.w-time)
+  document.querySelectorAll('input.w-time').forEach((input) => {
+    const field = resolveField(input);
+    const required = input.hasAttribute('data-required');
+    const handler = () => {
+      applyTimeMask(input);
+      const normalized = normalizeTime(input.value);
+      const isValid = !input.value || !!normalized;
+      const state = getFieldState({ required, value: input.value, isValid });
+      applyFieldState(field, state);
+    };
+    input.addEventListener('input', handler);
+    input.addEventListener('blur', handler);
+    handler();
+  });
+
+  // CPF (id cpf)
+  const cpfInput = document.getElementById('cpf');
+  if (cpfInput) {
+    const field = resolveField(cpfInput);
+    const handler = () => {
+      cpfInput.value = formatCpfInput(cpfInput.value);
+      const digits = normalizeCpf(cpfInput.value);
+      const isValid = !digits || isValidCpf(digits);
+      const state = getFieldState({
+        required: false,
+        value: digits ? cpfInput.value : '',
+        isValid,
+      });
+      applyFieldState(field, state);
+    };
+    cpfInput.addEventListener('input', handler);
+    cpfInput.addEventListener('blur', () => {
+      handler();
+      const digits = normalizeCpf(cpfInput.value);
+      if (cpfInput.value && (!digits || !isValidCpf(digits))) setFieldHint(field, 'CPF inválido');
+      else clearFieldHint(field);
+    });
+    handler();
+  }
+
+  // name validation
+  const enableName = localStorage.getItem('ui.enableNameValidation') !== 'false';
+  if (enableName) {
+    document.querySelectorAll('[data-name-validate]').forEach((input) => {
+      const field = resolveField(input);
+      const required = input.hasAttribute('data-required');
+      const handler = () => {
+        const res = validateName(input.value || '', { minWords: 2 });
+        const state = getFieldState({
+          required,
+          value: input.value,
+          isValid: !res.invalid,
+          warn: res.warn,
+        });
+        applyFieldState(field, state);
+      };
+      input.addEventListener('input', handler);
+      input.addEventListener('blur', handler);
+      handler();
+    });
+  }
 }
 
 function setupLiveOutputs() {
-	const form = document.querySelector('.container');
-	const handler = () => updateOutputs();
-	document.addEventListener('input', handler);
-	document.addEventListener('change', handler);
-	updateOutputs();
+  const form = document.querySelector('.container');
+  const handler = () => updateOutputs();
+  document.addEventListener('input', handler);
+  document.addEventListener('change', handler);
+  updateOutputs();
 }
 
 function setup() {
-	document.getElementById('btn-json')?.addEventListener('click', (e) => { e.preventDefault(); generateJson(); });
-	document.getElementById('btn-xml')?.addEventListener('click', (e) => { e.preventDefault(); generateXml(); });
-
-	// Print PDF button: build printable HTML from current form data or from
-	// an existing certificate fragment on the page (preferred when present).
-	function buildNascimentoPrintHtml(data, srcDoc = document) {
-		const reg = data?.registro || {};
-		const cert = data?.certidao || {};
-		const name = reg.nome_completo || '';
-		const matricula = reg.matricula || '';
-		const dataRegistro = reg.data_registro || '';
-		const dataNascimento = reg.data_nascimento || '';
-		const sexo = reg.sexo || '';
-		const mae = (reg.filiacao || '').split(';')[1] || '';
-		const pai = (reg.filiacao || '').split(';')[0] || '';
-		const cartorio = cert.cartorio_cns || '';
-		const livro = (document.getElementById('matricula-livro') as HTMLInputElement)?.value || '';
-		const folha = (document.getElementById('matricula-folha') as HTMLInputElement)?.value || '';
-		const termo = (document.getElementById('matricula-termo') as HTMLInputElement)?.value || '';
-		const cpf = reg.cpf || '';
-		const dnv = reg.numero_dnv || '';
-
-		// If the source document already contains a rendered certificate fragment
-		// (the official HTML), prefer cloning it so the PDF matches the original
-		// layout and CSS.
-		const candidate = srcDoc.querySelector('center') || srcDoc.querySelector('.certidao') || srcDoc.querySelector('.container-certidao');
-		if (candidate && /CERTIDÃO|CERTIDAO|CERTID/iu.test(candidate.textContent || '')) {
-			// build head: copy stylesheet links and inline styles
-			const links = Array.from(srcDoc.querySelectorAll('link[rel="stylesheet"]')).map((l: any) => `<link rel="stylesheet" href="${l.href}">`).join('\n');
-			const styles = Array.from(srcDoc.querySelectorAll('style')).map((s: any) => s.innerHTML ? `<style>${s.innerHTML}</style>` : '').join('\n');
-			const cloned = candidate.cloneNode(true) as HTMLElement;
-			// remove interactive UI and scripts from the clone
-			cloned.querySelectorAll('script, .nao-imprimir, button, [role="button"]').forEach(el => el.remove());
-			// remove fixed-position elements (common for buttons added by the page)
-			Array.from(cloned.querySelectorAll('*')).forEach((el: any) => {
-				try {
-					const st = el.getAttribute && el.getAttribute('style') || '';
-					if (/position\s*:\s*fixed/iu.test(st)) el.remove();
-				} catch(e){}
-			});
-			return `<!doctype html><html><head><meta charset="utf-8"><title>Certidão Nascimento</title>${links}${styles}</head><body>${(cloned as any).outerHTML}
+  document.getElementById('btn-json')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    generateJson();
+  });
+  document.getElementById('btn-xml')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    generateXml();
+  });
+
+  // Print PDF button: build printable HTML from current form data or from
+  // an existing certificate fragment on the page (preferred when present).
+  function buildNascimentoPrintHtml(data, srcDoc = document) {
+    const reg = data?.registro || {};
+    const cert = data?.certidao || {};
+    const name = reg.nome_completo || '';
+    const matricula = reg.matricula || '';
+    const dataRegistro = reg.data_registro || '';
+    const dataNascimento = reg.data_nascimento || '';
+    const sexo = reg.sexo || '';
+    const mae = (reg.filiacao || '').split(';')[1] || '';
+    const pai = (reg.filiacao || '').split(';')[0] || '';
+    const cartorio = cert.cartorio_cns || '';
+    const livro = (document.getElementById('matricula-livro') as HTMLInputElement)?.value || '';
+    const folha = (document.getElementById('matricula-folha') as HTMLInputElement)?.value || '';
+    const termo = (document.getElementById('matricula-termo') as HTMLInputElement)?.value || '';
+    const cpf = reg.cpf || '';
+    const dnv = reg.numero_dnv || '';
+
+    // If the source document already contains a rendered certificate fragment
+    // (the official HTML), prefer cloning it so the PDF matches the original
+    // layout and CSS.
+    const candidate =
+      srcDoc.querySelector('center') ||
+      srcDoc.querySelector('.certidao') ||
+      srcDoc.querySelector('.container-certidao');
+    if (candidate && /CERTIDÃO|CERTIDAO|CERTID/iu.test(candidate.textContent || '')) {
+      // build head: copy stylesheet links and inline styles
+      const links = Array.from(srcDoc.querySelectorAll('link[rel="stylesheet"]'))
+        .map((l: unknown) => `<link rel="stylesheet" href="${l.href}">`)
+        .join('\n');
+      const styles = Array.from(srcDoc.querySelectorAll('style'))
+        .map((s: unknown) => (s.innerHTML ? `<style>${s.innerHTML}</style>` : ''))
+        .join('\n');
+      const cloned = candidate.cloneNode(true) as HTMLElement;
+      // remove interactive UI and scripts from the clone
+      cloned
+        .querySelectorAll('script, .nao-imprimir, button, [role="button"]')
+        .forEach((el) => el.remove());
+      // remove fixed-position elements (common for buttons added by the page)
+      Array.from(cloned.querySelectorAll('*')).forEach((el: unknown) => {
+        try {
+          const st = (el.getAttribute && el.getAttribute('style')) || '';
+          if (/position\s*:\s*fixed/iu.test(st)) el.remove();
+        } catch (e) { /* ignore */ }
+      });
+      return `<!doctype html><html><head><meta charset="utf-8"><title>Certidão Nascimento</title>${links}${styles}</head><body>${
+        (cloned as unknown).outerHTML
+      }
 				<script>
 				(function(){
 					function runHtml2Pdf(){
@@ -326,8 +462,8 @@ function setup() {
 							(function cleanup(){
 								try{
 									document.querySelectorAll('script, button, .nao-imprimir, [role="button"]').forEach(e=>e.remove());
-									Array.from(document.querySelectorAll('*')).forEach((el:any)=>{
-										try{ const pos = window.getComputedStyle(el).position; if (pos === 'fixed') el.remove(); }catch(e){}
+									Array.from(document.querySelectorAll('*')).forEach((el: unknown)=>{
+										try{ const pos = window.getComputedStyle(el).position; if (pos === 'fixed') el.remove(); }catch (e) { /* ignore */ }
 									});
 								}catch(e){/* ignore */}
 							})();
@@ -347,22 +483,30 @@ function setup() {
 				})();
 				</script>
 				</body></html>`;
-		}
+    }
 
-		// fallback: minimal summary layout (previous behavior)
-		return `<!doctype html><html><head><meta charset="utf-8"><title>Certidão Nascimento</title>
+    // fallback: minimal summary layout (previous behavior)
+    return `<!doctype html><html><head><meta charset="utf-8"><title>Certidão Nascimento</title>
 			<style>body{font-family:Arial,Helvetica,sans-serif;padding:12px;color:#111} .h{font-size:14pt;font-weight:700;margin-bottom:6px} .label{font-size:9pt;color:#444} .val{font-weight:700;font-size:11pt;margin-bottom:8px} table{width:100%;margin-top:6px} td{vertical-align:top;padding:6px}</style>
 		</head><body>
 		<div class="h">CERTIDÃO DE NASCIMENTO - 2ª VIA</div>
 		<div><span class="label">Nome:</span><div class="val">${escapeHtml(name)}</div></div>
-		<table><tr><td><span class="label">Data de registro</span><div class="val">${escapeHtml(dataRegistro)}</div></td>
-		<td><span class="label">Data de nascimento</span><div class="val">${escapeHtml(dataNascimento)}</div></td>
+		<table><tr><td><span class="label">Data de registro</span><div class="val">${escapeHtml(
+      dataRegistro,
+    )}</div></td>
+		<td><span class="label">Data de nascimento</span><div class="val">${escapeHtml(
+      dataNascimento,
+    )}</div></td>
 		<td><span class="label">Sexo</span><div class="val">${escapeHtml(sexo)}</div></td></tr>
 		<tr><td><span class="label">Pai</span><div class="val">${escapeHtml(pai)}</div></td>
 		<td><span class="label">Mãe</span><div class="val">${escapeHtml(mae)}</div></td>
 		<td><span class="label">CPF</span><div class="val">${escapeHtml(cpf)}</div></td></tr>
 		<tr><td colspan="3"><span class="label">Cartório/Matricula</span>
-			<div class="val">Cartório CNS: ${escapeHtml(cartorio)} &nbsp; Livro: ${escapeHtml(livro)} &nbsp; Folha: ${escapeHtml(folha)} &nbsp; Termo: ${escapeHtml(termo)}<br/>Matrícula: ${escapeHtml(matricula)}</div>
+			<div class="val">Cartório CNS: ${escapeHtml(cartorio)} &nbsp; Livro: ${escapeHtml(
+      livro,
+    )} &nbsp; Folha: ${escapeHtml(folha)} &nbsp; Termo: ${escapeHtml(
+      termo,
+    )}<br/>Matrícula: ${escapeHtml(matricula)}</div>
 		</td></tr>
 		<tr><td><span class="label">DNV</span><div class="val">${escapeHtml(dnv)}</div></td></tr>
 		</table>
@@ -381,10 +525,10 @@ function setup() {
 						// cleanup interactive UI before printing
 						try{
 							document.querySelectorAll('script, button, .nao-imprimir, [role="button"]').forEach(e=>e.remove());
-							Array.from(document.querySelectorAll('*')).forEach((el:any)=>{
-								try{ const pos = window.getComputedStyle(el).position; if (pos === 'fixed') el.remove(); }catch(e){}
+							Array.from(document.querySelectorAll('*')).forEach((el: unknown)=>{
+								try{ const pos = window.getComputedStyle(el).position; if (pos === 'fixed') el.remove(); }catch (e) { /* ignore */ }
 							});
-						}catch(e){}
+						}catch (e) { /* ignore */ }
 						if (window.html2pdf) {
 							window.html2pdf().set(opt).from(document.body).save();
 						} else {
@@ -402,80 +546,94 @@ function setup() {
 			})();
 		</script>
 		</body></html>`;
-	}
-
-	function escapeHtml(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
-
-	document.getElementById('btn-print')?.addEventListener('click', (e) => {
-		e.preventDefault();
-		const data = (window as any).mapperHtmlToJson ? (window as any).mapperHtmlToJson(document) : (typeof mapperHtmlToJson === 'function' ? mapperHtmlToJson(document) : null);
-		if (!data) {
-			showToast('Falha ao coletar dados para impressão');
-			return;
-		}
-		const html = buildNascimentoPrintHtml(data);
-		const w = window.open('', '_blank', 'width=900,height=1100');
-		if (!w) { showToast('Permita popups para imprimir'); return; }
-		w.document.open(); w.document.write(html); w.document.close();
-	});
-	setupValidation();
-	setupFocusEmphasis();
-	setupAdminPanel();
-	setupSettingsPanel();
-	setupNameCopy('input[data-bind="ui.mae_nome"]','input[data-bind="ui.pai_nome"]');
-	setupAutoNationality('input[name="nacionalidadeNoivo"]','BRASILEIRO');
-	setupLiveOutputs();
-	// wire action button state
-	updateActionButtons();
-	document.addEventListener('input', updateActionButtons);
-	document.addEventListener('change', updateActionButtons);
+  }
+
+  function escapeHtml(s) {
+    return String(s || '')
+      .replace(/&/g, '&amp;')
+      .replace(/</g, '&lt;')
+      .replace(/>/g, '&gt;')
+      .replace(/"/g, '&quot;');
+  }
+
+  document.getElementById('btn-print')?.addEventListener('click', (e) => {
+    e.preventDefault();
+    const data = (window as unknown).mapperHtmlToJson
+      ? (window as unknown).mapperHtmlToJson(document)
+      : typeof mapperHtmlToJson === 'function'
+      ? mapperHtmlToJson(document)
+      : null;
+    if (!data) {
+      showToast('Falha ao coletar dados para impressão');
+      return;
+    }
+    const html = buildNascimentoPrintHtml(data);
+    const w = window.open('', '_blank', 'width=900,height=1100');
+    if (!w) {
+      showToast('Permita popups para imprimir');
+      return;
+    }
+    w.document.open();
+    w.document.write(html);
+    w.document.close();
+  });
+  setupValidation();
+  setupFocusEmphasis();
+  setupAdminPanel();
+  setupSettingsPanel();
+  setupNameCopy('input[data-bind="ui.mae_nome"]', 'input[data-bind="ui.pai_nome"]');
+  setupAutoNationality('input[name="nacionalidadeNoivo"]', 'BRASILEIRO');
+  setupLiveOutputs();
+  // wire action button state
+  updateActionButtons();
+  document.addEventListener('input', updateActionButtons);
+  document.addEventListener('change', updateActionButtons);
 }
 
 function setupSettingsPanel() {
-	const select = document.getElementById('settings-drawer-position');
-	const cbCpf = document.getElementById('settings-enable-cpf');
-	const cbName = document.getElementById('settings-enable-name');
-	const saveBtn = document.getElementById('settings-save');
-	const applyBtn = document.getElementById('settings-apply');
-
-	const pos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
-	const enableCpf = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
-	const enableName = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
-	const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
-	const panelInline = panelInlineStored === null ? false : panelInlineStored === 'true';
-
-	if (select) select.value = pos;
-	if (cbCpf) cbCpf.checked = !!enableCpf;
-	if (cbName) cbName.checked = !!enableName;
-	const cbInline = document.getElementById('settings-panel-inline');
-	if (cbInline) cbInline.checked = !!panelInline;
-
-	applyBtn?.addEventListener('click', () => {
-		const newPos = select?.value || 'bottom-right';
-		// apply only (no save)
-		const drawer = document.getElementById('drawer');
-		if (drawer) {
-			drawer.classList.remove('position-top', 'position-bottom-right', 'position-side');
-			if (newPos === 'top') drawer.classList.add('position-top');
-			else if (newPos === 'side') drawer.classList.add('position-side');
-			else drawer.classList.add('position-bottom-right');
-		}
-		setStatus('Posição aplicada (não salva)', false);
-	});
-
-	saveBtn?.addEventListener('click', () => {
-		const newPos = select?.value || 'bottom-right';
-		const newCpf = cbCpf?.checked ? 'true' : 'false';
-		const newName = cbName?.checked ? 'true' : 'false';
-		const newInline = (document.getElementById('settings-panel-inline')?.checked) ? 'true' : 'false';
-		localStorage.setItem(DRAWER_POS_KEY, newPos);
-		localStorage.setItem(ENABLE_CPF_KEY, newCpf);
-		localStorage.setItem(ENABLE_NAME_KEY, newName);
-		localStorage.setItem(PANEL_INLINE_KEY, newInline);
-		setStatus('Preferências salvas. Atualizando...', false);
-		setTimeout(() => window.location.reload(), 300);
-	});
+  const select = document.getElementById('settings-drawer-position');
+  const cbCpf = document.getElementById('settings-enable-cpf');
+  const cbName = document.getElementById('settings-enable-name');
+  const saveBtn = document.getElementById('settings-save');
+  const applyBtn = document.getElementById('settings-apply');
+
+  const pos = localStorage.getItem(DRAWER_POS_KEY) || 'bottom-right';
+  const enableCpf = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
+  const enableName = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
+  const panelInlineStored = localStorage.getItem(PANEL_INLINE_KEY);
+  const panelInline = panelInlineStored === null ? false : panelInlineStored === 'true';
+
+  if (select) select.value = pos;
+  if (cbCpf) cbCpf.checked = !!enableCpf;
+  if (cbName) cbName.checked = !!enableName;
+  const cbInline = document.getElementById('settings-panel-inline');
+  if (cbInline) cbInline.checked = !!panelInline;
+
+  applyBtn?.addEventListener('click', () => {
+    const newPos = select?.value || 'bottom-right';
+    // apply only (no save)
+    const drawer = document.getElementById('drawer');
+    if (drawer) {
+      drawer.classList.remove('position-top', 'position-bottom-right', 'position-side');
+      if (newPos === 'top') drawer.classList.add('position-top');
+      else if (newPos === 'side') drawer.classList.add('position-side');
+      else drawer.classList.add('position-bottom-right');
+    }
+    setStatus('Posição aplicada (não salva)', false);
+  });
+
+  saveBtn?.addEventListener('click', () => {
+    const newPos = select?.value || 'bottom-right';
+    const newCpf = cbCpf?.checked ? 'true' : 'false';
+    const newName = cbName?.checked ? 'true' : 'false';
+    const newInline = document.getElementById('settings-panel-inline')?.checked ? 'true' : 'false';
+    localStorage.setItem(DRAWER_POS_KEY, newPos);
+    localStorage.setItem(ENABLE_CPF_KEY, newCpf);
+    localStorage.setItem(ENABLE_NAME_KEY, newName);
+    localStorage.setItem(PANEL_INLINE_KEY, newInline);
+    setStatus('Preferências salvas. Atualizando...', false);
+    setTimeout(() => window.location.reload(), 300);
+  });
 }
 
 setup();
-
diff --git a/segundas-vias/ui/ts/acts/obito/mapperHtmlToJson.ts b/segundas-vias/ui/ts/acts/obito/mapperHtmlToJson.ts
index 133c888..d31ea52 100644
--- a/segundas-vias/ui/ts/acts/obito/mapperHtmlToJson.ts
+++ b/segundas-vias/ui/ts/acts/obito/mapperHtmlToJson.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { normalizeDate } from '../../shared/validators/date.js';
 import { normalizeTime } from '../../shared/validators/time.js';
 import { normalizeCpf, formatCpf, isValidCpf } from '../../shared/validators/cpf.js';
@@ -48,7 +48,7 @@ function mapEstadoCivil(value) {
     DI: 'divorciado',
     SO: 'solteiro',
     VI: 'viuvo',
-    IG: 'ignorado'
+    IG: 'ignorado',
   };
   return map[value] || '';
 }
@@ -79,7 +79,7 @@ function extractSelo(text) {
   const codMatch = /(COD|CODIGO|CÓDIGO)[^0-9]*([0-9]+)/i.exec(obs);
   return {
     selo: seloMatch ? seloMatch[1] : '',
-    cod_selo: codMatch ? codMatch[2] : ''
+    cod_selo: codMatch ? codMatch[2] : '',
   };
 }
 
@@ -103,7 +103,7 @@ function buildMatricula(root) {
     servico: '55',
     livro,
     folha,
-    termo
+    termo,
   });
 }
 
@@ -125,12 +125,12 @@ function parseFilhosEstruturado(raw) {
     return {
       nome: normalizeText(parts[0] || ''),
       idade: normalizeText(parts[1] || ''),
-      falecido: /^sim|true|1$/i.test(parts[2] || '')
+      falecido: /^sim|true|1$/i.test(parts[2] || ''),
     };
   });
   return {
     quantidade: filhos.length ? String(filhos.length) : '',
-    filhos
+    filhos,
   };
 }
 
@@ -142,7 +142,7 @@ function buildDoc(tipo, numero, data, orgao, uf) {
     documento: doc,
     orgao_emissor: normalizeText(orgao),
     uf_emissao: normalizeUf(uf, { forceIg: true }),
-    data_emissao: normalizeDate(data)
+    data_emissao: normalizeDate(data),
   };
 }
 
@@ -182,15 +182,45 @@ export function mapperHtmlToJson(root = document) {
   const docPrincipal = buildDoc('Outros', getInputValue('documento', root), '', '', '');
   if (docPrincipal) anotacoes.push(docPrincipal);
 
-  const rg = buildDoc('RG', getInputValue('numeroRG', root), getInputValue('dataExpedicaoRG', root), getSelectText('idOrgaoExpedidorRG', root), 'IG');
+  const rg = buildDoc(
+    'RG',
+    getInputValue('numeroRG', root),
+    getInputValue('dataExpedicaoRG', root),
+    getSelectText('idOrgaoExpedidorRG', root),
+    'IG',
+  );
   if (rg) anotacoes.push(rg);
-  const pis = buildDoc('PIS', getInputValue('numeroPIS', root), getInputValue('dataExpedicaoPIS', root), getSelectText('idOrgaoExpedidorPIS', root), 'IG');
+  const pis = buildDoc(
+    'PIS',
+    getInputValue('numeroPIS', root),
+    getInputValue('dataExpedicaoPIS', root),
+    getSelectText('idOrgaoExpedidorPIS', root),
+    'IG',
+  );
   if (pis) anotacoes.push(pis);
-  const passaporte = buildDoc('Passaporte', getInputValue('numeroPassaporte', root), getInputValue('dataExpedicaoPassaporte', root), getSelectText('idOrgaoExpedidorPassaporte', root), 'IG');
+  const passaporte = buildDoc(
+    'Passaporte',
+    getInputValue('numeroPassaporte', root),
+    getInputValue('dataExpedicaoPassaporte', root),
+    getSelectText('idOrgaoExpedidorPassaporte', root),
+    'IG',
+  );
   if (passaporte) anotacoes.push(passaporte);
-  const cns = buildDoc('CNS', getInputValue('numeroCNS', root), getInputValue('dataExpedicaoCNS', root), getSelectText('idOrgaoExpedidorCNS', root), 'IG');
+  const cns = buildDoc(
+    'CNS',
+    getInputValue('numeroCNS', root),
+    getInputValue('dataExpedicaoCNS', root),
+    getSelectText('idOrgaoExpedidorCNS', root),
+    'IG',
+  );
   if (cns) anotacoes.push(cns);
-  const titulo = buildDoc('TituloEleitor', getInputValue('numeroTitulo', root), '', '', getSelectValue('ufTitulo', root));
+  const titulo = buildDoc(
+    'TituloEleitor',
+    getInputValue('numeroTitulo', root),
+    '',
+    '',
+    getSelectValue('ufTitulo', root),
+  );
   if (titulo) anotacoes.push(titulo);
 
   const matricula = buildMatricula(root);
@@ -206,7 +236,7 @@ export function mapperHtmlToJson(root = document) {
       cod_selo: codInput || seloInfo.cod_selo,
       modalidade,
       cota_emolumentos: cotaEmolumentos,
-      cota_emolumentos_isento: false
+      cota_emolumentos_isento: false,
     },
     registro: {
       nome_completo: normalizeText(getInputValue('nomePessoa', root)),
@@ -232,15 +262,19 @@ export function mapperHtmlToJson(root = document) {
       nome_medico: normalizeText(getInputValue('nomeMedico', root)),
       crm_medico: normalizeText(getInputValue('crm', root)),
       local_sepultamento_cremacao: normalizeText(getInputValue('sepultamento', root)),
-      municipio_sepultamento_cremacao: normalizeMunicipio(getInputValue('municipioSepultamento', root)),
-      uf_sepultamento_cremacao: normalizeUf(getSelectValue('ufMunicipioSepultamento', root), { forceIg: true }),
+      municipio_sepultamento_cremacao: normalizeMunicipio(
+        getInputValue('municipioSepultamento', root),
+      ),
+      uf_sepultamento_cremacao: normalizeUf(getSelectValue('ufMunicipioSepultamento', root), {
+        forceIg: true,
+      }),
       data_registro: normalizeDate(getInputValue('dataTermo', root)),
       nome_declarante: normalizeText(getInputValue('declarante', root)),
       existencia_bens: mapBens(getSelectValue('flagBens', root)),
       existencia_filhos_opcao: filhosOpcao,
       existencia_filhos: filhosPayload,
       averbacao_anotacao: normalizeText(observacao),
-      anotacoes_cadastro: anotacoes
-    }
+      anotacoes_cadastro: anotacoes,
+    },
   };
 }
diff --git a/segundas-vias/ui/ts/acts/obito/obito.ts b/segundas-vias/ui/ts/acts/obito/obito.ts
index 2bce68f..392d597 100644
--- a/segundas-vias/ui/ts/acts/obito/obito.ts
+++ b/segundas-vias/ui/ts/acts/obito/obito.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { mapperHtmlToJson } from './mapperHtmlToJson.js';
 import { normalizeDate } from '../../shared/validators/date.js';
 import { validateDateDetailed } from '../../shared/validators/date.js';
@@ -8,7 +8,11 @@ import { validateName } from '../../shared/validators/name.js';
 import { getFieldState, applyFieldState } from '../../shared/ui/fieldState.js';
 import { applyDateMask, applyTimeMask } from '../../shared/ui/mask.js';
 import { collectInvalidFields } from '../../shared/ui/debug.js';
-import { buildMatriculaBase30, calcDv2Digits, buildMatriculaFinal } from '../../shared/matricula/cnj.js';
+import {
+  buildMatriculaBase30,
+  calcDv2Digits,
+  buildMatriculaFinal,
+} from '../../shared/matricula/cnj.js';
 import { setupPrimaryShortcut } from '../../shared/productivity/index.js';
 import { setupAdminPanel } from '../../shared/ui/admin.js';
 import { createNameValidator } from '../../nameValidator.js';
@@ -70,7 +74,9 @@ function toXml(obj, nodeName, indent = 0) {
   if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
   if (typeof obj !== 'object') return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
   if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
-  const children = Object.keys(obj).map((key) => toXml(obj[key], key, indent + 1)).join('\n');
+  const children = Object.keys(obj)
+    .map((key) => toXml(obj[key], key, indent + 1))
+    .join('\n');
   return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
 }
 
@@ -86,7 +92,7 @@ function downloadFile(name, content, mime) {
     a.remove();
     URL.revokeObjectURL(url);
     return true;
-  } catch {
+  } catch (e) { void e;
     return false;
   }
 }
@@ -94,7 +100,9 @@ function downloadFile(name, content, mime) {
 function makeTimestamp() {
   const d = new Date();
   const pad = (n) => String(n).padStart(2, '0');
-  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;
+  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(
+    d.getMinutes(),
+  )}${pad(d.getSeconds())}`;
 }
 
 function normalizeFilePart(value, fallback) {
@@ -140,15 +148,19 @@ function generateXml() {
 function openPrintPreview() {
   if (!canProceed()) return;
   const data = mapperHtmlToJson(document);
-  const assinante = document.querySelector('select[name="idAssinante"] option:checked')?.textContent || '';
+  const assinante =
+    document.querySelector('select[name="idAssinante"] option:checked')?.textContent || '';
   const tituloLivro = document.querySelector('input[name="tituloLivro"]')?.value || '';
   const cidadeMatch = /COMARCA DE\s+(.+)$/i.exec(tituloLivro);
-  const cidadeCartorio = (cidadeMatch ? cidadeMatch[1] : '') || document.querySelector('input[name="municipioObito"]')?.value || '';
+  const cidadeCartorio =
+    (cidadeMatch ? cidadeMatch[1] : '') ||
+    document.querySelector('input[name="municipioObito"]')?.value ||
+    '';
   const ufCartorio = document.querySelector('select[name="ufMunicipioObito"]')?.value || '';
   const html = buildObitoPrintHtml(data, {
     assinante: assinante.trim(),
     cidadeCartorio: cidadeCartorio.trim(),
-    ufCartorio
+    ufCartorio,
   });
   const out = document.getElementById('print-html');
   if (out) out.value = html;
@@ -175,7 +187,9 @@ function showToast(message) {
   toast.className = 'toast';
   toast.textContent = message;
   container.appendChild(toast);
-  setTimeout(() => { toast.classList.add('show'); }, 10);
+  setTimeout(() => {
+    toast.classList.add('show');
+  }, 10);
   setTimeout(() => {
     toast.classList.remove('show');
     setTimeout(() => toast.remove(), 200);
@@ -183,12 +197,12 @@ function showToast(message) {
 }
 
 function setupConfigPanel() {
-  const radios = document.querySelectorAll('input[name=\"name-validation-mode\"]');
+  const radios = document.querySelectorAll('input[name="name-validation-mode"]');
   radios.forEach((radio) => {
     radio.checked = radio.value === nameValidationMode;
   });
   document.getElementById('config-save')?.addEventListener('click', () => {
-    const selected = document.querySelector('input[name=\"name-validation-mode\"]:checked');
+    const selected = document.querySelector('input[name="name-validation-mode"]:checked');
     if (selected && selected.value) {
       nameValidationMode = selected.value;
       localStorage.setItem(NAME_MODE_KEY, nameValidationMode);
@@ -222,7 +236,7 @@ function setupSettingsPanel() {
     const newPos = select?.value || 'bottom-right';
     const newCpf = cbCpf?.checked ? 'true' : 'false';
     const newName = cbName?.checked ? 'true' : 'false';
-    const newInline = (document.getElementById('settings-panel-inline')?.checked) ? 'true' : 'false';
+    const newInline = document.getElementById('settings-panel-inline')?.checked ? 'true' : 'false';
     localStorage.setItem(DRAWER_POS_KEY, newPos);
     localStorage.setItem(ENABLE_CPF_KEY, newCpf);
     localStorage.setItem(ENABLE_NAME_KEY, newName);
@@ -269,16 +283,28 @@ function ensureDrawer() {
     b.textContent = label;
     return b;
   };
-  const btnConfig = makeTabBtn('Configuracoes','tab-config'); btnConfig.classList.add('active');
-  const btnJson = makeTabBtn('JSON','tab-json');
-  const btnXml = makeTabBtn('XML','tab-xml');
-  const btnDebug = makeTabBtn('Debug','tab-debug');
-  tabbar.appendChild(btnConfig); tabbar.appendChild(btnJson); tabbar.appendChild(btnXml); tabbar.appendChild(btnDebug);
-
-  const paneConfig = document.createElement('div'); paneConfig.id = 'tab-config'; paneConfig.className = 'tab-pane active';
-  const paneJson = document.createElement('div'); paneJson.id = 'tab-json'; paneJson.className = 'tab-pane';
-  const paneXml = document.createElement('div'); paneXml.id = 'tab-xml'; paneXml.className = 'tab-pane';
-  const paneDebug = document.createElement('div'); paneDebug.id = 'tab-debug'; paneDebug.className = 'tab-pane';
+  const btnConfig = makeTabBtn('Configuracoes', 'tab-config');
+  btnConfig.classList.add('active');
+  const btnJson = makeTabBtn('JSON', 'tab-json');
+  const btnXml = makeTabBtn('XML', 'tab-xml');
+  const btnDebug = makeTabBtn('Debug', 'tab-debug');
+  tabbar.appendChild(btnConfig);
+  tabbar.appendChild(btnJson);
+  tabbar.appendChild(btnXml);
+  tabbar.appendChild(btnDebug);
+
+  const paneConfig = document.createElement('div');
+  paneConfig.id = 'tab-config';
+  paneConfig.className = 'tab-pane active';
+  const paneJson = document.createElement('div');
+  paneJson.id = 'tab-json';
+  paneJson.className = 'tab-pane';
+  const paneXml = document.createElement('div');
+  paneXml.id = 'tab-xml';
+  paneXml.className = 'tab-pane';
+  const paneDebug = document.createElement('div');
+  paneDebug.id = 'tab-debug';
+  paneDebug.className = 'tab-pane';
 
   body.appendChild(tabbar);
   body.appendChild(paneConfig);
@@ -291,9 +317,9 @@ function ensureDrawer() {
     const btn = e.target.closest('.tab-btn');
     if (!btn) return;
     const tab = btn.getAttribute('data-tab');
-    tabbar.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
+    tabbar.querySelectorAll('.tab-btn').forEach((b) => b.classList.remove('active'));
     btn.classList.add('active');
-    [paneConfig, paneJson, paneXml, paneDebug].forEach(p => p.classList.remove('active'));
+    [paneConfig, paneJson, paneXml, paneDebug].forEach((p) => p.classList.remove('active'));
     const target = body.querySelector(`#${tab}`);
     if (target) target.classList.add('active');
   });
@@ -341,7 +367,11 @@ function arrangePanel() {
         const hasJson = node.querySelector && node.querySelector('#json-output');
         const hasXml = node.querySelector && node.querySelector('#xml-output');
         const hasPrint = node.querySelector && node.querySelector('#print-html');
-        const hasDebug = node.querySelector && (node.querySelector('#debug-invalid') || node.querySelector('#debug-alerts') || node.querySelector('#debug-matricula-base'));
+        const hasDebug =
+          node.querySelector &&
+          (node.querySelector('#debug-invalid') ||
+            node.querySelector('#debug-alerts') ||
+            node.querySelector('#debug-matricula-base'));
         if (hasJson && paneJson) paneJson.appendChild(node);
         else if (hasXml && paneXml) paneXml.appendChild(node);
         else if (hasPrint && paneXml) paneXml.appendChild(node);
@@ -373,7 +403,7 @@ function setupActSelect() {
     const map = {
       nascimento: './Nascimento2Via.html',
       casamento: './Casamento2Via.html',
-      obito: './Obito2Via.html'
+      obito: './Obito2Via.html',
     };
     const next = map[select.value];
     if (next) window.location.href = next;
@@ -384,53 +414,58 @@ function populateOrgaoAndUf() {
   // opções de órgãos (copiado do template HTML)
   const orgaos = [
     ['', ''],
-    ['7','CONSELHO REGIONAL DE ADMINISTRACAO'],
-    ['8','CONSELHO REGIONAL DE ASSISTENCIA SOCIAL'],
-    ['9','CONSELHO REGIONAL DE BIBLIOTECONOMIA'],
-    ['28','CONSELHO REGIONAL DE BIOLOGIA'],
-    ['10','CONSELHO REGIONAL DE CONTABILIDADE'],
-    ['11','CONSELHO REGIONAL DE CORRETORES IMOVEIS'],
-    ['12','CONSELHO REGIONAL DE ECONOMIA'],
-    ['13','CONSELHO REGIONAL DE ENFERMAGEM'],
-    ['14','CONSELHO REGIONAL DE ENGENHARIA E ARQUITETURA'],
-    ['15','CONSELHO REGIONAL DE ESTATISTICA'],
-    ['16','CONSELHO REGIONAL DE FARMACIA'],
-    ['17','CONSELHO REGIONAL DE FISIOTERAPIA E TERAPIA'],
-    ['29','CONSELHO REGIONAL DE FONAUDIOLOGIA'],
-    ['18','CONSELHO REGIONAL DE MEDICINA'],
-    ['19','CONSELHO REGIONAL DE MEDICINA VETERINÁRIA'],
-    ['21','CONSELHO REGIONAL DE NUTRICAO'],
-    ['22','CONSELHO REGIONAL DE ODONTOLOGIA'],
-    ['24','CONSELHO REGIONAL DE PSICOLOGIA'],
-    ['25','CONSELHO REGIONAL DE QUIMICA'],
-    ['23','CONSELHO REGIONAL DE RELACOES PUBLICAS'],
-    ['30','CONSELHO REGIONAL DE SERVICO SOCIAL'],
-    ['31','CONSELHO REGIONAL DE TECNICOS EM RADIOLOGIA'],
-    ['26','CONSELHO REGIONAL DOS ESCRITORES'],
-    ['34','CORPO DE BOMBEIROS'],
-    ['32','DEPARTAMENTO ESTADUAL DE TRANSITO'],
-    ['4','MINISTERIO DA AERONATICA'],
-    ['3','MINISTERIO DA DEFESA'],
-    ['5','MINISTERIO DA MARINHA'],
-    ['1','NAO INFORMADO'],
-    ['27','ORDEM DOS ADVOGADOS DO BRASIL'],
-    ['20','ORDEM DOS MUSICOS DO BRASIL'],
-    ['36','POLICIA CIVIL'],
-    ['6','POLICIA FEDERAL'],
-    ['33','POLICIA MILITAR'],
-    ['38','SECRETARIA DE DEFESA SOCIAL'],
-    ['37','SECRETARIA DE ESTADO DA DEFESA SOCIAL/AL'],
-    ['2','SECRETARIA DE SEGURANCA PUBLICA'],
-    ['35','SECRETARIA DO ESTADO DA CASA CIVIL']
+    ['7', 'CONSELHO REGIONAL DE ADMINISTRACAO'],
+    ['8', 'CONSELHO REGIONAL DE ASSISTENCIA SOCIAL'],
+    ['9', 'CONSELHO REGIONAL DE BIBLIOTECONOMIA'],
+    ['28', 'CONSELHO REGIONAL DE BIOLOGIA'],
+    ['10', 'CONSELHO REGIONAL DE CONTABILIDADE'],
+    ['11', 'CONSELHO REGIONAL DE CORRETORES IMOVEIS'],
+    ['12', 'CONSELHO REGIONAL DE ECONOMIA'],
+    ['13', 'CONSELHO REGIONAL DE ENFERMAGEM'],
+    ['14', 'CONSELHO REGIONAL DE ENGENHARIA E ARQUITETURA'],
+    ['15', 'CONSELHO REGIONAL DE ESTATISTICA'],
+    ['16', 'CONSELHO REGIONAL DE FARMACIA'],
+    ['17', 'CONSELHO REGIONAL DE FISIOTERAPIA E TERAPIA'],
+    ['29', 'CONSELHO REGIONAL DE FONAUDIOLOGIA'],
+    ['18', 'CONSELHO REGIONAL DE MEDICINA'],
+    ['19', 'CONSELHO REGIONAL DE MEDICINA VETERINÁRIA'],
+    ['21', 'CONSELHO REGIONAL DE NUTRICAO'],
+    ['22', 'CONSELHO REGIONAL DE ODONTOLOGIA'],
+    ['24', 'CONSELHO REGIONAL DE PSICOLOGIA'],
+    ['25', 'CONSELHO REGIONAL DE QUIMICA'],
+    ['23', 'CONSELHO REGIONAL DE RELACOES PUBLICAS'],
+    ['30', 'CONSELHO REGIONAL DE SERVICO SOCIAL'],
+    ['31', 'CONSELHO REGIONAL DE TECNICOS EM RADIOLOGIA'],
+    ['26', 'CONSELHO REGIONAL DOS ESCRITORES'],
+    ['34', 'CORPO DE BOMBEIROS'],
+    ['32', 'DEPARTAMENTO ESTADUAL DE TRANSITO'],
+    ['4', 'MINISTERIO DA AERONATICA'],
+    ['3', 'MINISTERIO DA DEFESA'],
+    ['5', 'MINISTERIO DA MARINHA'],
+    ['1', 'NAO INFORMADO'],
+    ['27', 'ORDEM DOS ADVOGADOS DO BRASIL'],
+    ['20', 'ORDEM DOS MUSICOS DO BRASIL'],
+    ['36', 'POLICIA CIVIL'],
+    ['6', 'POLICIA FEDERAL'],
+    ['33', 'POLICIA MILITAR'],
+    ['38', 'SECRETARIA DE DEFESA SOCIAL'],
+    ['37', 'SECRETARIA DE ESTADO DA DEFESA SOCIAL/AL'],
+    ['2', 'SECRETARIA DE SEGURANCA PUBLICA'],
+    ['35', 'SECRETARIA DO ESTADO DA CASA CIVIL'],
   ];
 
-  const orgIds = ['orgaoExpedidorRG','orgaoExpedidorPIS','orgaoExpedidorPassaporte','orgaoExpedidorCNS'];
-  orgIds.forEach(id => {
+  const orgIds = [
+    'orgaoExpedidorRG',
+    'orgaoExpedidorPIS',
+    'orgaoExpedidorPassaporte',
+    'orgaoExpedidorCNS',
+  ];
+  orgIds.forEach((id) => {
     const el = document.getElementById(id);
     if (!el) return;
     // limpamos possíveis opções duplicadas antes de popular
     el.innerHTML = '';
-    orgaos.forEach(pair => {
+    orgaos.forEach((pair) => {
       const o = document.createElement('option');
       o.value = pair[0];
       o.textContent = pair[1];
@@ -442,8 +477,40 @@ function populateOrgaoAndUf() {
   const ufSelect = document.getElementById('ufTitulo');
   if (ufSelect) {
     ufSelect.innerHTML = '';
-    const ufs = ['','AC','AL','AP','AM','BA','BR','CE','DF','ES','ET','GO','IG','MA','MT','MS','MG','PA','PB','PR','PE','PI','RJ','RN','RS','RO','RR','SC','SP','SE','TO'];
-    ufs.forEach(u => {
+    const ufs = [
+      '',
+      'AC',
+      'AL',
+      'AP',
+      'AM',
+      'BA',
+      'BR',
+      'CE',
+      'DF',
+      'ES',
+      'ET',
+      'GO',
+      'IG',
+      'MA',
+      'MT',
+      'MS',
+      'MG',
+      'PA',
+      'PB',
+      'PR',
+      'PE',
+      'PI',
+      'RJ',
+      'RN',
+      'RS',
+      'RO',
+      'RR',
+      'SC',
+      'SP',
+      'SE',
+      'TO',
+    ];
+    ufs.forEach((u) => {
       const o = document.createElement('option');
       o.value = u;
       o.textContent = u;
@@ -459,11 +526,11 @@ function yearFromDate(value) {
 }
 
 function updateDebug(data) {
-  const cns = document.querySelector('input[name=\"certidao.cartorio_cns\"]')?.value || '';
-  const ano = yearFromDate(document.querySelector('input[name=\"dataTermo\"]')?.value || '');
-  const livro = document.querySelector('input[name=\"livro\"]')?.value || '';
-  const folha = document.querySelector('input[name=\"folha\"]')?.value || '';
-  const termo = document.querySelector('input[name=\"termo\"]')?.value || '';
+  const cns = document.querySelector('input[name="certidao.cartorio_cns"]')?.value || '';
+  const ano = yearFromDate(document.querySelector('input[name="dataTermo"]')?.value || '');
+  const livro = document.querySelector('input[name="livro"]')?.value || '';
+  const folha = document.querySelector('input[name="folha"]')?.value || '';
+  const termo = document.querySelector('input[name="termo"]')?.value || '';
   const base = buildMatriculaBase30({
     cns6: cns,
     ano,
@@ -472,10 +539,13 @@ function updateDebug(data) {
     servico: '55',
     livro,
     folha,
-    termo
+    termo,
   });
   const dv = base ? calcDv2Digits(base) : '';
-  const final = base && dv ? base + dv : buildMatriculaFinal({ cns6: cns, ano, tipoAto: '4', livro, folha, termo });
+  const final =
+    base && dv
+      ? base + dv
+      : buildMatriculaFinal({ cns6: cns, ano, tipoAto: '4', livro, folha, termo });
 
   const baseEl = document.getElementById('debug-matricula-base');
   if (baseEl) baseEl.value = base || '';
@@ -500,15 +570,19 @@ function updateOutputs() {
   if (xmlEl) xmlEl.value = toXml(data, 'certidao_obito', 0);
   const printEl = document.getElementById('print-html');
   if (printEl) {
-    const assinante = document.querySelector('select[name="idAssinante"] option:checked')?.textContent || '';
+    const assinante =
+      document.querySelector('select[name="idAssinante"] option:checked')?.textContent || '';
     const tituloLivro = document.querySelector('input[name="tituloLivro"]')?.value || '';
     const cidadeMatch = /COMARCA DE\s+(.+)$/i.exec(tituloLivro);
-    const cidadeCartorio = (cidadeMatch ? cidadeMatch[1] : '') || document.querySelector('input[name="municipioObito"]')?.value || '';
+    const cidadeCartorio =
+      (cidadeMatch ? cidadeMatch[1] : '') ||
+      document.querySelector('input[name="municipioObito"]')?.value ||
+      '';
     const ufCartorio = document.querySelector('select[name="ufMunicipioObito"]')?.value || '';
     printEl.value = buildObitoPrintHtml(data, {
       assinante: assinante.trim(),
       cidadeCartorio: cidadeCartorio.trim(),
-      ufCartorio
+      ufCartorio,
     });
   }
   updateDebug(data);
@@ -535,7 +609,9 @@ function setupTogglePanels() {
 }
 
 function resolveField(input) {
-  return input.closest('td') || input.closest('.campo') || input.closest('.field') || input.parentElement;
+  return (
+    input.closest('td') || input.closest('.campo') || input.closest('.field') || input.parentElement
+  );
 }
 
 function setFieldHint(field, message) {
@@ -576,21 +652,25 @@ function setFieldHint(field, message) {
   }
 }
 
-function clearFieldHint(field) { setFieldHint(field, ''); }
+function clearFieldHint(field) {
+  setFieldHint(field, '');
+}
 
 function setupFocusEmphasis() {
   document.addEventListener('focusin', (e) => {
     const el = e.target;
     if (!(el instanceof HTMLElement)) return;
-    if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) {
-      try { el.scrollIntoView({behavior:'smooth', block:'center'}); } catch {}
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) {
+      try {
+        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
+      } catch (e) { void e;}
       el.classList.add('focus-emphasis');
     }
   });
   document.addEventListener('focusout', (e) => {
     const el = e.target;
     if (!(el instanceof HTMLElement)) return;
-    if (['INPUT','SELECT','TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
+    if (['INPUT', 'SELECT', 'TEXTAREA'].includes(el.tagName)) el.classList.remove('focus-emphasis');
   });
 }
 
@@ -652,45 +732,45 @@ function setupValidation() {
   const enableNameValidation = localStorage.getItem(ENABLE_NAME_KEY) !== 'false';
   if (enableNameValidation) {
     document.querySelectorAll('[data-name-validate]').forEach((input) => {
-    const field = resolveField(input);
-    const required = input.hasAttribute('data-required');
-    const handler = () => {
-      const res = validateName(input.value, { minWords: 2 });
-      const state = getFieldState({
-        required,
-        value: input.value,
-        isValid: !res.invalid,
-        warn: res.warn
-      });
-      applyState(input, field, state);
-    };
-    input.addEventListener('input', handler);
-    input.addEventListener('blur', handler);
-    // format CPF visually but don't validate on load
-    input.value = formatCpfInput(input.value);
+      const field = resolveField(input);
+      const required = input.hasAttribute('data-required');
+      const handler = () => {
+        const res = validateName(input.value, { minWords: 2 });
+        const state = getFieldState({
+          required,
+          value: input.value,
+          isValid: !res.invalid,
+          warn: res.warn,
+        });
+        applyState(input, field, state);
+      };
+      input.addEventListener('input', handler);
+      input.addEventListener('blur', handler);
+      // format CPF visually but don't validate on load
+      input.value = formatCpfInput(input.value);
     });
   }
 
   const enableCpfValidation = localStorage.getItem(ENABLE_CPF_KEY) !== 'false';
   if (enableCpfValidation) {
     document.querySelectorAll('input[data-cpf]').forEach((input) => {
-    const field = resolveField(input);
-    const required = input.hasAttribute('data-required');
-    const handler = () => {
-      input.value = formatCpfInput(input.value);
-      const digits = normalizeCpf(input.value);
-      const isValid = !digits || isValidCpf(digits);
-      const state = getFieldState({ required, value: digits ? input.value : '', isValid });
-      applyState(input, field, state);
-    };
-    input.addEventListener('input', handler);
-    input.addEventListener('blur', () => {
+      const field = resolveField(input);
+      const required = input.hasAttribute('data-required');
+      const handler = () => {
+        input.value = formatCpfInput(input.value);
+        const digits = normalizeCpf(input.value);
+        const isValid = !digits || isValidCpf(digits);
+        const state = getFieldState({ required, value: digits ? input.value : '', isValid });
+        applyState(input, field, state);
+      };
+      input.addEventListener('input', handler);
+      input.addEventListener('blur', () => {
+        handler();
+        const digits = normalizeCpf(input.value);
+        if (input.value && (!digits || !isValidCpf(digits))) setFieldHint(field, 'CPF inválido');
+        else clearFieldHint(field);
+      });
       handler();
-      const digits = normalizeCpf(input.value);
-      if (input.value && (!digits || !isValidCpf(digits))) setFieldHint(field, 'CPF inválido');
-      else clearFieldHint(field);
-    });
-    handler();
     });
   }
 
@@ -709,10 +789,14 @@ function setupValidation() {
   function updateActionButtons() {
     const invalids = collectInvalidFields(document);
     const disabled = !!(invalids && invalids.length > 0);
-    const btnJson = document.getElementById('btn-json'); if (btnJson) btnJson.disabled = disabled;
-    const btnXml = document.getElementById('btn-xml'); if (btnXml) btnXml.disabled = disabled;
-    const btnPrint = document.getElementById('btn-print'); if (btnPrint) btnPrint.disabled = disabled;
-    const statusEl = document.getElementById('statusText'); if (statusEl && !disabled) statusEl.textContent = 'Pronto';
+    const btnJson = document.getElementById('btn-json');
+    if (btnJson) btnJson.disabled = disabled;
+    const btnXml = document.getElementById('btn-xml');
+    if (btnXml) btnXml.disabled = disabled;
+    const btnPrint = document.getElementById('btn-print');
+    if (btnPrint) btnPrint.disabled = disabled;
+    const statusEl = document.getElementById('statusText');
+    if (statusEl && !disabled) statusEl.textContent = 'Pronto';
 
     // show inline summary near top of form
     let summary = document.getElementById('form-error-summary');
@@ -746,21 +830,31 @@ function setupValidation() {
       aria.setAttribute('role', 'status');
       document.body.appendChild(aria);
     }
-    aria.textContent = disabled ? `Existem ${invalids.length} campos inválidos: ${invalids.join(', ')}` : '';
+    aria.textContent = disabled
+      ? `Existem ${invalids.length} campos inválidos: ${invalids.join(', ')}`
+      : '';
   }
 
-  document.querySelectorAll('select[data-required], textarea[data-required], input[data-required]').forEach((input) => {
-    if (input.hasAttribute('data-date') || input.hasAttribute('data-time') || input.hasAttribute('data-cpf') || input.hasAttribute('data-name-validate')) return;
-    const field = resolveField(input);
-    const required = input.hasAttribute('data-required');
-    const handler = () => {
-      const state = getFieldState({ required, value: input.value, isValid: true });
-      applyState(input, field, state);
-    };
-    input.addEventListener('input', handler);
-    input.addEventListener('change', handler);
-    // do not run required-field handler on load to avoid marking all fields red
-  });
+  document
+    .querySelectorAll('select[data-required], textarea[data-required], input[data-required]')
+    .forEach((input) => {
+      if (
+        input.hasAttribute('data-date') ||
+        input.hasAttribute('data-time') ||
+        input.hasAttribute('data-cpf') ||
+        input.hasAttribute('data-name-validate')
+      )
+        return;
+      const field = resolveField(input);
+      const required = input.hasAttribute('data-required');
+      const handler = () => {
+        const state = getFieldState({ required, value: input.value, isValid: true });
+        applyState(input, field, state);
+      };
+      input.addEventListener('input', handler);
+      input.addEventListener('change', handler);
+      // do not run required-field handler on load to avoid marking all fields red
+    });
 }
 
 function setupNameValidation() {
@@ -864,7 +958,9 @@ function setup() {
   arrangePanel();
   setupDrawerToggle();
   setupActSelect();
-  setupPrimaryShortcut(() => document.getElementById('btn-json') || document.getElementById('btn-xml'));
+  setupPrimaryShortcut(
+    () => document.getElementById('btn-json') || document.getElementById('btn-xml'),
+  );
   setupTogglePanels();
   setupLiveOutputs();
   setupFocusEmphasis();
diff --git a/segundas-vias/ui/ts/acts/obito/printTemplate.ts b/segundas-vias/ui/ts/acts/obito/printTemplate.ts
index eaae948..f95ff44 100644
--- a/segundas-vias/ui/ts/acts/obito/printTemplate.ts
+++ b/segundas-vias/ui/ts/acts/obito/printTemplate.ts
@@ -1,28 +1,83 @@
-// @ts-nocheck
+
 import { normalizeDate } from '../../shared/validators/date.js';
 import { normalizeTime } from '../../shared/validators/time.js';
 
 const MONTHS = [
-  'JANEIRO', 'FEVEREIRO', 'MARCO', 'ABRIL', 'MAIO', 'JUNHO',
-  'JULHO', 'AGOSTO', 'SETEMBRO', 'OUTUBRO', 'NOVEMBRO', 'DEZEMBRO'
+  'JANEIRO',
+  'FEVEREIRO',
+  'MARCO',
+  'ABRIL',
+  'MAIO',
+  'JUNHO',
+  'JULHO',
+  'AGOSTO',
+  'SETEMBRO',
+  'OUTUBRO',
+  'NOVEMBRO',
+  'DEZEMBRO',
 ];
 
 const MONTHS_LONG = [
-  'Janeiro', 'Fevereiro', 'Marco', 'Abril', 'Maio', 'Junho',
-  'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'
+  'Janeiro',
+  'Fevereiro',
+  'Marco',
+  'Abril',
+  'Maio',
+  'Junho',
+  'Julho',
+  'Agosto',
+  'Setembro',
+  'Outubro',
+  'Novembro',
+  'Dezembro',
 ];
 
-const UNITS = ['ZERO','UM','DOIS','TRES','QUATRO','CINCO','SEIS','SETE','OITO','NOVE'];
-const TEENS = ['DEZ','ONZE','DOZE','TREZE','QUATORZE','QUINZE','DEZESSEIS','DEZESSETE','DEZOITO','DEZENOVE'];
-const TENS = ['', '', 'VINTE','TRINTA','QUARENTA','CINQUENTA','SESSENTA','SETENTA','OITENTA','NOVENTA'];
-const HUNDREDS = ['', 'CEM','DUZENTOS','TREZENTOS','QUATROCENTOS','QUINHENTOS','SEISCENTOS','SETECENTOS','OITOCENTOS','NOVECENTOS'];
+const UNITS = ['ZERO', 'UM', 'DOIS', 'TRES', 'QUATRO', 'CINCO', 'SEIS', 'SETE', 'OITO', 'NOVE'];
+const TEENS = [
+  'DEZ',
+  'ONZE',
+  'DOZE',
+  'TREZE',
+  'QUATORZE',
+  'QUINZE',
+  'DEZESSEIS',
+  'DEZESSETE',
+  'DEZOITO',
+  'DEZENOVE',
+];
+const TENS = [
+  '',
+  '',
+  'VINTE',
+  'TRINTA',
+  'QUARENTA',
+  'CINQUENTA',
+  'SESSENTA',
+  'SETENTA',
+  'OITENTA',
+  'NOVENTA',
+];
+const HUNDREDS = [
+  '',
+  'CEM',
+  'DUZENTOS',
+  'TREZENTOS',
+  'QUATROCENTOS',
+  'QUINHENTOS',
+  'SEISCENTOS',
+  'SETECENTOS',
+  'OITOCENTOS',
+  'NOVECENTOS',
+];
 
 function pad2(value) {
   return String(value).padStart(2, '0');
 }
 
 function normalizeUpper(value) {
-  return String(value || '').trim().toUpperCase();
+  return String(value || '')
+    .trim()
+    .toUpperCase();
 }
 
 function fallback(value, alt = 'NÃO CONSTA') {
@@ -88,7 +143,7 @@ function formatDatePieces(dateStr) {
   return {
     day: pad2(parts.day),
     month: pad2(parts.month),
-    year: String(parts.year)
+    year: String(parts.year),
   };
 }
 
@@ -118,17 +173,22 @@ function formatFilhos(registro) {
   const opcao = String(registro?.existencia_filhos_opcao || '').toLowerCase();
   const filhos = registro?.existencia_filhos?.filhos || [];
   if (opcao === 'texto') {
-    const texto = filhos.map((f) => f.texto).filter(Boolean).join('; ');
+    const texto = filhos
+      .map((f) => f.texto)
+      .filter(Boolean)
+      .join('; ');
     return texto ? texto : 'NÃO CONSTA';
   }
   if (opcao === 'sim') {
     if (!filhos.length) return 'SIM';
-    const items = filhos.map((f) => {
-      const nome = normalizeUpper(f.nome || '');
-      const idade = f.idade ? ` (${normalizeUpper(f.idade)})` : '';
-      const falecido = f.falecido ? ' FALECIDO' : '';
-      return `${nome}${idade}${falecido}`.trim();
-    }).filter(Boolean);
+    const items = filhos
+      .map((f) => {
+        const nome = normalizeUpper(f.nome || '');
+        const idade = f.idade ? ` (${normalizeUpper(f.idade)})` : '';
+        const falecido = f.falecido ? ' FALECIDO' : '';
+        return `${nome}${idade}${falecido}`.trim();
+      })
+      .filter(Boolean);
     return items.length ? items.join('; ') : 'SIM';
   }
   return 'NÃO CONSTA';
@@ -136,11 +196,13 @@ function formatFilhos(registro) {
 
 function formatAnotacoes(anotacoes) {
   if (!anotacoes || !anotacoes.length) return 'NÃO CONSTA';
-  return anotacoes.map((item) => {
-    const tipo = normalizeUpper(item.tipo);
-    const doc = normalizeUpper(item.documento);
-    return `${tipo}: ${doc}`;
-  }).join(' | ');
+  return anotacoes
+    .map((item) => {
+      const tipo = normalizeUpper(item.tipo);
+      const doc = normalizeUpper(item.documento);
+      return `${tipo}: ${doc}`;
+    })
+    .join(' | ');
 }
 
 function formatBens(value) {
@@ -154,7 +216,9 @@ export function buildObitoPrintHtml(data, opts = {}) {
   const registro = data?.registro || {};
   const certidao = data?.certidao || {};
   const now = new Date();
-  const cidadeCartorio = normalizeUpper(opts.cidadeCartorio || registro.municipio_falecimento || '');
+  const cidadeCartorio = normalizeUpper(
+    opts.cidadeCartorio || registro.municipio_falecimento || '',
+  );
   const ufCartorio = ufDisplay(opts.ufCartorio || registro.uf_falecimento || '');
   const assinante = normalizeUpper(opts.assinante || '');
   const enderecoCartorio = normalizeUpper(opts.enderecoCartorio || '');
@@ -165,7 +229,9 @@ export function buildObitoPrintHtml(data, opts = {}) {
   const dataRegistroExt = buildDateExtenso(registro.data_registro, registro.hora_falecimento);
   const dataRegistroParts = formatDatePieces(registro.data_registro);
 
-  const sexo = normalizeUpper(registro.sexo === 'outros' ? (registro.sexo_outros || 'OUTROS') : registro.sexo);
+  const sexo = normalizeUpper(
+    registro.sexo === 'outros' ? registro.sexo_outros || 'OUTROS' : registro.sexo,
+  );
   const estadoCivil = normalizeUpper(registro.estado_civil);
 
   const html = `<!DOCTYPE html>
@@ -197,7 +263,9 @@ export function buildObitoPrintHtml(data, opts = {}) {
   <input type="hidden" name="moeda" value="">
   <br><span style="font-size: 13pt; color: gray">CERTIDAO DE OBITO</span><br>
   <br> <span class="label">NOME&nbsp;</span><br>
-  <span style="font-size: 10pt; font-weight: bold">${fallback(normalizeUpper(registro.nome_completo))}</span><br>
+  <span style="font-size: 10pt; font-weight: bold">${fallback(
+    normalizeUpper(registro.nome_completo),
+  )}</span><br>
   <div style="width: 80%">
     <table class="tabela">
       <tr>
@@ -239,7 +307,10 @@ export function buildObitoPrintHtml(data, opts = {}) {
         <td>
           <fieldset>
             <legend class="label">Horario do falecimento</legend>
-            <div class="novomodelo">${fallback(normalizeTime(registro.hora_falecimento), 'N/C')} hora(s)</div>
+            <div class="novomodelo">${fallback(
+              normalizeTime(registro.hora_falecimento),
+              'N/C',
+            )} hora(s)</div>
           </fieldset>
         </td>
       </tr>
@@ -256,7 +327,9 @@ export function buildObitoPrintHtml(data, opts = {}) {
         <td>
           <fieldset>
             <legend class="label">Municipio de falecimento</legend>
-            <div class="novomodelo">${fallback(normalizeUpper(registro.municipio_falecimento))}</div>
+            <div class="novomodelo">${fallback(
+              normalizeUpper(registro.municipio_falecimento),
+            )}</div>
           </fieldset>
         </td>
         <td>
@@ -285,7 +358,9 @@ export function buildObitoPrintHtml(data, opts = {}) {
         <td>
           <fieldset>
             <legend class="label">Nome do ultimo conjuge ou convivente</legend>
-            <div class="novomodelo">${fallback(normalizeUpper(registro.nome_ultimo_conjuge_convivente))}</div>
+            <div class="novomodelo">${fallback(
+              normalizeUpper(registro.nome_ultimo_conjuge_convivente),
+            )}</div>
           </fieldset>
         </td>
       </tr>
@@ -320,7 +395,9 @@ export function buildObitoPrintHtml(data, opts = {}) {
         <td>
           <fieldset>
             <legend class="label">Municipio de naturalidade</legend>
-            <div class="novomodelo">${fallback(normalizeUpper(registro.municipio_naturalidade))}</div>
+            <div class="novomodelo">${fallback(
+              normalizeUpper(registro.municipio_naturalidade),
+            )}</div>
           </fieldset>
         </td>
         <td>
@@ -376,13 +453,17 @@ export function buildObitoPrintHtml(data, opts = {}) {
         <td>
           <fieldset>
             <legend class="label">Local de sepultamento / Cremacao</legend>
-            <div class="novomodelo">${fallback(normalizeUpper(registro.local_sepultamento_cremacao))}</div>
+            <div class="novomodelo">${fallback(
+              normalizeUpper(registro.local_sepultamento_cremacao),
+            )}</div>
           </fieldset>
         </td>
         <td>
           <fieldset>
             <legend class="label">Municipio</legend>
-            <div class="novomodelo">${fallback(normalizeUpper(registro.municipio_sepultamento_cremacao))}</div>
+            <div class="novomodelo">${fallback(
+              normalizeUpper(registro.municipio_sepultamento_cremacao),
+            )}</div>
           </fieldset>
         </td>
         <td>
@@ -451,7 +532,9 @@ export function buildObitoPrintHtml(data, opts = {}) {
         <td>
           <fieldset>
             <legend class="label">Anotacoes voluntarias de cadastro</legend>
-            <div class="novomodelo" style="font-size: 95% !important">${formatAnotacoes(registro.anotacoes_cadastro)}</div>
+            <div class="novomodelo" style="font-size: 95% !important">${formatAnotacoes(
+              registro.anotacoes_cadastro,
+            )}</div>
           </fieldset>
         </td>
       </tr>
diff --git a/segundas-vias/ui/ts/dom.ts b/segundas-vias/ui/ts/dom.ts
index 6cd201f..663c903 100644
--- a/segundas-vias/ui/ts/dom.ts
+++ b/segundas-vias/ui/ts/dom.ts
@@ -29,5 +29,3 @@ export function setVisible(el, visible) {
   el.style.display = visible ? '' : 'none';
   el.classList.toggle('visible', !!visible);
 }
-
-
diff --git a/segundas-vias/ui/ts/events.ts b/segundas-vias/ui/ts/events.ts
index 1dbd793..9b4283e 100644
--- a/segundas-vias/ui/ts/events.ts
+++ b/segundas-vias/ui/ts/events.ts
@@ -13,7 +13,7 @@ import {
   normalizeCpfValue,
   formatCpf,
   formatDateInput,
-  formatTimeInput
+  formatTimeInput,
 } from './state.js';
 import { validateData, setupMasks, isValidDate, isValidTime } from './validators.js';
 import { createNameValidator } from './nameValidator.js';
@@ -113,7 +113,7 @@ function rememberNaturalidadeEdit() {
   naturalidadeEdited = true;
   naturalidadeMemo = {
     city: trimValue(state.registro.municipio_naturalidade),
-    uf: trimValue(state.registro.uf_naturalidade)
+    uf: trimValue(state.registro.uf_naturalidade),
   };
 }
 
@@ -146,8 +146,13 @@ function updateNaturalidadeVisibility(fromToggle) {
   if (copyBtn) copyBtn.disabled = !isDifferent;
   const labelCity = byId('label-municipio-principal');
   const labelUf = byId('label-uf-principal');
-  if (labelCity) setText(labelCity, isDifferent ? 'Municipio de nascimento' : 'Municipio (nascimento e naturalidade)');
-  if (labelUf) setText(labelUf, isDifferent ? 'UF de nascimento' : 'UF (nascimento e naturalidade)');
+  if (labelCity)
+    setText(
+      labelCity,
+      isDifferent ? 'Municipio de nascimento' : 'Municipio (nascimento e naturalidade)',
+    );
+  if (labelUf)
+    setText(labelUf, isDifferent ? 'UF de nascimento' : 'UF (nascimento e naturalidade)');
 
   if (!fromToggle) return;
   if (isDifferent) {
@@ -160,7 +165,7 @@ function updateNaturalidadeVisibility(fromToggle) {
   } else {
     naturalidadeMemo = {
       city: trimValue(state.registro.municipio_naturalidade),
-      uf: trimValue(state.registro.uf_naturalidade)
+      uf: trimValue(state.registro.uf_naturalidade),
     };
     syncNaturalidadeLockedToBirth();
   }
@@ -194,7 +199,7 @@ const CNS_CARTORIOS = {
   '12': '110064',
   '13': '109736',
   '14': '110635',
-  '15': '110072'
+  '15': '110072',
 };
 
 function digitsOnly(value) {
@@ -397,7 +402,9 @@ function toXml(obj, nodeName, indent = 0) {
   if (obj === null || obj === undefined) return `${pad}<${nodeName}></${nodeName}>`;
   if (typeof obj !== 'object') return `${pad}<${nodeName}>${escapeXml(obj)}</${nodeName}>`;
   if (Array.isArray(obj)) return obj.map((item) => toXml(item, nodeName, indent)).join('\n');
-  const children = Object.keys(obj).map((key) => toXml(obj[key], key, indent + 1)).join('\n');
+  const children = Object.keys(obj)
+    .map((key) => toXml(obj[key], key, indent + 1))
+    .join('\n');
   return `${pad}<${nodeName}>\n${children}\n${pad}</${nodeName}>`;
 }
 
@@ -413,7 +420,7 @@ function downloadFile(name, content, mime) {
     a.remove();
     URL.revokeObjectURL(url);
     return true;
-  } catch {
+  } catch (e) { void e;
     return false;
   }
 }
@@ -423,7 +430,13 @@ const draftKey = 'draft_certidao';
 
 async function saveDraft() {
   const data = normalizeData();
-  if (!validateData(data, setStatus, { tipoRegistro: state.certidao.tipo_registro, casamentoTipo: state.ui.casamento_tipo })) return;
+  if (
+    !validateData(data, setStatus, {
+      tipoRegistro: state.certidao.tipo_registro,
+      casamentoTipo: state.ui.casamento_tipo,
+    })
+  )
+    return;
   recordPlaceMappingFromState();
   try {
     if (window.api && window.api.dbSaveDraft) {
@@ -431,7 +444,7 @@ async function saveDraft() {
         id: lastSavedId || null,
         data,
         sourceFormat: 'manual',
-        kind: data.certidao.tipo_registro || 'nascimento'
+        kind: data.certidao.tipo_registro || 'nascimento',
       });
       if (res && res.id) lastSavedId = res.id;
     } else {
@@ -440,14 +453,20 @@ async function saveDraft() {
     lastSavedSnapshot = computeSnapshot();
     setDirty(false);
     setStatus('Salvo');
-  } catch {
+  } catch (e) { void e;
     setStatus('Falha ao salvar', true);
   }
 }
 
 async function generateFile(format) {
   const data = normalizeData();
-  if (!validateData(data, setStatus, { tipoRegistro: state.certidao.tipo_registro, casamentoTipo: state.ui.casamento_tipo })) return;
+  if (
+    !validateData(data, setStatus, {
+      tipoRegistro: state.certidao.tipo_registro,
+      casamentoTipo: state.ui.casamento_tipo,
+    })
+  )
+    return;
   const ext = format === 'xml' ? 'xml' : 'json';
   const name = buildFileName(data, ext);
   let content = '';
@@ -472,7 +491,7 @@ async function generateFile(format) {
         setStatus('API indisponivel', true);
       }
     }
-  } catch {
+  } catch (e) { void e;
     setStatus('Falha ao gerar arquivo', true);
   }
 }
@@ -541,7 +560,7 @@ async function refreshConfig() {
     const xmlEl = byId('xml-dir');
     if (jsonEl) jsonEl.value = currentDirs.jsonDir;
     if (xmlEl) xmlEl.value = currentDirs.xmlDir;
-  } catch {
+  } catch (e) { void e;
     setStatus('Falha ao ler config', true);
   }
 }
@@ -597,8 +616,12 @@ function recordPlaceMappingFromState(placeTextOverride) {
   if (!placeText) return;
   const cityBirth = trimValue(state.registro.municipio_nascimento);
   const ufBirth = trimValue(state.registro.uf_nascimento).toUpperCase();
-  const cityNatural = state.ui.naturalidade_diferente ? trimValue(state.registro.municipio_naturalidade) : '';
-  const ufNatural = state.ui.naturalidade_diferente ? trimValue(state.registro.uf_naturalidade).toUpperCase() : '';
+  const cityNatural = state.ui.naturalidade_diferente
+    ? trimValue(state.registro.municipio_naturalidade)
+    : '';
+  const ufNatural = state.ui.naturalidade_diferente
+    ? trimValue(state.registro.uf_naturalidade).toUpperCase()
+    : '';
   if (!cityBirth || !ufBirth) return;
   placeCache.recordMapping({ placeText, cityBirth, ufBirth, cityNatural, ufNatural });
 }
@@ -631,7 +654,7 @@ function setupActSelect() {
     const map = {
       nascimento: './Nascimento2Via.html',
       casamento: './Casamento2Via.html',
-      obito: './Obito2Via.html'
+      obito: './Obito2Via.html',
     };
     const next = map[value];
     if (next) window.location.href = next;
@@ -657,7 +680,9 @@ function setupCartorioTyping() {
       e.preventDefault();
       buffer += key;
       if (timer) clearTimeout(timer);
-      timer = setTimeout(() => { buffer = ''; }, 700);
+      timer = setTimeout(() => {
+        buffer = '';
+      }, 700);
 
       const match = Array.from(select.options).find((opt) => opt.value === buffer);
       if (match) {
@@ -761,7 +786,9 @@ function showToast(message) {
   toast.className = 'toast';
   toast.textContent = message;
   container.appendChild(toast);
-  setTimeout(() => { toast.classList.add('show'); }, 10);
+  setTimeout(() => {
+    toast.classList.add('show');
+  }, 10);
   setTimeout(() => {
     toast.classList.remove('show');
     setTimeout(() => toast.remove(), 200);
@@ -778,15 +805,24 @@ function setupBeforeUnload() {
 
 function onPathChange(path) {
   if (path === 'registro.sexo') updateSexoOutros();
-  if (path === 'registro.data_nascimento_ignorada' || path === 'registro.hora_nascimento_ignorada') updateIgnoreFields();
+  if (path === 'registro.data_nascimento_ignorada' || path === 'registro.hora_nascimento_ignorada')
+    updateIgnoreFields();
   if (path === 'registro.cpf') updateCpfState();
   if (path === 'registro.cpf_sem_inscricao') updateCpfFromToggle();
   if (path === 'ui.cartorio_oficio') applyCartorioChange();
   if (path === 'registro.data_registro') updateMatricula();
-  if (path === 'ui.casamento_tipo' || path === 'ui.matricula_livro' || path === 'ui.matricula_folha' || path === 'ui.matricula_termo') updateMatricula();
+  if (
+    path === 'ui.casamento_tipo' ||
+    path === 'ui.matricula_livro' ||
+    path === 'ui.matricula_folha' ||
+    path === 'ui.matricula_termo'
+  )
+    updateMatricula();
   if (path === 'ui.naturalidade_diferente') updateNaturalidadeVisibility(true);
-  if (path === 'registro.municipio_naturalidade' || path === 'registro.uf_naturalidade') rememberNaturalidadeEdit();
-  if (path === 'registro.municipio_nascimento' || path === 'registro.uf_nascimento') syncNaturalidadeLockedToBirth();
+  if (path === 'registro.municipio_naturalidade' || path === 'registro.uf_naturalidade')
+    rememberNaturalidadeEdit();
+  if (path === 'registro.municipio_nascimento' || path === 'registro.uf_nascimento')
+    syncNaturalidadeLockedToBirth();
   const liveInput = qs(`[data-bind="${path}"]`);
   if (liveInput) validateLiveField(path, liveInput);
   if (path === 'registro.cpf_sem_inscricao') {
@@ -820,7 +856,7 @@ async function bootstrap() {
     updateDirty,
     syncNaturalidadeLockedToBirth,
     copyBirthToNaturalidade,
-    recordPlaceMappingFromState
+    recordPlaceMappingFromState,
   });
   placeCache = placeAutofill.placeCache;
   placeAutofill.setupLocalAutofill();
@@ -839,4 +875,3 @@ async function bootstrap() {
 }
 
 bootstrap();
-
diff --git a/segundas-vias/ui/ts/nameValidator.ts b/segundas-vias/ui/ts/nameValidator.ts
index abf37b3..79e2ec7 100644
--- a/segundas-vias/ui/ts/nameValidator.ts
+++ b/segundas-vias/ui/ts/nameValidator.ts
@@ -1,18 +1,45 @@
-// @ts-nocheck
+
 import Papa from 'papaparse';
 import { stripAccents } from './placeAutofill/normalize.js';
 
 const DEFAULT_NAMES = [
-  'ana', 'antonio', 'beatriz', 'bruno', 'carlos', 'carla', 'cassio', 'celia',
-  'daniel', 'elisa', 'fernanda', 'gabriel', 'helena', 'joao', 'jose', 'juliana',
-  'larissa', 'lucas', 'luiz', 'maria', 'marcos', 'patricia', 'paulo', 'rafael',
-  'roberto', 'silvia', 'thiago'
+  'ana',
+  'antonio',
+  'beatriz',
+  'bruno',
+  'carlos',
+  'carla',
+  'cassio',
+  'celia',
+  'daniel',
+  'elisa',
+  'fernanda',
+  'gabriel',
+  'helena',
+  'joao',
+  'jose',
+  'juliana',
+  'larissa',
+  'lucas',
+  'luiz',
+  'maria',
+  'marcos',
+  'patricia',
+  'paulo',
+  'rafael',
+  'roberto',
+  'silvia',
+  'thiago',
 ];
 
 const NAME_PARTICLES = new Set(['da', 'de', 'do', 'das', 'dos', 'e']);
 
 function normalizeName(value) {
-  return stripAccents(String(value || '')).toLowerCase().replace(/[^a-z\s]+/g, ' ').replace(/\s+/g, ' ').trim();
+  return stripAccents(String(value || ''))
+    .toLowerCase()
+    .replace(/[^a-z\s]+/g, ' ')
+    .replace(/\s+/g, ' ')
+    .trim();
 }
 
 function tokenizeName(value) {
@@ -33,11 +60,7 @@ function levenshtein(a, b) {
   for (let i = 1; i <= alen; i++) {
     for (let j = 1; j <= blen; j++) {
       const cost = a[i - 1] === b[j - 1] ? 0 : 1;
-      dp[i][j] = Math.min(
-        dp[i - 1][j] + 1,
-        dp[i][j - 1] + 1,
-        dp[i - 1][j - 1] + cost
-      );
+      dp[i][j] = Math.min(dp[i - 1][j] + 1, dp[i][j - 1] + 1, dp[i - 1][j - 1] + cost);
     }
   }
   return dp[alen][blen];
@@ -67,13 +90,29 @@ async function fetchCsvText(path) {
 async function loadCsvData() {
   let nomesText = '';
   let gruposText = '';
-  const nomesPaths = ['/data/nomes.csv.gz', '/public/data/nomes.csv.gz', '/data/nomes.csv', '/public/data/nomes.csv'];
-  const gruposPaths = ['/data/grupos.csv.gz', '/public/data/grupos.csv.gz', '/data/grupos.csv', '/public/data/grupos.csv'];
+  const nomesPaths = [
+    '/data/nomes.csv.gz',
+    '/public/data/nomes.csv.gz',
+    '/data/nomes.csv',
+    '/public/data/nomes.csv',
+  ];
+  const gruposPaths = [
+    '/data/grupos.csv.gz',
+    '/public/data/grupos.csv.gz',
+    '/data/grupos.csv',
+    '/public/data/grupos.csv',
+  ];
   for (const p of nomesPaths) {
-    try { nomesText = await fetchCsvText(p); break; } catch (e) {}
+    try {
+      nomesText = await fetchCsvText(p);
+      break;
+    } catch (e) { /* ignore */ }
   }
   for (const p of gruposPaths) {
-    try { gruposText = await fetchCsvText(p); break; } catch (e) {}
+    try {
+      gruposText = await fetchCsvText(p);
+      break;
+    } catch (e) { /* ignore */ }
   }
   const nomes = Papa.parse(nomesText, { header: true, skipEmptyLines: true }).data || [];
   const grupos = Papa.parse(gruposText, { header: true, skipEmptyLines: true }).data || [];
@@ -98,7 +137,9 @@ function buildNameList(data) {
     if (row.name) set.add(row.name);
     splitPipeList(row.names).forEach((n) => set.add(n));
   });
-  return Array.from(set).map((n) => normalizeName(n)).filter(Boolean);
+  return Array.from(set)
+    .map((n) => normalizeName(n))
+    .filter(Boolean);
 }
 
 export class NameDictionaryRepository {
@@ -115,7 +156,7 @@ export class NameDictionaryRepository {
         return { schemaVersion: 1, entries: [] };
       }
       return parsed;
-    } catch {
+    } catch (e) { void e;
       return { schemaVersion: 1, entries: [] };
     }
   }
@@ -133,7 +174,7 @@ export class NameDictionaryRepository {
       value,
       normalized,
       addedAt: new Date().toISOString(),
-      source: 'user'
+      source: 'user',
     });
     this.save(data);
   }
@@ -209,7 +250,7 @@ export function createNameValidator(opts = {}) {
       // dynamic threshold: be more lenient for short names
       let effectiveThreshold = threshold;
       if (token.length <= 3) effectiveThreshold = 0.55;
-      else if (token.length <= 5) effectiveThreshold = 0.70;
+      else if (token.length <= 5) effectiveThreshold = 0.7;
       else if (token.length <= 7) effectiveThreshold = 0.78;
       if (score < effectiveThreshold) return { suspicious: true, token };
       return { suspicious: false, token: '' };
diff --git a/segundas-vias/ui/ts/placeAutofill/cache.ts b/segundas-vias/ui/ts/placeAutofill/cache.ts
index 6f4ee55..aee5c0d 100644
--- a/segundas-vias/ui/ts/placeAutofill/cache.ts
+++ b/segundas-vias/ui/ts/placeAutofill/cache.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { normalizeText, tokenize, stripCityUfSuffix } from './normalize.js';
 import { extractCityUfFromText } from './extractCityUf.js';
 
@@ -8,7 +8,7 @@ function getSafeStorage() {
     window.localStorage.setItem(key, '1');
     window.localStorage.removeItem(key);
     return window.localStorage;
-  } catch {
+  } catch (e) { void e;
     return null;
   }
 }
@@ -32,7 +32,7 @@ export function createKeyValueStore(opts = {}) {
       const fullKey = storageKeyPrefix + key;
       if (storage) storage.removeItem(fullKey);
       else memory.delete(fullKey);
-    }
+    },
   };
 }
 
@@ -51,7 +51,7 @@ export class LocalStoragePlaceCacheRepository {
         return { schemaVersion: 1, entries: [] };
       }
       return parsed;
-    } catch {
+    } catch (e) { void e;
       return { schemaVersion: 1, entries: [] };
     }
   }
@@ -59,7 +59,7 @@ export class LocalStoragePlaceCacheRepository {
   write(data) {
     try {
       this.store.setItem(this.storageKey, JSON.stringify(data));
-    } catch {}
+    } catch (e) { void e;}
   }
 }
 
@@ -68,7 +68,9 @@ function jaccard(aTokens, bTokens) {
   const b = new Set(bTokens || []);
   if (!a.size || !b.size) return 0;
   let inter = 0;
-  a.forEach((t) => { if (b.has(t)) inter++; });
+  a.forEach((t) => {
+    if (b.has(t)) inter++;
+  });
   const union = a.size + b.size - inter;
   return union === 0 ? 0 : inter / union;
 }
@@ -109,7 +111,7 @@ export class PlaceAutoFillCache {
         this.memoryData = data;
         return data;
       }
-    } catch {}
+    } catch (e) { void e;}
     return this.memoryData;
   }
 
@@ -117,7 +119,7 @@ export class PlaceAutoFillCache {
     this.memoryData = data;
     try {
       this.repo.write(data);
-    } catch {}
+    } catch (e) { void e;}
   }
 
   prune(data) {
@@ -185,7 +187,7 @@ export class PlaceAutoFillCache {
     }
 
     const nextEntry = {
-      id: (window.crypto && window.crypto.randomUUID) ? window.crypto.randomUUID() : String(now),
+      id: window.crypto && window.crypto.randomUUID ? window.crypto.randomUUID() : String(now),
       key,
       raw: placeText,
       normalized,
@@ -196,7 +198,7 @@ export class PlaceAutoFillCache {
       ufNatural: args.ufNatural || '',
       createdAt: now,
       updatedAt: now,
-      useCount: 1
+      useCount: 1,
     };
 
     data.entries = data.entries || [];
diff --git a/segundas-vias/ui/ts/placeAutofill/extractCityUf.ts b/segundas-vias/ui/ts/placeAutofill/extractCityUf.ts
index 4518011..2e57663 100644
--- a/segundas-vias/ui/ts/placeAutofill/extractCityUf.ts
+++ b/segundas-vias/ui/ts/placeAutofill/extractCityUf.ts
@@ -5,7 +5,7 @@ export function extractCityUfFromText(text) {
   const patterns = [
     /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s*\/\s*([A-Za-z]{2})\s*$/u,
     /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s*-\s*([A-Za-z]{2})\s*$/u,
-    /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s+([A-Za-z]{2})\s*$/u
+    /(?:^|[,;])\s*([\p{L}][\p{L}\s.'-]{1,})\s+([A-Za-z]{2})\s*$/u,
   ];
   for (const re of patterns) {
     const match = trimmed.match(re);
@@ -17,5 +17,3 @@ export function extractCityUfFromText(text) {
   }
   return null;
 }
-
-
diff --git a/segundas-vias/ui/ts/placeAutofill/index.ts b/segundas-vias/ui/ts/placeAutofill/index.ts
index 156488a..e466afd 100644
--- a/segundas-vias/ui/ts/placeAutofill/index.ts
+++ b/segundas-vias/ui/ts/placeAutofill/index.ts
@@ -34,8 +34,10 @@ export function createPlaceAutofill(opts) {
 
       const cityBirth = trimValue(entry.cityBirth);
       const ufBirth = trimValue(entry.ufBirth).toUpperCase();
-      if (force || !trimValue(state.registro.municipio_nascimento)) setBoundValue('registro.municipio_nascimento', cityBirth);
-      if (force || !trimValue(state.registro.uf_nascimento)) setBoundValue('registro.uf_nascimento', ufBirth);
+      if (force || !trimValue(state.registro.municipio_nascimento))
+        setBoundValue('registro.municipio_nascimento', cityBirth);
+      if (force || !trimValue(state.registro.uf_nascimento))
+        setBoundValue('registro.uf_nascimento', ufBirth);
       syncNaturalidadeLockedToBirth();
 
       if (allowNatural && state.ui.naturalidade_diferente) {
@@ -53,8 +55,12 @@ export function createPlaceAutofill(opts) {
       if (!placeText) return;
       const cityBirth = trimValue(state.registro.municipio_nascimento);
       const ufBirth = trimValue(state.registro.uf_nascimento).toUpperCase();
-      const cityNatural = state.ui.naturalidade_diferente ? trimValue(state.registro.municipio_naturalidade) : '';
-      const ufNatural = state.ui.naturalidade_diferente ? trimValue(state.registro.uf_naturalidade).toUpperCase() : '';
+      const cityNatural = state.ui.naturalidade_diferente
+        ? trimValue(state.registro.municipio_naturalidade)
+        : '';
+      const ufNatural = state.ui.naturalidade_diferente
+        ? trimValue(state.registro.uf_naturalidade).toUpperCase()
+        : '';
       if (!cityBirth || !ufBirth) return;
       placeCache.recordMapping({ placeText, cityBirth, ufBirth, cityNatural, ufNatural });
     }
@@ -111,8 +117,14 @@ export function createPlaceAutofill(opts) {
       recordPlaceMappingFromState();
     });
 
-    cityEl.addEventListener('input', () => { birthTouched = true; recordDebounced(); });
-    ufEl.addEventListener('change', () => { birthTouched = true; recordDebounced(); });
+    cityEl.addEventListener('input', () => {
+      birthTouched = true;
+      recordDebounced();
+    });
+    ufEl.addEventListener('change', () => {
+      birthTouched = true;
+      recordDebounced();
+    });
     natCityEl?.addEventListener('input', recordDebounced);
     natUfEl?.addEventListener('change', recordDebounced);
     copyBtn?.addEventListener('click', () => {
@@ -124,4 +136,3 @@ export function createPlaceAutofill(opts) {
 
   return { placeCache, setupLocalAutofill };
 }
-
diff --git a/segundas-vias/ui/ts/placeAutofill/normalize.ts b/segundas-vias/ui/ts/placeAutofill/normalize.ts
index ae5b5ca..3b3f2d6 100644
--- a/segundas-vias/ui/ts/placeAutofill/normalize.ts
+++ b/segundas-vias/ui/ts/placeAutofill/normalize.ts
@@ -26,7 +26,7 @@ const STOPWORDS = new Set([
   'são',
   'san',
   'dr',
-  'dra'
+  'dra',
 ]);
 
 export function tokenize(normalizedText) {
@@ -43,5 +43,3 @@ export function stripCityUfSuffix(value) {
     .replace(/\s*[,;]\s*[\p{L}][\p{L}\s.'-]{1,}\s*(?:\/|-|\s)\s*[A-Za-z]{2}\s*$/u, '')
     .trim();
 }
-
-
diff --git a/segundas-vias/ui/ts/placeAutofill/suggest.ts b/segundas-vias/ui/ts/placeAutofill/suggest.ts
index 0a68c2e..5e19c3d 100644
--- a/segundas-vias/ui/ts/placeAutofill/suggest.ts
+++ b/segundas-vias/ui/ts/placeAutofill/suggest.ts
@@ -7,5 +7,3 @@ export function buildSuggestionLabel(entry) {
   if (city && uf) return `${city}/${uf}`;
   return city || uf;
 }
-
-
diff --git a/segundas-vias/ui/ts/shared/documents/normalizeDocumento.ts b/segundas-vias/ui/ts/shared/documents/normalizeDocumento.ts
index cf5c4b7..e194edb 100644
--- a/segundas-vias/ui/ts/shared/documents/normalizeDocumento.ts
+++ b/segundas-vias/ui/ts/shared/documents/normalizeDocumento.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 export function normalizeDocumento(tipo, raw) {
   const value = String(raw || '').trim();
   if (!value) return '';
diff --git a/segundas-vias/ui/ts/shared/formatters/cpf.ts b/segundas-vias/ui/ts/shared/formatters/cpf.ts
index 4049f44..40ebaed 100644
--- a/segundas-vias/ui/ts/shared/formatters/cpf.ts
+++ b/segundas-vias/ui/ts/shared/formatters/cpf.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { formatCpf, normalizeCpf } from '../validators/cpf.js';
 
 export function formatCpfValue(raw) {
diff --git a/segundas-vias/ui/ts/shared/formatters/date.ts b/segundas-vias/ui/ts/shared/formatters/date.ts
index 6f630d6..f2ec05f 100644
--- a/segundas-vias/ui/ts/shared/formatters/date.ts
+++ b/segundas-vias/ui/ts/shared/formatters/date.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { normalizeDate } from '../validators/date.js';
 
 export function formatDateValue(raw) {
diff --git a/segundas-vias/ui/ts/shared/formatters/text.ts b/segundas-vias/ui/ts/shared/formatters/text.ts
index 44fa9c1..b232af0 100644
--- a/segundas-vias/ui/ts/shared/formatters/text.ts
+++ b/segundas-vias/ui/ts/shared/formatters/text.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 export function normalizeText(raw) {
   return String(raw || '')
     .replace(/\u00A0/g, ' ')
diff --git a/segundas-vias/ui/ts/shared/location/municipio.ts b/segundas-vias/ui/ts/shared/location/municipio.ts
index 2d8f684..e6a0fce 100644
--- a/segundas-vias/ui/ts/shared/location/municipio.ts
+++ b/segundas-vias/ui/ts/shared/location/municipio.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 export function normalizeMunicipio(raw) {
   return String(raw || '')
     .replace(/\u00A0/g, ' ')
diff --git a/segundas-vias/ui/ts/shared/location/uf.ts b/segundas-vias/ui/ts/shared/location/uf.ts
index 03db685..86915b5 100644
--- a/segundas-vias/ui/ts/shared/location/uf.ts
+++ b/segundas-vias/ui/ts/shared/location/uf.ts
@@ -1,13 +1,43 @@
-// @ts-nocheck
+
 const UF_LIST = new Set([
-  'AC','AL','AP','AM','BA','BR','CE','DF','ES','ET','GO','MA','MT','MS','MG',
-  'PA','PB','PR','PE','PI','RJ','RN','RS','RO','RR','SC','SP','SE','TO','IG'
+  'AC',
+  'AL',
+  'AP',
+  'AM',
+  'BA',
+  'BR',
+  'CE',
+  'DF',
+  'ES',
+  'ET',
+  'GO',
+  'MA',
+  'MT',
+  'MS',
+  'MG',
+  'PA',
+  'PB',
+  'PR',
+  'PE',
+  'PI',
+  'RJ',
+  'RN',
+  'RS',
+  'RO',
+  'RR',
+  'SC',
+  'SP',
+  'SE',
+  'TO',
+  'IG',
 ]);
 
 export function normalizeUf(raw, opts = {}) {
   const forceIg = !!opts.forceIg;
   const allowIg = opts.allowIg !== false;
-  const value = String(raw || '').trim().toUpperCase();
+  const value = String(raw || '')
+    .trim()
+    .toUpperCase();
   if (!value) return forceIg ? 'IG' : '';
   if (UF_LIST.has(value)) return value;
   if (allowIg && value === 'IG') return 'IG';
diff --git a/segundas-vias/ui/ts/shared/matricula/cnj.ts b/segundas-vias/ui/ts/shared/matricula/cnj.ts
index b9dc743..72b5d5d 100644
--- a/segundas-vias/ui/ts/shared/matricula/cnj.ts
+++ b/segundas-vias/ui/ts/shared/matricula/cnj.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 function digitsOnly(value) {
   return String(value || '').replace(/\D/g, '');
 }
diff --git a/segundas-vias/ui/ts/shared/productivity/index.ts b/segundas-vias/ui/ts/shared/productivity/index.ts
index 07e94bf..9ee66f1 100644
--- a/segundas-vias/ui/ts/shared/productivity/index.ts
+++ b/segundas-vias/ui/ts/shared/productivity/index.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 function lockInput(input) {
   if (!input) return;
   input.readOnly = true;
@@ -57,7 +57,9 @@ export function setupAutoNationality(selector, value) {
 export function setupCasamentoDates(opts = {}) {
   const dataTermo = document.querySelector(opts.dataTermoSelector || 'input[name="dataTermo"]');
   const tipo = document.querySelector(opts.tipoSelector || 'select[name="tipoCasamento"]');
-  const dataCasamento = document.querySelector(opts.dataCasamentoSelector || 'input[name="dataCasamento"]');
+  const dataCasamento = document.querySelector(
+    opts.dataCasamentoSelector || 'input[name="dataCasamento"]',
+  );
   const regime = document.querySelector(opts.regimeSelector || 'select[name="regimeBens"]');
   if (!dataTermo || !tipo || !dataCasamento || !regime) return;
 
diff --git a/segundas-vias/ui/ts/shared/ui/admin.ts b/segundas-vias/ui/ts/shared/ui/admin.ts
index f8417eb..6d0b9a5 100644
--- a/segundas-vias/ui/ts/shared/ui/admin.ts
+++ b/segundas-vias/ui/ts/shared/ui/admin.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 const SIGNERS_KEY = 'ui.admin.signers';
 
 function loadSigners() {
@@ -7,8 +7,10 @@ function loadSigners() {
     if (!raw) return [];
     const parsed = JSON.parse(raw);
     if (!Array.isArray(parsed)) return [];
-    return parsed.filter((item) => typeof item === 'string' && item.trim()).map((item) => item.trim());
-  } catch {
+    return parsed
+      .filter((item) => typeof item === 'string' && item.trim())
+      .map((item) => item.trim());
+  } catch (e) { void e;
     return [];
   }
 }
@@ -30,7 +32,9 @@ function buildSignerOption(name) {
 }
 
 function syncSignerSelects(signers) {
-  const selects = document.querySelectorAll('select[data-signer-select], select[name="idAssinante"]');
+  const selects = document.querySelectorAll(
+    'select[data-signer-select], select[name="idAssinante"]',
+  );
   selects.forEach((select) => {
     Array.from(select.options).forEach((opt) => {
       if (opt.dataset && opt.dataset.localSigner === '1') opt.remove();
@@ -110,7 +114,12 @@ export function setupAdminPanel() {
 // UI enhancements usable across pages
 function setupEditableDefaults() {
   document.querySelectorAll('[data-default]').forEach((el) => {
-    const input = el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement || el instanceof HTMLSelectElement ? el : null;
+    const input =
+      el instanceof HTMLInputElement ||
+      el instanceof HTMLTextAreaElement ||
+      el instanceof HTMLSelectElement
+        ? el
+        : null;
     if (!input) return;
     const def = String(input.getAttribute('data-default') || '').trim();
     if (!input.value) {
@@ -138,4 +147,8 @@ function setupEditableDefaults() {
 }
 
 // Auto-run basic UI enhancements when admin panel is set up
-try { setTimeout(() => setupEditableDefaults(), 50); } catch (e) { /* ignore */ }
+try {
+  setTimeout(() => setupEditableDefaults(), 50);
+} catch (e) {
+  /* ignore */
+}
diff --git a/segundas-vias/ui/ts/shared/ui/debug.ts b/segundas-vias/ui/ts/shared/ui/debug.ts
index e1835d8..1433b13 100644
--- a/segundas-vias/ui/ts/shared/ui/debug.ts
+++ b/segundas-vias/ui/ts/shared/ui/debug.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 export function getFieldLabel(input) {
   const field = input?.closest?.('.field') || input?.closest?.('.campo');
   if (!field) return input?.getAttribute?.('data-bind') || input?.name || input?.id || '';
diff --git a/segundas-vias/ui/ts/shared/ui/drawer.ts b/segundas-vias/ui/ts/shared/ui/drawer.ts
index 3c17e5d..6ff98aa 100644
--- a/segundas-vias/ui/ts/shared/ui/drawer.ts
+++ b/segundas-vias/ui/ts/shared/ui/drawer.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 export function setupDrawer(opts = {}) {
   const drawer = document.getElementById('drawer');
   const toggle = document.getElementById('drawer-toggle');
diff --git a/segundas-vias/ui/ts/shared/ui/fieldState.ts b/segundas-vias/ui/ts/shared/ui/fieldState.ts
index b7de340..ed07263 100644
--- a/segundas-vias/ui/ts/shared/ui/fieldState.ts
+++ b/segundas-vias/ui/ts/shared/ui/fieldState.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 export function getFieldState(args) {
   const required = !!args.required;
   const value = String(args.value || '').trim();
diff --git a/segundas-vias/ui/ts/shared/ui/mask.ts b/segundas-vias/ui/ts/shared/ui/mask.ts
index 909b407..966db45 100644
--- a/segundas-vias/ui/ts/shared/ui/mask.ts
+++ b/segundas-vias/ui/ts/shared/ui/mask.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 function digitsOnly(value) {
   return String(value || '').replace(/\D/g, '');
 }
diff --git a/segundas-vias/ui/ts/shared/validators/cpf.ts b/segundas-vias/ui/ts/shared/validators/cpf.ts
index c1b6721..e349758 100644
--- a/segundas-vias/ui/ts/shared/validators/cpf.ts
+++ b/segundas-vias/ui/ts/shared/validators/cpf.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 import { cpf as cpfValidator } from 'cpf-cnpj-validator';
 
 export function normalizeCpf(raw) {
diff --git a/segundas-vias/ui/ts/shared/validators/date.ts b/segundas-vias/ui/ts/shared/validators/date.ts
index 6ae9ee4..1793de7 100644
--- a/segundas-vias/ui/ts/shared/validators/date.ts
+++ b/segundas-vias/ui/ts/shared/validators/date.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 function pad2(value) {
   return String(value).padStart(2, '0');
 }
@@ -15,7 +15,7 @@ export function normalizeDate(raw) {
   const input = String(raw || '').trim();
   if (!input) return '';
 
-  const m = /^(\d{1,2})[\/-](\d{1,2})[\/-](\d{2,4})$/.exec(input);
+  const m = /^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})$/.exec(input);
   let day = '';
   let month = '';
   let year = '';
@@ -54,28 +54,48 @@ export function validateDateDetailed(raw) {
   let month = '';
   let year = '';
   if (m) {
-    day = m[1]; month = m[2]; year = m[3];
+    day = m[1];
+    month = m[2];
+    year = m[3];
   } else {
     const digits = input.replace(/\D/g, '');
     if (digits.length === 8) {
-      day = digits.slice(0,2); month = digits.slice(2,4); year = digits.slice(4,8);
+      day = digits.slice(0, 2);
+      month = digits.slice(2, 4);
+      year = digits.slice(4, 8);
     } else if (digits.length === 6) {
-      day = digits.slice(0,2); month = digits.slice(2,4); year = digits.slice(4,6);
+      day = digits.slice(0, 2);
+      month = digits.slice(2, 4);
+      year = digits.slice(4, 6);
     } else {
-        return { ok: false, code: 'FORMAT', message: 'Formato inválido — use DD/MM/AAAA (ex.: 31/12/2024)' };
+      return {
+        ok: false,
+        code: 'FORMAT',
+        message: 'Formato inválido — use DD/MM/AAAA (ex.: 31/12/2024)',
+      };
     }
   }
 
   const dd = Number(day);
   const mm = Number(month);
   const yyyy = toYear(year);
-  if (isNaN(mm) || mm < 1 || mm > 12) return { ok: false, code: 'MONTH', message: 'Mês inválido (01–12)' };
-  if (isNaN(dd) || dd < 1 || dd > 31) return { ok: false, code: 'DAY', message: 'Dia inválido (1–31)' };
+  if (isNaN(mm) || mm < 1 || mm > 12)
+    return { ok: false, code: 'MONTH', message: 'Mês inválido (01–12)' };
+  if (isNaN(dd) || dd < 1 || dd > 31)
+    return { ok: false, code: 'DAY', message: 'Dia inválido (1–31)' };
   const d = new Date(yyyy, mm - 1, dd);
   if (!(d.getFullYear() === yyyy && d.getMonth() === mm - 1 && d.getDate() === dd)) {
-    return { ok: false, code: 'NONEXISTENT', message: 'Data inexistente — verifique dia e mês (ex.: 31/02/2024 não existe)' };
+    return {
+      ok: false,
+      code: 'NONEXISTENT',
+      message: 'Data inexistente — verifique dia e mês (ex.: 31/02/2024 não existe)',
+    };
   }
-  return { ok: true, code: 'OK', message: `${String(dd).padStart(2,'0')}/${String(mm).padStart(2,'0')}/${yyyy}` };
+  return {
+    ok: true,
+    code: 'OK',
+    message: `${String(dd).padStart(2, '0')}/${String(mm).padStart(2, '0')}/${yyyy}`,
+  };
 }
 
 export function isValidDate(value) {
diff --git a/segundas-vias/ui/ts/shared/validators/name.ts b/segundas-vias/ui/ts/shared/validators/name.ts
index cf92bf3..8f674cc 100644
--- a/segundas-vias/ui/ts/shared/validators/name.ts
+++ b/segundas-vias/ui/ts/shared/validators/name.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 const NAME_RE = /^[A-Za-zÀ-ÿ' -]+$/;
 
 export function normalizeName(raw) {
diff --git a/segundas-vias/ui/ts/shared/validators/required.ts b/segundas-vias/ui/ts/shared/validators/required.ts
index 001f07e..afdd89c 100644
--- a/segundas-vias/ui/ts/shared/validators/required.ts
+++ b/segundas-vias/ui/ts/shared/validators/required.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 export function isRequiredFilled(value) {
   return String(value || '').trim().length > 0;
 }
diff --git a/segundas-vias/ui/ts/shared/validators/time.ts b/segundas-vias/ui/ts/shared/validators/time.ts
index 90f8aaa..dcb2812 100644
--- a/segundas-vias/ui/ts/shared/validators/time.ts
+++ b/segundas-vias/ui/ts/shared/validators/time.ts
@@ -1,4 +1,4 @@
-// @ts-nocheck
+
 function pad2(value) {
   return String(value).padStart(2, '0');
 }
diff --git a/segundas-vias/ui/ts/state.ts b/segundas-vias/ui/ts/state.ts
index 84f166f..1929546 100644
--- a/segundas-vias/ui/ts/state.ts
+++ b/segundas-vias/ui/ts/state.ts
@@ -13,7 +13,7 @@ export const state = {
     cod_selo: '',
     modalidade: 'eletronica',
     cota_emolumentos: '',
-    cota_emolumentos_isento: false
+    cota_emolumentos_isento: false,
   },
   registro: {
     nome_completo: '',
@@ -34,7 +34,7 @@ export const state = {
     sexo_outros: '',
     gemeos: { quantidade: '' },
     numero_dnv: '',
-    averbacao_anotacao: ''
+    averbacao_anotacao: '',
   },
   ui: {
     gemeos_irmao_raw: '',
@@ -54,8 +54,8 @@ export const state = {
     pai_uf: '',
     pai_cidade: '',
     pai_avo_paterna: '',
-    pai_avo_paterno: ''
-  }
+    pai_avo_paterno: '',
+  },
 };
 
 export function setByPath(obj, path, value) {
@@ -211,7 +211,11 @@ export function formatCpf(value) {
 
 export function parseLines(raw, mapper) {
   if (!raw) return [];
-  return raw.split(/\r?\n/).map((l) => l.trim()).filter(Boolean).map(mapper);
+  return raw
+    .split(/\r?\n/)
+    .map((l) => l.trim())
+    .filter(Boolean)
+    .map(mapper);
 }
 
 export function parseIrmaos(raw) {
@@ -229,7 +233,7 @@ export function parseAnotacoes(raw) {
       documento: trimValue(parts[1]),
       orgao_emissor: trimValue(parts[2]),
       uf_emissao: trimValue(parts[3]),
-      data_emissao: trimValue(parts[4])
+      data_emissao: trimValue(parts[4]),
     };
   });
 }
@@ -273,13 +277,25 @@ export function normalizeData() {
     cod_selo: trimValue(cert.cod_selo),
     modalidade: trimValue(cert.modalidade),
     cota_emolumentos: trimValue(cert.cota_emolumentos),
-    cota_emolumentos_isento: !!cert.cota_emolumentos_isento
+    cota_emolumentos_isento: !!cert.cota_emolumentos_isento,
   };
 
   const filiacao = [];
-  const mae = buildFiliacaoItem(state.ui.mae_nome, state.ui.mae_cidade, state.ui.mae_uf, state.ui.mae_avo_materna, state.ui.mae_avo_materno);
+  const mae = buildFiliacaoItem(
+    state.ui.mae_nome,
+    state.ui.mae_cidade,
+    state.ui.mae_uf,
+    state.ui.mae_avo_materna,
+    state.ui.mae_avo_materno,
+  );
   if (mae) filiacao.push(mae);
-  const pai = buildFiliacaoItem(state.ui.pai_nome, state.ui.pai_cidade, state.ui.pai_uf, state.ui.pai_avo_paterna, state.ui.pai_avo_paterno);
+  const pai = buildFiliacaoItem(
+    state.ui.pai_nome,
+    state.ui.pai_cidade,
+    state.ui.pai_uf,
+    state.ui.pai_avo_paterna,
+    state.ui.pai_avo_paterno,
+  );
   if (pai) filiacao.push(pai);
 
   const matriculaFull = trimValue(reg.matricula);
@@ -310,11 +326,14 @@ export function normalizeData() {
     municipio_nascimento: municipioNascimento,
     uf_nascimento: ufNascimento,
     sexo: trimValue(reg.sexo),
-    gemeos: { quantidade: trimValue(reg.gemeos.quantidade), irmao: parseIrmaos(state.ui.gemeos_irmao_raw) },
+    gemeos: {
+      quantidade: trimValue(reg.gemeos.quantidade),
+      irmao: parseIrmaos(state.ui.gemeos_irmao_raw),
+    },
     filiacao,
     numero_dnv: trimValue(reg.numero_dnv),
     averbacao_anotacao: trimValue(reg.averbacao_anotacao),
-    anotacoes_cadastro: parseAnotacoes(state.ui.anotacoes_raw)
+    anotacoes_cadastro: parseAnotacoes(state.ui.anotacoes_raw),
   };
 
   if (registro.sexo === 'outros') registro.sexo_outros = trimValue(reg.sexo_outros);
@@ -330,14 +349,19 @@ export function stripAccentsForFilename(value) {
 }
 
 export function normalizeFilePart(value, fallback) {
-  const clean = stripAccentsForFilename(value || '').toUpperCase().replace(/[^A-Z0-9]+/g, '_').replace(/^_+|_+$/g, '');
+  const clean = stripAccentsForFilename(value || '')
+    .toUpperCase()
+    .replace(/[^A-Z0-9]+/g, '_')
+    .replace(/^_+|_+$/g, '');
   return clean || fallback;
 }
 
 export function makeTimestamp() {
   const d = new Date();
   const pad = (n) => String(n).padStart(2, '0');
-  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;
+  return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}_${pad(d.getHours())}${pad(
+    d.getMinutes(),
+  )}${pad(d.getSeconds())}`;
 }
 
 export function buildFileName(data, ext) {
@@ -354,5 +378,3 @@ export function setMatriculaValue(value) {
   const matEl = byId('matricula');
   if (matEl) matEl.value = value || '';
 }
-
-
diff --git a/segundas-vias/ui/ts/validators.ts b/segundas-vias/ui/ts/validators.ts
index d908606..ad7f197 100644
--- a/segundas-vias/ui/ts/validators.ts
+++ b/segundas-vias/ui/ts/validators.ts
@@ -1,6 +1,11 @@
 ﻿// @ts-nocheck
 import { qs, qsa, byId } from './dom.js';
-import { normalizeDateValue, normalizeTimeValue, formatDateInput, formatTimeInput } from './state.js';
+import {
+  normalizeDateValue,
+  normalizeTimeValue,
+  formatDateInput,
+  formatTimeInput,
+} from './state.js';
 import { cpf as cpfValidator } from 'cpf-cnpj-validator';
 
 export function clearInvalid() {
@@ -33,18 +38,39 @@ export function isValidTime(value) {
 export function validateData(data, setStatus, context = {}) {
   clearInvalid();
   let ok = true;
-  if (!data.registro.nome_completo) { markInvalid('registro.nome_completo'); ok = false; }
-  if (!data.registro.sexo) { markInvalid('registro.sexo'); ok = false; }
-  if (!data.registro.uf_nascimento) { markInvalid('registro.uf_nascimento'); ok = false; }
-  if (!data.registro.local_nascimento) { markInvalid('registro.local_nascimento'); ok = false; }
-  if (!data.registro.municipio_nascimento) { markInvalid('registro.municipio_nascimento'); ok = false; }
-  if (!data.certidao.modalidade) { markInvalid('certidao.modalidade'); ok = false; }
+  if (!data.registro.nome_completo) {
+    markInvalid('registro.nome_completo');
+    ok = false;
+  }
+  if (!data.registro.sexo) {
+    markInvalid('registro.sexo');
+    ok = false;
+  }
+  if (!data.registro.uf_nascimento) {
+    markInvalid('registro.uf_nascimento');
+    ok = false;
+  }
+  if (!data.registro.local_nascimento) {
+    markInvalid('registro.local_nascimento');
+    ok = false;
+  }
+  if (!data.registro.municipio_nascimento) {
+    markInvalid('registro.municipio_nascimento');
+    ok = false;
+  }
+  if (!data.certidao.modalidade) {
+    markInvalid('certidao.modalidade');
+    ok = false;
+  }
   if (data.registro.sexo === 'outros' && !data.registro.sexo_outros) {
     markInvalid('registro.sexo_outros');
     ok = false;
   }
   const tipo = (context.tipoRegistro || data.certidao.tipo_registro || '').toLowerCase();
-  if ((tipo === 'nascimento' || tipo === 'casamento') && !normalizeDateValue(data.registro.data_registro)) {
+  if (
+    (tipo === 'nascimento' || tipo === 'casamento') &&
+    !normalizeDateValue(data.registro.data_registro)
+  ) {
     markInvalid('registro.data_registro');
     ok = false;
   }
@@ -52,16 +78,33 @@ export function validateData(data, setStatus, context = {}) {
     markInvalid('ui.casamento_tipo');
     ok = false;
   }
-  if (!isValidDate(data.registro.data_registro)) { markInvalid('registro.data_registro'); ok = false; }
-  if (!isValidDate(data.registro.data_nascimento)) { markInvalid('registro.data_nascimento'); ok = false; }
-  if (!isValidTime(data.registro.hora_nascimento)) { markInvalid('registro.hora_nascimento'); ok = false; }
-  if (!data.registro.cpf_sem_inscricao && !cpfValidator.isValid(data.registro.cpf)) { markInvalid('registro.cpf'); ok = false; }
-  if (!String(data.ui?.cartorio_oficio || '').trim()) { markInvalid('ui.cartorio_oficio'); ok = false; }
+  if (!isValidDate(data.registro.data_registro)) {
+    markInvalid('registro.data_registro');
+    ok = false;
+  }
+  if (!isValidDate(data.registro.data_nascimento)) {
+    markInvalid('registro.data_nascimento');
+    ok = false;
+  }
+  if (!isValidTime(data.registro.hora_nascimento)) {
+    markInvalid('registro.hora_nascimento');
+    ok = false;
+  }
+  if (!data.registro.cpf_sem_inscricao && !cpfValidator.isValid(data.registro.cpf)) {
+    markInvalid('registro.cpf');
+    ok = false;
+  }
+  if (!String(data.ui?.cartorio_oficio || '').trim()) {
+    markInvalid('ui.cartorio_oficio');
+    ok = false;
+  }
   if (!ok && setStatus) setStatus('Campos obrigatorios pendentes', true);
   return ok;
 }
 
-function digitsOnly(v) { return (v || '').replace(/\D/g, ''); }
+function digitsOnly(v) {
+  return (v || '').replace(/\D/g, '');
+}
 
 function maskDate(el) {
   el.value = formatDateInput(el.value);
@@ -87,5 +130,3 @@ export function setupMasks() {
   attachMask(byId('dn'), 'date');
   attachMask(byId('hn'), 'time');
 }
-
-
diff --git a/temp-editor b/temp-editor
--- a/temp-editor
+++ b/temp-editor
@@ -1 +1 @@
-Subproject commit ccde0f6cae054d961d08ffc888c67ab32165268f
+Subproject commit ccde0f6cae054d961d08ffc888c67ab32165268f-dirty
